import {
  __commonJS
} from "./chunk-J43GMYXM.js";

// ../../node_modules/.pnpm/@algolia+recommend@4.14.3/node_modules/@algolia/recommend/dist/recommend.umd.js
var require_recommend_umd = __commonJS({
  "../../node_modules/.pnpm/@algolia+recommend@4.14.3/node_modules/@algolia/recommend/dist/recommend.umd.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = e || self)["@algolia/recommend"] = t();
    }(exports, function() {
      "use strict";
      function e(e2, t2, r2) {
        return t2 in e2 ? Object.defineProperty(e2, t2, { value: r2, enumerable: true, configurable: true, writable: true }) : e2[t2] = r2, e2;
      }
      function t(e2, t2) {
        var r2 = Object.keys(e2);
        if (Object.getOwnPropertySymbols) {
          var n2 = Object.getOwnPropertySymbols(e2);
          t2 && (n2 = n2.filter(function(t3) {
            return Object.getOwnPropertyDescriptor(e2, t3).enumerable;
          })), r2.push.apply(r2, n2);
        }
        return r2;
      }
      function r(r2) {
        for (var n2 = 1; n2 < arguments.length; n2++) {
          var o2 = null != arguments[n2] ? arguments[n2] : {};
          n2 % 2 ? t(Object(o2), true).forEach(function(t2) {
            e(r2, t2, o2[t2]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r2, Object.getOwnPropertyDescriptors(o2)) : t(Object(o2)).forEach(function(e2) {
            Object.defineProperty(r2, e2, Object.getOwnPropertyDescriptor(o2, e2));
          });
        }
        return r2;
      }
      function n(e2, t2) {
        return function(e3) {
          if (Array.isArray(e3))
            return e3;
        }(e2) || function(e3, t3) {
          if (!(Symbol.iterator in Object(e3) || "[object Arguments]" === Object.prototype.toString.call(e3)))
            return;
          var r2 = [], n2 = true, o2 = false, a2 = void 0;
          try {
            for (var u2, i2 = e3[Symbol.iterator](); !(n2 = (u2 = i2.next()).done) && (r2.push(u2.value), !t3 || r2.length !== t3); n2 = true)
              ;
          } catch (e4) {
            o2 = true, a2 = e4;
          } finally {
            try {
              n2 || null == i2.return || i2.return();
            } finally {
              if (o2)
                throw a2;
            }
          }
          return r2;
        }(e2, t2) || function() {
          throw new TypeError("Invalid attempt to destructure non-iterable instance");
        }();
      }
      function o(e2) {
        return function(e3) {
          if (Array.isArray(e3)) {
            for (var t2 = 0, r2 = new Array(e3.length); t2 < e3.length; t2++)
              r2[t2] = e3[t2];
            return r2;
          }
        }(e2) || function(e3) {
          if (Symbol.iterator in Object(e3) || "[object Arguments]" === Object.prototype.toString.call(e3))
            return Array.from(e3);
        }(e2) || function() {
          throw new TypeError("Invalid attempt to spread non-iterable instance");
        }();
      }
      function a(e2) {
        var t2, r2 = "algoliasearch-client-js-".concat(e2.key), o2 = function() {
          return void 0 === t2 && (t2 = e2.localStorage || window.localStorage), t2;
        }, a2 = function() {
          return JSON.parse(o2().getItem(r2) || "{}");
        };
        return { get: function(e3, t3) {
          var r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : { miss: function() {
            return Promise.resolve();
          } };
          return Promise.resolve().then(function() {
            var r4 = JSON.stringify(e3), n2 = a2()[r4];
            return Promise.all([n2 || t3(), void 0 !== n2]);
          }).then(function(e4) {
            var t4 = n(e4, 2), o3 = t4[0], a3 = t4[1];
            return Promise.all([o3, a3 || r3.miss(o3)]);
          }).then(function(e4) {
            return n(e4, 1)[0];
          });
        }, set: function(e3, t3) {
          return Promise.resolve().then(function() {
            var n2 = a2();
            return n2[JSON.stringify(e3)] = t3, o2().setItem(r2, JSON.stringify(n2)), t3;
          });
        }, delete: function(e3) {
          return Promise.resolve().then(function() {
            var t3 = a2();
            delete t3[JSON.stringify(e3)], o2().setItem(r2, JSON.stringify(t3));
          });
        }, clear: function() {
          return Promise.resolve().then(function() {
            o2().removeItem(r2);
          });
        } };
      }
      function u(e2) {
        var t2 = o(e2.caches), r2 = t2.shift();
        return void 0 === r2 ? { get: function(e3, t3) {
          var r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : { miss: function() {
            return Promise.resolve();
          } }, o2 = t3();
          return o2.then(function(e4) {
            return Promise.all([e4, r3.miss(e4)]);
          }).then(function(e4) {
            return n(e4, 1)[0];
          });
        }, set: function(e3, t3) {
          return Promise.resolve(t3);
        }, delete: function(e3) {
          return Promise.resolve();
        }, clear: function() {
          return Promise.resolve();
        } } : { get: function(e3, n2) {
          var o2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : { miss: function() {
            return Promise.resolve();
          } };
          return r2.get(e3, n2, o2).catch(function() {
            return u({ caches: t2 }).get(e3, n2, o2);
          });
        }, set: function(e3, n2) {
          return r2.set(e3, n2).catch(function() {
            return u({ caches: t2 }).set(e3, n2);
          });
        }, delete: function(e3) {
          return r2.delete(e3).catch(function() {
            return u({ caches: t2 }).delete(e3);
          });
        }, clear: function() {
          return r2.clear().catch(function() {
            return u({ caches: t2 }).clear();
          });
        } };
      }
      function i() {
        var e2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : { serializable: true }, t2 = {};
        return { get: function(r2, n2) {
          var o2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : { miss: function() {
            return Promise.resolve();
          } }, a2 = JSON.stringify(r2);
          if (a2 in t2)
            return Promise.resolve(e2.serializable ? JSON.parse(t2[a2]) : t2[a2]);
          var u2 = n2(), i2 = o2 && o2.miss || function() {
            return Promise.resolve();
          };
          return u2.then(function(e3) {
            return i2(e3);
          }).then(function() {
            return u2;
          });
        }, set: function(r2, n2) {
          return t2[JSON.stringify(r2)] = e2.serializable ? JSON.stringify(n2) : n2, Promise.resolve(n2);
        }, delete: function(e3) {
          return delete t2[JSON.stringify(e3)], Promise.resolve();
        }, clear: function() {
          return t2 = {}, Promise.resolve();
        } };
      }
      function s(e2) {
        for (var t2 = e2.length - 1; t2 > 0; t2--) {
          var r2 = Math.floor(Math.random() * (t2 + 1)), n2 = e2[t2];
          e2[t2] = e2[r2], e2[r2] = n2;
        }
        return e2;
      }
      var c = { WithinQueryParameters: 0, WithinHeaders: 1 }, l = 1, f = 2, d = 3;
      function h(e2, t2) {
        var r2 = e2 || {}, n2 = r2.data || {};
        return Object.keys(r2).forEach(function(e3) {
          -1 === ["timeout", "headers", "queryParameters", "data", "cacheable"].indexOf(e3) && (n2[e3] = r2[e3]);
        }), { data: Object.entries(n2).length > 0 ? n2 : void 0, timeout: r2.timeout || t2, headers: r2.headers || {}, queryParameters: r2.queryParameters || {}, cacheable: r2.cacheable };
      }
      var m = { Read: 1, Write: 2, Any: 3 }, p = 1, g = 2, v = 3;
      function y(e2) {
        var t2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : p;
        return r(r({}, e2), {}, { status: t2, lastUpdate: Date.now() });
      }
      function b(e2) {
        return "string" == typeof e2 ? { protocol: "https", url: e2, accept: m.Any } : { protocol: e2.protocol || "https", url: e2.url, accept: e2.accept || m.Any };
      }
      var P = "GET", O = "POST";
      function q(e2, t2) {
        return Promise.all(t2.map(function(t3) {
          return e2.get(t3, function() {
            return Promise.resolve(y(t3));
          });
        })).then(function(e3) {
          var r2 = e3.filter(function(e4) {
            return function(e5) {
              return e5.status === p || Date.now() - e5.lastUpdate > 12e4;
            }(e4);
          }), n2 = e3.filter(function(e4) {
            return function(e5) {
              return e5.status === v && Date.now() - e5.lastUpdate <= 12e4;
            }(e4);
          }), a2 = [].concat(o(r2), o(n2));
          return { getTimeout: function(e4, t3) {
            return (0 === n2.length && 0 === e4 ? 1 : n2.length + 3 + e4) * t3;
          }, statelessHosts: a2.length > 0 ? a2.map(function(e4) {
            return b(e4);
          }) : t2 };
        });
      }
      function S(e2, t2, n2, a2) {
        var u2 = [], i2 = function(e3, t3) {
          if (e3.method === P || void 0 === e3.data && void 0 === t3.data)
            return;
          var n3 = Array.isArray(e3.data) ? e3.data : r(r({}, e3.data), t3.data);
          return JSON.stringify(n3);
        }(n2, a2), s2 = function(e3, t3) {
          var n3 = r(r({}, e3.headers), t3.headers), o2 = {};
          return Object.keys(n3).forEach(function(e4) {
            var t4 = n3[e4];
            o2[e4.toLowerCase()] = t4;
          }), o2;
        }(e2, a2), c2 = n2.method, l2 = n2.method !== P ? {} : r(r({}, n2.data), a2.data), f2 = r(r(r({ "x-algolia-agent": e2.userAgent.value }, e2.queryParameters), l2), a2.queryParameters), d2 = 0, h2 = function t3(r2, o2) {
          var l3 = r2.pop();
          if (void 0 === l3)
            throw { name: "RetryError", message: "Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.", transporterStackTrace: T(u2) };
          var h3 = { data: i2, headers: s2, method: c2, url: w(l3, n2.path, f2), connectTimeout: o2(d2, e2.timeouts.connect), responseTimeout: o2(d2, a2.timeout) }, m2 = function(e3) {
            var t4 = { request: h3, response: e3, host: l3, triesLeft: r2.length };
            return u2.push(t4), t4;
          }, p2 = { onSuccess: function(e3) {
            return function(e4) {
              try {
                return JSON.parse(e4.content);
              } catch (t4) {
                throw function(e5, t5) {
                  return { name: "DeserializationError", message: e5, response: t5 };
                }(t4.message, e4);
              }
            }(e3);
          }, onRetry: function(n3) {
            var a3 = m2(n3);
            return n3.isTimedOut && d2++, Promise.all([e2.logger.info("Retryable failure", A(a3)), e2.hostsCache.set(l3, y(l3, n3.isTimedOut ? v : g))]).then(function() {
              return t3(r2, o2);
            });
          }, onFail: function(e3) {
            throw m2(e3), function(e4, t4) {
              var r3 = e4.content, n3 = e4.status, o3 = r3;
              try {
                o3 = JSON.parse(r3).message;
              } catch (e5) {
              }
              return function(e5, t5, r4) {
                return { name: "ApiError", message: e5, status: t5, transporterStackTrace: r4 };
              }(o3, n3, t4);
            }(e3, T(u2));
          } };
          return e2.requester.send(h3).then(function(e3) {
            return function(e4, t4) {
              return function(e5) {
                var t5 = e5.status;
                return e5.isTimedOut || function(e6) {
                  var t6 = e6.isTimedOut, r3 = e6.status;
                  return !t6 && 0 == ~~r3;
                }(e5) || 2 != ~~(t5 / 100) && 4 != ~~(t5 / 100);
              }(e4) ? t4.onRetry(e4) : 2 == ~~(e4.status / 100) ? t4.onSuccess(e4) : t4.onFail(e4);
            }(e3, p2);
          });
        };
        return q(e2.hostsCache, t2).then(function(e3) {
          return h2(o(e3.statelessHosts).reverse(), e3.getTimeout);
        });
      }
      function j(e2) {
        var t2 = { value: "Algolia for JavaScript (".concat(e2, ")"), add: function(e3) {
          var r2 = "; ".concat(e3.segment).concat(void 0 !== e3.version ? " (".concat(e3.version, ")") : "");
          return -1 === t2.value.indexOf(r2) && (t2.value = "".concat(t2.value).concat(r2)), t2;
        } };
        return t2;
      }
      function w(e2, t2, r2) {
        var n2, o2 = (n2 = r2, Object.keys(n2).map(function(e3) {
          return function(e4) {
            for (var t4 = arguments.length, r3 = new Array(t4 > 1 ? t4 - 1 : 0), n3 = 1; n3 < t4; n3++)
              r3[n3 - 1] = arguments[n3];
            var o3 = 0;
            return e4.replace(/%s/g, function() {
              return encodeURIComponent(r3[o3++]);
            });
          }("%s=%s", e3, (t3 = n2[e3], "[object Object]" === Object.prototype.toString.call(t3) || "[object Array]" === Object.prototype.toString.call(t3) ? JSON.stringify(n2[e3]) : n2[e3]));
          var t3;
        }).join("&")), a2 = "".concat(e2.protocol, "://").concat(e2.url, "/").concat("/" === t2.charAt(0) ? t2.substr(1) : t2);
        return o2.length && (a2 += "?".concat(o2)), a2;
      }
      function T(e2) {
        return e2.map(function(e3) {
          return A(e3);
        });
      }
      function A(e2) {
        var t2 = e2.request.headers["x-algolia-api-key"] ? { "x-algolia-api-key": "*****" } : {};
        return r(r({}, e2), {}, { request: r(r({}, e2.request), {}, { headers: r(r({}, e2.request.headers), t2) }) });
      }
      var C = function(e2) {
        var t2 = e2.appId, o2 = function(e3, t3, r2) {
          var n2 = { "x-algolia-api-key": r2, "x-algolia-application-id": t3 };
          return { headers: function() {
            return e3 === c.WithinHeaders ? n2 : {};
          }, queryParameters: function() {
            return e3 === c.WithinQueryParameters ? n2 : {};
          } };
        }(void 0 !== e2.authMode ? e2.authMode : c.WithinHeaders, t2, e2.apiKey), a2 = function(e3) {
          var t3 = e3.hostsCache, r2 = e3.logger, o3 = e3.requester, a3 = e3.requestsCache, u2 = e3.responsesCache, i2 = e3.timeouts, s2 = e3.userAgent, c2 = e3.hosts, l2 = e3.queryParameters, f2 = { hostsCache: t3, logger: r2, requester: o3, requestsCache: a3, responsesCache: u2, timeouts: i2, userAgent: s2, headers: e3.headers, queryParameters: l2, hosts: c2.map(function(e4) {
            return b(e4);
          }), read: function(e4, t4) {
            var r3 = h(t4, f2.timeouts.read), o4 = function() {
              return S(f2, f2.hosts.filter(function(e5) {
                return 0 != (e5.accept & m.Read);
              }), e4, r3);
            };
            if (true !== (void 0 !== r3.cacheable ? r3.cacheable : e4.cacheable))
              return o4();
            var a4 = { request: e4, mappedRequestOptions: r3, transporter: { queryParameters: f2.queryParameters, headers: f2.headers } };
            return f2.responsesCache.get(a4, function() {
              return f2.requestsCache.get(a4, function() {
                return f2.requestsCache.set(a4, o4()).then(function(e5) {
                  return Promise.all([f2.requestsCache.delete(a4), e5]);
                }, function(e5) {
                  return Promise.all([f2.requestsCache.delete(a4), Promise.reject(e5)]);
                }).then(function(e5) {
                  var t5 = n(e5, 2);
                  t5[0];
                  return t5[1];
                });
              });
            }, { miss: function(e5) {
              return f2.responsesCache.set(a4, e5);
            } });
          }, write: function(e4, t4) {
            return S(f2, f2.hosts.filter(function(e5) {
              return 0 != (e5.accept & m.Write);
            }), e4, h(t4, f2.timeouts.write));
          } };
          return f2;
        }(r(r({ hosts: [{ url: "".concat(t2, "-dsn.algolia.net"), accept: m.Read }, { url: "".concat(t2, ".algolia.net"), accept: m.Write }].concat(s([{ url: "".concat(t2, "-1.algolianet.com") }, { url: "".concat(t2, "-2.algolianet.com") }, { url: "".concat(t2, "-3.algolianet.com") }])) }, e2), {}, { headers: r(r(r({}, o2.headers()), { "content-type": "application/x-www-form-urlencoded" }), e2.headers), queryParameters: r(r({}, o2.queryParameters()), e2.queryParameters) }));
        return function(e3, t3) {
          return t3 ? (Object.keys(t3).forEach(function(r2) {
            e3[r2] = t3[r2](e3);
          }), e3) : e3;
        }({ transporter: a2, appId: t2, addAlgoliaAgent: function(e3, t3) {
          a2.userAgent.add({ segment: e3, version: t3 });
        }, clearCache: function() {
          return Promise.all([a2.requestsCache.clear(), a2.responsesCache.clear()]).then(function() {
          });
        } }, e2.methods);
      }, N = function(e2) {
        return function(t2, n2) {
          var o2 = t2.map(function(e3) {
            return r(r({}, e3), {}, { threshold: e3.threshold || 0 });
          });
          return e2.transporter.read({ method: O, path: "1/indexes/*/recommendations", data: { requests: o2 }, cacheable: true }, n2);
        };
      }, k = function(e2) {
        return function(t2, n2) {
          return N(e2)(t2.map(function(e3) {
            return r(r({}, e3), {}, { fallbackParameters: {}, model: "bought-together" });
          }), n2);
        };
      }, x = function(e2) {
        return function(t2, n2) {
          return N(e2)(t2.map(function(e3) {
            return r(r({}, e3), {}, { model: "related-products" });
          }), n2);
        };
      }, J = function(e2) {
        return function(t2, n2) {
          var o2 = t2.map(function(e3) {
            return r(r({}, e3), {}, { model: "trending-facets", threshold: e3.threshold || 0 });
          });
          return e2.transporter.read({ method: O, path: "1/indexes/*/recommendations", data: { requests: o2 }, cacheable: true }, n2);
        };
      }, E = function(e2) {
        return function(t2, n2) {
          var o2 = t2.map(function(e3) {
            return r(r({}, e3), {}, { model: "trending-items", threshold: e3.threshold || 0 });
          });
          return e2.transporter.read({ method: O, path: "1/indexes/*/recommendations", data: { requests: o2 }, cacheable: true }, n2);
        };
      };
      function R(e2, t2, n2) {
        var o2, s2 = { appId: e2, apiKey: t2, timeouts: { connect: 1, read: 2, write: 30 }, requester: { send: function(e3) {
          return new Promise(function(t3) {
            var r2 = new XMLHttpRequest();
            r2.open(e3.method, e3.url, true), Object.keys(e3.headers).forEach(function(t4) {
              return r2.setRequestHeader(t4, e3.headers[t4]);
            });
            var n3, o3 = function(e4, n4) {
              return setTimeout(function() {
                r2.abort(), t3({ status: 0, content: n4, isTimedOut: true });
              }, 1e3 * e4);
            }, a2 = o3(e3.connectTimeout, "Connection timeout");
            r2.onreadystatechange = function() {
              r2.readyState > r2.OPENED && void 0 === n3 && (clearTimeout(a2), n3 = o3(e3.responseTimeout, "Socket timeout"));
            }, r2.onerror = function() {
              0 === r2.status && (clearTimeout(a2), clearTimeout(n3), t3({ content: r2.responseText || "Network request failed", status: r2.status, isTimedOut: false }));
            }, r2.onload = function() {
              clearTimeout(a2), clearTimeout(n3), t3({ content: r2.responseText, status: r2.status, isTimedOut: false });
            }, r2.send(e3.data);
          });
        } }, logger: (o2 = d, { debug: function(e3, t3) {
          return l >= o2 && console.debug(e3, t3), Promise.resolve();
        }, info: function(e3, t3) {
          return f >= o2 && console.info(e3, t3), Promise.resolve();
        }, error: function(e3, t3) {
          return console.error(e3, t3), Promise.resolve();
        } }), responsesCache: i(), requestsCache: i({ serializable: false }), hostsCache: u({ caches: [a({ key: "".concat("4.14.3", "-").concat(e2) }), i()] }), userAgent: j("4.14.3").add({ segment: "Recommend", version: "4.14.3" }).add({ segment: "Browser" }), authMode: c.WithinQueryParameters };
        return C(r(r(r({}, s2), n2), {}, { methods: { getFrequentlyBoughtTogether: k, getRecommendations: N, getRelatedProducts: x, getTrendingFacets: J, getTrendingItems: E } }));
      }
      return R.version = "4.14.3", R;
    });
  }
});
export default require_recommend_umd();
/*! recommend.umd.js | 4.14.3 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */
//# sourceMappingURL=@algolia_recommend.js.map
