{
  "version": 3,
  "sources": ["../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/createZone.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/lib/invariant.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/lib/warn.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/lib/computeCartAbandonment.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/lib/logDebug.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/lib/unwrapPrediction.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/tools/actions.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/tools/highlighter.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/lib/storage.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/tools/personifier.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/tools/types.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/tools/init.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/version.js", "../../../../../node_modules/.pnpm/@algolia+predict-core@1.6.1/node_modules/@algolia/predict-core/dist/esm/predict.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/Predict.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/lib/PredictContext.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/PredictZone.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/lib/PredictZoneContext.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/lib/usePredictContext.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/lib/useStableValue.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/usePredict.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/usePredictZone.js", "../../../../../node_modules/.pnpm/@algolia+predict-react@1.6.1_biqbaboplfbrettd7655fr4n2y/node_modules/@algolia/predict-react/dist/esm/version.js"],
  "sourcesContent": ["export var zoneCounterRef = {\n  current: 0\n};\nexport function createZone(_ref) {\n  var id = _ref.id,\n      name = _ref.name,\n      _ref$active = _ref.active,\n      active = _ref$active === void 0 ? true : _ref$active,\n      _ref$happened = _ref.happened,\n      happened = _ref$happened === void 0 ? false : _ref$happened;\n  var zone = {\n    id: id || \"\".concat(name, \"-\").concat(++zoneCounterRef.current),\n    name: name,\n    active: active,\n    happened: happened\n  };\n  return zone;\n}", "/**\n * Throws an error if the condition is not met.\n *\n * The error is exhaustive in development, and becomes generic in production.\n *\n * This is used to make development a better experience to provide guidance as\n * to where the error comes from.\n */\nexport function invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n  /* istanbul ignore next */\n\n\n  if (!(process.env.NODE_ENV !== 'production')) {\n    throw new Error('Invariant failed');\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(\"[Predict] \".concat(typeof message === 'function' ? message() : message));\n  }\n}", "/* eslint-disable no-console, no-empty */\nexport var warnCache = {\n  current: {}\n};\n/**\n * Logs a warning if the condition is not met.\n * This is used to log issues in development environment only.\n */\n\nexport function warn(condition, message) {\n  /* istanbul ignore next */\n  if (!(process.env.NODE_ENV !== 'production')) {\n    return;\n  }\n\n  if (condition) {\n    return;\n  }\n\n  var sanitizedMessage = message.trim();\n  var hasAlreadyPrinted = warnCache.current[sanitizedMessage];\n\n  if (!hasAlreadyPrinted) {\n    warnCache.current[sanitizedMessage] = true;\n    var warning = \"[Predict] \".concat(sanitizedMessage);\n    console.warn(warning);\n\n    try {\n      // Welcome to debugging Predict.\n      //\n      // This error was thrown as a convenience so that you can find the source\n      // of the warning that appears in the console by enabling \"Pause on exceptions\"\n      // in your debugger.\n      throw new Error(warning);\n    } catch (error) {}\n  }\n}", "export function computeCartAbandonment(funnelStage) {\n  var addToCartPrediction = funnelStage.find( // The pipeline doesn't normalize the funnel stage values so we check it\n  // against lowercase to support more cases.\n  function (x) {\n    return x.name.toLocaleLowerCase() === 'add_to_cart';\n  }); // The `add_to_cart` funnel stage doesn't exist so that's not a cart abandonment\n  // scenario.\n\n  if (!addToCartPrediction) {\n    return 0;\n  }\n\n  if (addToCartPrediction.probability >= // We don't use spread in the function call because Babel transformations blow\n  // up the bundle size. Once we have more code that requires this syntax,\n  // we can consider upgrading to:\n  // Math.max(...funnelStage.map((stage) => stage.probability)) // not used for bundle optimization\n  Math.max.apply(null, funnelStage.map(function (stage) {\n    return stage.probability;\n  }))) {\n    // The `add_to_cart` prediction is the prediction that has the highest probability,\n    // so this is a cart abandonment scenario.\n    return 1;\n  } else {\n    return 0;\n  }\n}", "/* eslint-disable no-console */\n\n/**\n * Logs a debug message.\n * This is used to log debugging messages in development environment only.\n */\nexport function logDebug(message) {\n  var _console;\n\n  /* istanbul ignore next */\n  if (!(process.env.NODE_ENV !== 'production')) {\n    return;\n  }\n\n  var sanitizedMessage = message.trim();\n\n  for (var _len = arguments.length, parts = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    parts[_key - 1] = arguments[_key];\n  }\n\n  (_console = console).log.apply(_console, [\"[Predict] \".concat(sanitizedMessage)].concat(parts));\n}", "import { warn } from './warn';\n\nfunction isModelError(prediction) {\n  return Boolean(prediction.error);\n}\n/**\n * Unwraps the prediction value, or falls back when it's unavailable.\n *\n * If the model is unavailable, it returns the fallback and triggers a warning.\n */\n\n\nexport function unwrapPrediction(predictions, model, fallback) {\n  var prediction = predictions && predictions[model];\n\n  if (!prediction) {\n    return fallback;\n  }\n\n  if (isModelError(prediction)) {\n    process.env.NODE_ENV !== 'production' ? warn(false, prediction.error) : void 0;\n    return fallback;\n  }\n\n  return prediction.value;\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { invariant } from '../lib/invariant';\nexport function runAction(message, _ref) {\n  var init = _ref.init,\n      highlighter = _ref.highlighter,\n      personifier = _ref.personifier;\n  var type = message.type,\n      data = message.data;\n  var actions = {\n    'request-init': function requestInit() {\n      // Answer back to the Predict Tools that just opened.\n      init();\n    },\n    'request-highlight-zone': function requestHighlightZone(_ref2) {\n      var zoneId = _ref2.zoneId,\n          params = _ref2.params;\n      var predictZoneElement = document.querySelector(\"[data-predictzoneid=\\\"\".concat(zoneId, \"\\\"]\"));\n\n      if (predictZoneElement) {\n        highlighter.select(predictZoneElement, _objectSpread({\n          id: zoneId\n        }, params));\n      }\n    },\n    'request-unhighlight-zone': function requestUnhighlightZone(_ref3) {\n      var zoneId = _ref3.zoneId;\n      highlighter.unselect(zoneId);\n    },\n    'request-scroll-to-zone': function requestScrollToZone(_ref4) {\n      var zoneId = _ref4.zoneId;\n      var predictZoneElement = document.querySelector(\"[data-predictzoneid=\\\"\".concat(zoneId, \"\\\"]\"));\n\n      if (predictZoneElement) {\n        var element = predictZoneElement;\n\n        if (element.scrollIntoViewIfNeeded) {\n          element.scrollIntoViewIfNeeded();\n        } else {\n          predictZoneElement.scrollIntoView();\n        }\n      }\n    },\n    'request-personification-start': function requestPersonificationStart(_ref5) {\n      var userProfile = _ref5.userProfile;\n      personifier.start({\n        userProfile: userProfile\n      });\n    },\n    'request-personification-end': function requestPersonificationEnd() {\n      personifier.end();\n    },\n    disconnect: function disconnect() {\n      highlighter.unselectAll();\n    }\n  };\n  var action = actions[type];\n  invariant(Boolean(action), \"The Predict Tools event \\\"\".concat(type, \"\\\" is not implemented.\")); // @ts-ignore At this point we know that we're manipulating the right data\n\n  action(data);\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nexport function createElementHighlighter() {\n  var highlights = {};\n\n  function unselect(id) {\n    var overlay = highlights[id];\n\n    if (overlay) {\n      document.body.removeChild(overlay);\n      delete highlights[id];\n    }\n  }\n\n  return {\n    select: function select(referenceElement, props) {\n      if (highlights[props.id]) {\n        // Ignore if the element is already highlighted\n        return;\n      }\n\n      var _referenceElement$get = referenceElement.getBoundingClientRect(),\n          height = _referenceElement$get.height,\n          width = _referenceElement$get.width,\n          top = _referenceElement$get.top,\n          left = _referenceElement$get.left;\n\n      var overlay = document.createElement('div');\n      overlay.setAttribute('data-predicthighlightid', props.id);\n\n      var style = _objectSpread(_objectSpread({}, props.style), {}, {\n        top: \"\".concat(top, \"px\"),\n        left: \"\".concat(left, \"px\"),\n        height: \"\".concat(height, \"px\"),\n        width: \"\".concat(width, \"px\")\n      });\n\n      Object.keys(style).forEach(function (attribute) {\n        overlay.style[attribute] = style[attribute];\n      });\n      highlights[props.id] = overlay;\n      document.body.appendChild(overlay);\n    },\n    unselect: unselect,\n    unselectAll: function unselectAll() {\n      Object.keys(highlights).forEach(function (id) {\n        return unselect(id);\n      });\n    }\n  };\n}", "var STORAGE_KEY_PREFIX = 'predict';\nvar STORAGE_TEST_KEY = \"\".concat(STORAGE_KEY_PREFIX, \"/test-key\");\n\nfunction isStorageSupported(storage) {\n  try {\n    storage.setItem(STORAGE_TEST_KEY, '');\n    storage.removeItem(STORAGE_TEST_KEY);\n    return true;\n  } catch (error) {\n    return false;\n  }\n}\n\nexport function createInMemoryStorage() {\n  return {\n    get: function get() {\n      return null;\n    },\n    set: function set() {},\n    remove: function remove() {}\n  };\n}\n\nfunction createStorage(_ref) {\n  var key = _ref.key,\n      storage = _ref.storage;\n\n  if (!isStorageSupported(storage)) {\n    return createInMemoryStorage();\n  }\n\n  var storageKey = \"\".concat(STORAGE_KEY_PREFIX, \"/\").concat(key);\n  return {\n    get: function get() {\n      var item = storage.getItem(storageKey);\n      return item ? JSON.parse(item) : null;\n    },\n    set: function set(value) {\n      storage.setItem(storageKey, JSON.stringify(value));\n    },\n    remove: function remove() {\n      storage.removeItem(storageKey);\n    }\n  };\n}\n\nexport function createSessionStorage(_ref2) {\n  var key = _ref2.key;\n  return createStorage({\n    key: key,\n    storage: sessionStorage\n  });\n}\nexport function createLocalStorage(_ref3) {\n  var key = _ref3.key;\n  return createStorage({\n    key: key,\n    storage: localStorage\n  });\n}", "import { logDebug } from '../lib/logDebug';\nimport { createSessionStorage } from '../lib/storage';\nexport function createPersonifier(_ref) {\n  var onPersonificationStart = _ref.onPersonificationStart,\n      onPersonificationEnd = _ref.onPersonificationEnd;\n  var personificationSessionStorage = createSessionStorage({\n    key: 'tools/userProfile'\n  });\n  var personifiedUserProfile = personificationSessionStorage.get();\n\n  var _isPersonifying = Boolean(personifiedUserProfile);\n\n  var api = {\n    isPersonifying: function isPersonifying() {\n      return _isPersonifying;\n    },\n    start: function start(_ref2) {\n      var userProfile = _ref2.userProfile;\n      logDebug(\"Personification started with user \\\"\".concat(userProfile.user, \"\\\".\"));\n      _isPersonifying = true;\n      onPersonificationStart({\n        userProfile: userProfile\n      });\n      personificationSessionStorage.set(userProfile);\n    },\n    end: function end() {\n      logDebug('Personification ended.');\n      _isPersonifying = false;\n      onPersonificationEnd();\n      personificationSessionStorage.remove();\n    },\n    loadUserProfileFromStorage: function loadUserProfileFromStorage() {\n      if (personifiedUserProfile) {\n        // To avoid hydration mismatches errors in SSR frameworks like React,\n        // we need to start the personification after the first browser render.\n        // Unfortunately this means that there's a first render with the actual\n        // user profile, and then an update in the next microtask to override it\n        // with the personified user profile, resulting in a UI flash.\n        // Ideally, we should find a way to override the user profile directly\n        // without the hydration warning.\n        // See https://beta.reactjs.org/apis/react-dom/client/hydrateRoot#handling-different-client-and-server-content\n        queueMicrotask(function () {\n          api.start({\n            userProfile: personifiedUserProfile\n          });\n        });\n      }\n    }\n  };\n  return api;\n}", "export var PREDICT_TO_EXTENSION = 'predict-to-extension';\nexport var EXTENSION_TO_PREDICT = 'extension-to-predict';", "import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"eventType\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { runAction } from './actions';\nimport { createElementHighlighter } from './highlighter';\nimport { createPersonifier } from './personifier';\nimport { EXTENSION_TO_PREDICT, PREDICT_TO_EXTENSION } from './types';\n\nvar sendMessage = function sendMessage(message) {\n  window.postMessage(_objectSpread({\n    source: PREDICT_TO_EXTENSION\n  }, message), '*');\n};\n\nexport function initPredictTools(_ref) {\n  var version = _ref.version,\n      getContext = _ref.getContext,\n      subscribe = _ref.subscribe,\n      startPersonification = _ref.startPersonification,\n      endPersonification = _ref.endPersonification;\n  var highlighter = createElementHighlighter();\n  var personifier = createPersonifier({\n    onPersonificationStart: startPersonification,\n    onPersonificationEnd: endPersonification\n  });\n  personifier.loadUserProfileFromStorage();\n  /**\n   * Notifies the Predict Tools from the Predict context.\n   */\n\n  function init() {\n    sendMessage({\n      type: 'init',\n      data: {\n        version: version,\n        context: getContext(),\n        isPersonifying: personifier.isPersonifying()\n      }\n    });\n  } // We initialize the Predict Tools right away if the browser's DevTools are open.\n\n\n  init(); // And we send any state change updates to the Predict Tools.\n\n  subscribe(function (_ref2) {\n    var eventType = _ref2.eventType,\n        context = _objectWithoutProperties(_ref2, _excluded);\n\n    sendMessage({\n      type: 'state-change',\n      data: {\n        version: version,\n        context: context,\n        isPersonifying: personifier.isPersonifying()\n      }\n    });\n  }); // Then, we listen to messages coming from the Predict Tools.\n\n  window.addEventListener('message', function (event) {\n    if (event.data.source === EXTENSION_TO_PREDICT) {\n      runAction(event.data, {\n        init: init,\n        highlighter: highlighter,\n        personifier: personifier\n      });\n    }\n  });\n}", "export var version = '1.6.1';", "import { computeCartAbandonment } from './lib/computeCartAbandonment';\nimport { invariant } from './lib/invariant';\nimport { logDebug } from './lib/logDebug';\nimport { unwrapPrediction } from './lib/unwrapPrediction';\nimport { initPredictTools } from './tools';\nimport { version } from './version';\nexport function predict(params) {\n  var PREDICT_TOOLS_ENABLED = (process.env.NODE_ENV !== 'production' || process.env.PREDICT_TOOLS === 'true') && typeof window !== 'undefined';\n  var subscribers = [];\n  var userProfile = params.userProfile;\n  var zones = [];\n  var isPersonificationEnabled = false;\n  /**\n   * Maintains a queue of updates that need to be applied once the personification ends.\n   *\n   * We ignore `update()` calls when personifying to give precedence to the personified user profile.\n   * So we need to apply the updates at the end of the personification to ensure\n   * the latest changes are reflected.\n   */\n\n  var pendingUpdates = [];\n\n  var applyUpdate = function applyUpdate(nextParams) {\n    if (nextParams.userProfile) {\n      userProfile = nextParams.userProfile;\n    }\n  };\n\n  var update = function update(nextParams) {\n    if (PREDICT_TOOLS_ENABLED) {\n      if (isPersonificationEnabled) {\n        logDebug('Skipped update because the Predict Tools extension is personifying the user.', nextParams);\n        pendingUpdates.push(nextParams);\n        return;\n      }\n    }\n\n    applyUpdate(nextParams);\n    notify('UPDATED');\n  };\n\n  var getUserProfile = function getUserProfile() {\n    return userProfile;\n  };\n\n  var getSegments = function getSegments() {\n    return Object.entries(userProfile.segments || {}).reduce(function (acc, segment) {\n      // We don't use array destructuring because Babel transformations blow\n      // up the bundle size. Once we have more code that requires this syntax,\n      // we can consider upgrading to:\n      // const [type, names] = segment; // not used for bundle optimization\n      var type = segment[0];\n      var names = segment[1];\n      var segmentsInType = names.map(function (name) {\n        return {\n          name: name,\n          type: type\n        };\n      });\n      segmentsInType.forEach(function (segmentInType) {\n        acc.push(segmentInType);\n      });\n      return acc;\n    }, []);\n  };\n\n  var getProperties = function getProperties() {\n    return Object.entries(userProfile.properties || {}).reduce(function (acc, group) {\n      // const [type, properties] = group; // not used for bundle optimization\n      var type = group[0];\n      var properties = group[1];\n      var propertiesInType = Object.entries(properties || {}).map(function (property) {\n        // const [key, value] = property; // not used for bundle optimization\n        var key = property[0];\n        var value = property[1];\n        return {\n          name: key,\n          value: value,\n          type: type\n        };\n      });\n      propertiesInType.forEach(function (propertyInType) {\n        acc.push(propertyInType);\n      });\n      return acc;\n    }, []);\n  };\n\n  var getAffinities = function getAffinities() {\n    return unwrapPrediction(userProfile.predictions, 'affinities', []);\n  };\n\n  var getFunnelStage = function getFunnelStage() {\n    return unwrapPrediction(userProfile.predictions, 'funnel_stage', []);\n  };\n\n  var getOrderValue = function getOrderValue() {\n    return unwrapPrediction(userProfile.predictions, 'order_value', undefined);\n  };\n\n  var getCartAbandonment = function getCartAbandonment() {\n    return computeCartAbandonment(getFunnelStage());\n  };\n\n  var getZones = function getZones() {\n    return zones;\n  };\n\n  var addZone = function addZone(newZone) {\n    invariant(!zones.some(function (zone) {\n      return zone.id === newZone.id;\n    }), \"Cannot add zone with ID \\\"\".concat(newZone.id, \"\\\" because it already exists.\"));\n    zones.push(newZone);\n    notify('ZONE_ADDED');\n    return newZone;\n  };\n\n  var removeZone = function removeZone(zone) {\n    var zoneIndex = zones.findIndex(function (x) {\n      return x.id === zone.id;\n    });\n    invariant(zoneIndex !== -1, \"Cannot remove zone with ID \\\"\".concat(zone.id, \"\\\" because it doesn't exist.\"));\n    zones.splice(zoneIndex, 1);\n    notify('ZONE_REMOVED');\n  };\n\n  var updateZone = function updateZone(zone) {\n    var _zone$name, _zone$active, _zone$happened;\n\n    var zoneIndex = zones.findIndex(function (x) {\n      return x.id === zone.id;\n    });\n    invariant(zoneIndex !== -1, \"Cannot update zone with ID \\\"\".concat(zone.id, \"\\\" because it doesn't exist.\"));\n    var prevZone = zones[zoneIndex];\n    var updatedZone = {\n      id: zone.id,\n      name: (_zone$name = zone.name) !== null && _zone$name !== void 0 ? _zone$name : prevZone.name,\n      active: (_zone$active = zone.active) !== null && _zone$active !== void 0 ? _zone$active : prevZone.active,\n      happened: (_zone$happened = zone.happened) !== null && _zone$happened !== void 0 ? _zone$happened : prevZone.happened\n    };\n    zones[zoneIndex] = updatedZone;\n    notify('ZONE_UPDATED');\n    return updatedZone;\n  };\n\n  var subscribe = function subscribe(subscriber) {\n    subscribers.push(subscriber);\n    return function () {\n      subscribers = subscribers.filter(function (x) {\n        return x !== subscriber;\n      });\n    };\n  };\n\n  function notify(eventType) {\n    subscribers.forEach(function (subscriber) {\n      subscriber({\n        eventType: eventType,\n        affinities: getAffinities(),\n        cartAbandonment: getCartAbandonment(),\n        funnelStage: getFunnelStage(),\n        orderValue: getOrderValue(),\n        segments: getSegments(),\n        properties: getProperties(),\n        userProfile: getUserProfile(),\n        zones: getZones()\n      });\n    });\n  } // Predict Tools are enabled in development mode, or when the `PREDICT_TOOLS`\n  // environment variable is set. This is useful to use the web extension in\n  // staging environments.\n\n\n  if (PREDICT_TOOLS_ENABLED) {\n    initPredictTools({\n      version: version,\n      subscribe: subscribe,\n      getContext: function getContext() {\n        return {\n          affinities: getAffinities(),\n          cartAbandonment: getCartAbandonment(),\n          funnelStage: getFunnelStage(),\n          orderValue: getOrderValue(),\n          segments: getSegments(),\n          properties: getProperties(),\n          userProfile: getUserProfile(),\n          zones: getZones()\n        };\n      },\n      startPersonification: function startPersonification(_ref) {\n        var userProfileToPersonify = _ref.userProfile;\n        pendingUpdates.push({\n          userProfile: userProfile\n        });\n        update({\n          userProfile: userProfileToPersonify\n        });\n        isPersonificationEnabled = true;\n      },\n      endPersonification: function endPersonification() {\n        isPersonificationEnabled = false;\n\n        while (pendingUpdates.length > 0) {\n          var updateParams = pendingUpdates.shift();\n          applyUpdate(updateParams);\n        } // We trigger an update to notify subscribers.\n\n\n        update({});\n      }\n    });\n  }\n\n  var api = {\n    getAffinities: getAffinities,\n    getFunnelStage: getFunnelStage,\n    getOrderValue: getOrderValue,\n    getCartAbandonment: getCartAbandonment,\n    getSegments: getSegments,\n    getProperties: getProperties,\n    getUserProfile: getUserProfile,\n    getZones: getZones,\n    update: update,\n    addZone: addZone,\n    removeZone: removeZone,\n    updateZone: updateZone,\n    subscribe: subscribe\n  };\n  return api;\n}", "import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"eventType\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { predict, warn } from '@algolia/predict-core';\nimport { dequal } from 'dequal/lite';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { PredictContext } from './lib/PredictContext';\nexport function Predict(_ref) {\n  var userProfile = _ref.userProfile,\n      _ref$suppressExperime = _ref.suppressExperimentalWarning,\n      suppressExperimentalWarning = _ref$suppressExperime === void 0 ? false : _ref$suppressExperime,\n      children = _ref.children;\n  var predictRef = useRef(null);\n\n  if (predictRef.current === null) {\n    predictRef.current = predict({\n      userProfile: userProfile\n    });\n  }\n\n  var _useState = useState(function () {\n    return {\n      userProfile: predictRef.current.getUserProfile(),\n      affinities: predictRef.current.getAffinities(),\n      funnelStage: predictRef.current.getFunnelStage(),\n      orderValue: predictRef.current.getOrderValue(),\n      cartAbandonment: predictRef.current.getCartAbandonment(),\n      segments: predictRef.current.getSegments(),\n      properties: predictRef.current.getProperties(),\n      zones: predictRef.current.getZones(),\n      addZone: predictRef.current.addZone,\n      removeZone: predictRef.current.removeZone,\n      updateZone: predictRef.current.updateZone,\n      subscribe: predictRef.current.subscribe\n    };\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      predictApi = _useState2[0],\n      setPredictApi = _useState2[1];\n\n  var _useState3 = useState(function () {\n    return predictRef.current.getUserProfile();\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prevUserProfile = _useState4[0],\n      setPrevUserProfile = _useState4[1];\n\n  if (!dequal(userProfile, prevUserProfile)) {\n    predictRef.current.update({\n      userProfile: userProfile\n    });\n    setPrevUserProfile(userProfile);\n  }\n\n  var store = useSyncExternalStore(useCallback(function () {\n    return predictRef.current.subscribe(function (_ref2) {\n      var eventType = _ref2.eventType,\n          state = _objectWithoutProperties(_ref2, _excluded);\n\n      // We manage zone updates directly with the React state, so we don't\n      // need to listen to this event.\n      if (eventType !== 'ZONE_UPDATED') {\n        setPredictApi(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), state);\n        });\n      }\n    });\n  }, []), function () {\n    return predictApi;\n  }, function () {\n    return predictApi;\n  });\n  useEffect(function () {\n    process.env.NODE_ENV !== 'production' ? warn(suppressExperimentalWarning, 'This version is experimental and not production-ready.\\n\\n' + 'Please report any bugs at https://github.com/algolia/predict/issues/new\\n\\n' + '(To disable this warning, pass `suppressExperimentalWarning` to <Predict>.)') : void 0;\n  }, [suppressExperimentalWarning]);\n  return /*#__PURE__*/React.createElement(PredictContext.Provider, {\n    value: store\n  }, children);\n}", "import { createContext } from 'react';\nexport var PredictContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  PredictContext.displayName = 'Predict';\n}", "import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"id\", \"children\", \"name\", \"segment\", \"fallback\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createZone } from '@algolia/predict-core';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { PredictZoneContext } from './lib/PredictZoneContext';\nimport { usePredictContext } from './lib/usePredictContext';\nimport { usePredict } from './usePredict';\nexport function PredictZone(_ref) {\n  var id = _ref.id,\n      children = _ref.children,\n      name = _ref.name,\n      segment = _ref.segment,\n      _ref$fallback = _ref.fallback,\n      fallback = _ref$fallback === void 0 ? null : _ref$fallback,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _usePredictContext = usePredictContext({\n    errorMessage: 'The <PredictZone> must be mounted within the <Predict> provider.'\n  }),\n      addZone = _usePredictContext.addZone,\n      removeZone = _usePredictContext.removeZone,\n      updateZone = _usePredictContext.updateZone;\n\n  var predictApi = usePredict();\n\n  var _useState = useState(function () {\n    var active = // eslint-disable-next-line no-nested-ternary\n    typeof segment === 'function' ? segment(predictApi) : segment ? Boolean(predictApi.segments.find(function (s) {\n      return s.name === segment;\n    })) : true;\n    return createZone({\n      id: id,\n      name: name,\n      active: active\n    });\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      zone = _useState2[0],\n      setZone = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDismissed = _useState4[0],\n      setIsDismissed = _useState4[1];\n\n  var _useState5 = useState(zone.name),\n      _useState6 = _slicedToArray(_useState5, 2),\n      prevName = _useState6[0],\n      setPrevName = _useState6[1];\n\n  if (name !== prevName) {\n    setPrevName(name);\n    updateZone({\n      id: zone.id,\n      name: name\n    });\n  }\n\n  if (!isDismissed) {\n    var active = // eslint-disable-next-line no-nested-ternary\n    typeof segment === 'function' ? segment(predictApi) : segment ? Boolean(predictApi.segments.find(function (s) {\n      return s.name === segment;\n    })) : zone.active;\n\n    if (active !== zone.active) {\n      setZone(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          active: active\n        });\n      });\n      updateZone({\n        id: zone.id,\n        active: active\n      });\n    }\n  }\n\n  var zoneApi = useMemo(function () {\n    return {\n      dismissZone: function dismissZone() {\n        setZone(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            active: false,\n            happened: true\n          });\n        });\n        updateZone({\n          id: zone.id,\n          active: false,\n          happened: true\n        });\n        setIsDismissed(true);\n      }\n    };\n  }, [updateZone, zone.id]);\n  var zoneStore = useSyncExternalStore(useCallback(function () {\n    addZone(zone);\n    return function () {\n      removeZone(zone);\n    }; // We don't track zone changes because we update the zone in the store via\n    // `updateZone()`.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [addZone, removeZone]), function () {\n    return zoneApi;\n  }, function () {\n    return zoneApi;\n  });\n\n  if (!zone.active) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, fallback);\n  }\n\n  return /*#__PURE__*/React.createElement(PredictZoneContext.Provider, {\n    value: zoneStore\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    \"data-predictzoneid\": zone.id,\n    onMouseDown: function onMouseDown() {\n      setZone(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          happened: true\n        });\n      });\n      updateZone({\n        id: zone.id,\n        happened: true\n      });\n    },\n    onTouchStart: function onTouchStart() {\n      setZone(function (prev) {\n        return _objectSpread(_objectSpread({}, prev), {}, {\n          happened: true\n        });\n      });\n      updateZone({\n        id: zone.id,\n        happened: true\n      });\n    }\n  }), children));\n}", "import { createContext } from 'react';\nexport var PredictZoneContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  PredictZoneContext.displayName = 'PredictZone';\n}", "import { invariant } from '@algolia/predict-core';\nimport { useContext } from 'react';\nimport { PredictContext } from './PredictContext';\nexport function usePredictContext() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$errorMessage = _ref.errorMessage,\n      errorMessage = _ref$errorMessage === void 0 ? 'The Predict APIs must be used within the <Predict> provider.' : _ref$errorMessage;\n\n  var context = useContext(PredictContext);\n  invariant(context !== null, errorMessage);\n  return context;\n}", "import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { dequal } from 'dequal/lite';\nimport { useState } from 'react';\nexport function useStableValue(value) {\n  var _useState = useState(function () {\n    return value;\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      stableValue = _useState2[0],\n      setStableValue = _useState2[1];\n\n  if (!dequal(stableValue, value)) {\n    setStableValue(value);\n  }\n\n  return stableValue;\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"addZone\", \"removeZone\", \"updateZone\", \"subscribe\"];\nimport { usePredictContext } from './lib/usePredictContext';\nimport { useStableValue } from './lib/useStableValue';\nexport function usePredict() {\n  var _usePredictContext = usePredictContext({\n    errorMessage: '`usePredict()` must be used within the <Predict> provider.'\n  }),\n      addZone = _usePredictContext.addZone,\n      removeZone = _usePredictContext.removeZone,\n      updateZone = _usePredictContext.updateZone,\n      subscribe = _usePredictContext.subscribe,\n      rest = _objectWithoutProperties(_usePredictContext, _excluded);\n\n  var predictApi = useStableValue(rest);\n  return predictApi;\n}", "import { invariant } from '@algolia/predict-core';\nimport { useContext } from 'react';\nimport { PredictZoneContext } from './lib/PredictZoneContext';\nexport function usePredictZone() {\n  var context = useContext(PredictZoneContext);\n  invariant(context !== null, '`usePredictZone()` must be used within a <PredictZone>.');\n  return context;\n}", "export var version = '1.6.1';"],
  "mappings": "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",
  "names": ["ownKeys", "_objectSpread", "ownKeys", "_objectSpread", "sendMessage", "version", "applyUpdate", "update", "getUserProfile", "getSegments", "getProperties", "getAffinities", "getFunnelStage", "getOrderValue", "getCartAbandonment", "getZones", "addZone", "removeZone", "updateZone", "subscribe", "import_react", "_excluded", "ownKeys", "_objectSpread", "React", "import_react", "import_shim", "import_react", "import_react", "import_react", "_excluded", "_excluded", "ownKeys", "_objectSpread", "active", "React", "import_react", "version"]
}
