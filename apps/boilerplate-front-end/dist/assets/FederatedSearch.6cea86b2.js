import{r as _,ab as w,R as m,aG as I,a as t,j as e,G as g,aA as P,I as b,aH as R,ag as x,x as A,J as j,aI as k,O as y,Q as O,H as B,aJ as L,c as H,aK as E,aL as z,aM as J,B as Q,aN as D,w as G,e as M,a1 as T,aO as f,$ as K,aP as U,aQ as V,aR as W}from"./index.0541b32f.js";const X=(a,n,r,i)=>{n||(n=null);const c=s=>{a&&!a.contains(s.target)&&!n.contains(s.target)&&!r.contains(s.target)&&!s.target.classList.contains("react-select__option")&&i()};_.exports.useEffect(()=>(document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}))};function Y(a){const{hits:n}=w(a),{image:r,date:i,title:c,headings:s}=m(I),{titleArticles:h}=a;return t("div",{className:"articles__wrapper",children:[e("h3",{className:"articles__title",children:h}),n.map((l,N)=>t("div",{className:"articles__item",children:[t("div",{className:"image-wrapper",children:[e("img",{src:g(l,r),loading:"lazy",alt:"blog post image"}),e("p",{className:"date",children:g(l,i)}),e("div",{className:"overlay"})]}),t("div",{className:"infos",children:[e("p",{className:"title",children:g(l,c)}),e("p",{className:"subtitle",children:g(l,s)})]})]},N))]})}const Z=_.exports.memo(Y);function q(a){const{items:n}=P(a),{title:r}=a,i=b(),c=s=>s.replace(/>/g,"-").split(" ").join("");return t("div",{className:"categories",children:[e("h3",{className:"categories__title",children:r}),e("div",{className:"categories__wrapper",children:e("ul",{className:"categories__items",children:n.map(s=>t("li",{onClick:()=>{i(`/search/${c(s.label)}`,{state:{type:"filter",value:`${R}:"${s.label}"`}})},children:[e(x,{}),e("p",{children:s.label.split(">").pop()})]},s.label))})})]})}const ee=_.exports.memo(q);function se({query:a,refine:n},r){const{hits:i}=w(r),c=b(),s=A(j),h=m(k),{products:l,productsBefore:N,buttonShowAll:u,noResults:p}=r,{objectID:v,image:o,productName:S,brand:C}=B;return t("div",{className:"products",children:[e("div",{className:"products__header",children:h.value!=="anon"&&a===""?e("h3",{className:"products__title",children:N}):e("h3",{className:"products__title",children:l})}),e("ul",{className:"products__items",children:i.length?i.map(d=>t("li",{className:"products__item",children:[e("div",{className:"image-wrapper",onClick:()=>{s(d),c(`/search/product/${d[v]}`)},children:e("img",{src:g(d,o),loading:"lazy",alt:g(d,S)})}),t("div",{className:"infos",children:[e("p",{className:"brand",children:g(d,C)}),e("p",{className:"productName",children:e(y,{hit:d,attribute:S})}),e("p",{className:"price",children:e(O,{hit:d})})]})]},d[v])):e("span",{className:"no-results__infos",children:p})}),t("div",{className:"products__btn",onClick:()=>{},children:[e(x,{}),e("p",{onClick:()=>c("/search"),children:u})]})]})}const ae=_.exports.memo(se),te=({title:a,query:n,refine:r})=>{const i=localStorage.getItem("recentSearches"),c=JSON.parse(i),s=b();return c&&c.length!==0?t("div",{className:"recentSearches",children:[e("h3",{className:"recentSearches__title",children:a}),e("ul",{className:"recentSearches__items",children:c.reverse().splice(0,3).map((h,l)=>t("li",{onClick:()=>{r(h),s({pathname:"/search",replace:!1})},children:[e(x,{}),e("p",{children:h})]},l))})]}):null},ce=_.exports.memo(te);const re=({query:a,refine:n})=>{m(k),m(L);const r=A(H),i=m(E),c=m(z),{suggestionsIndex:s,articlesIndex:h}=m(J),[l,N]=Q(D),{mobile:u,tablet:p,isDesktop:v}=m(G),{t:o}=M("translation",{keyPrefix:"federated"});X(l,i,c,()=>r(!1)),_.exports.useEffect(()=>()=>{r(!1)},[]);const{showRecentSearches:S,showQuerySuggestions:C,showCategories:d,showBlogPosts:$,showProducts:F}=W;return t(T.div,{className:`${u||p?"federatedSearch-mobile":"federatedSearch"}`,variants:f,initial:f.initial,animate:f.animate,exit:f.exit,transition:f.transition,children:[!v&&t("div",{className:"closeFederated",onClick:()=>r(!1),children:[e(K,{})," ",e("p",{children:o("buttonReturn")})]}),t("div",{className:`${u||p?"federatedSearch__wrapper-mobile":"federatedSearch__wrapper"}`,children:[t("div",{className:"federatedSearch__left",children:[S&&!u&&!p&&e(ce,{query:a,refine:n,title:o("recentSearches")}),d&&!u&&!p&&e(ee,{query:a,refine:n,attribute:R,title:o("categories")})]}),F&&e("div",{className:"federatedSearch__middle",children:e(ae,{query:a,refine:n,products:o("products"),productsBefore:o("productsBefore"),buttonShowAll:o("buttonShowAll"),noResults:o("noResults")})}),$&&!u&&!p&&e("div",{className:"articles federatedSearch__right",children:t(U,{indexName:h,children:[e(V,{hitsPerPage:1,query:a}),e(Z,{titleArticles:o("articles")})]})})]})]})},ie=_.exports.memo(re);export{ie as default};
