{"version":3,"file":"index.js","sources":["../../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../recommend-vdom/dist/esm/utils/cx.js","../../../recommend-vdom/dist/esm/DefaultChildren.js","../../../recommend-vdom/dist/esm/DefaultHeader.js","../../../recommend-vdom/dist/esm/ListView.js","../../../recommend-vdom/dist/esm/FrequentlyBoughtTogether.js","../../../recommend-vdom/dist/esm/RelatedProducts.js","../../../recommend-vdom/dist/esm/TrendingFacets.js","../../../recommend-vdom/dist/esm/TrendingItems.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../recommend-core/dist/esm/utils/mapToRecommendations.js","../../../recommend-core/dist/esm/utils/computeAverageIndices.js","../../../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../recommend-core/dist/esm/utils/mapByScoreToRecommendations.js","../../../recommend-core/dist/esm/utils/sortBy.js","../../../recommend-core/dist/esm/version.js","../../src/useAlgoliaAgent.ts","../../src/version.ts","../../../../node_modules/dequal/lite/index.mjs","../../src/useStableValue.ts","../../src/useStatus.ts","../../src/useFrequentlyBoughtTogether.ts","../../../recommend-core/dist/esm/getFrequentlyBoughtTogether.js","../../src/FrequentlyBoughtTogether.tsx","../../../recommend-vdom/dist/esm/DefaultFallback.js","../../src/useRelatedProducts.ts","../../../recommend-core/dist/esm/getRelatedProducts.js","../../src/RelatedProducts.tsx","../../src/useTrendingFacets.ts","../../../recommend-core/dist/esm/getTrendingFacets.js","../../src/TrendingFacets.tsx","../../../recommend-vdom/dist/esm/FacetsView.js","../../src/useTrendingItems.ts","../../../recommend-core/dist/esm/getTrendingItems.js","../../../recommend-core/dist/esm/utils/uniqBy.js","../../src/TrendingItems.tsx","../../src/useRecommendations.ts","../../../recommend-core/dist/esm/getRecommendations.js"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(' ');\n}","/** @jsx createElement */\nimport { cx } from './utils';\nexport function createDefaultChildrenComponent(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function DefaultChildren(props) {\n    if (props.recommendations.length === 0 && props.status === 'idle') {\n      return createElement(props.Fallback, null);\n    }\n\n    return createElement(\"section\", {\n      className: cx('auc-Recommend', props.classNames.root)\n    }, createElement(props.Header, {\n      classNames: props.classNames,\n      recommendations: props.recommendations,\n      translations: props.translations,\n      createElement: createElement,\n      Fragment: Fragment\n    }), createElement(props.View, null));\n  };\n}","/** @jsx createElement */\nimport { cx } from './utils';\nexport function createDefaultHeaderComponent(_ref) {\n  var createElement = _ref.createElement;\n  return function DefaultHeader(props) {\n    if (!props.recommendations || props.recommendations.length < 1) {\n      return null;\n    }\n\n    if (!props.translations.title) {\n      return null;\n    }\n\n    return createElement(\"h3\", {\n      className: cx('auc-Recommend-title', props.classNames.title)\n    }, props.translations.title);\n  };\n}","/** @jsx createElement */\nimport { cx } from './utils';\nexport function createListViewComponent(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function ListView(props) {\n    return createElement(\"div\", {\n      className: cx('auc-Recommend-container', props.classNames.container)\n    }, createElement(\"ol\", {\n      className: cx('auc-Recommend-list', props.classNames.list)\n    }, props.items.map(function (item) {\n      return createElement(\"li\", {\n        key: item.objectID,\n        className: cx('auc-Recommend-item', props.classNames.item)\n      }, createElement(props.itemComponent, {\n        createElement: createElement,\n        Fragment: Fragment,\n        item: item\n      }));\n    })));\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsx createElement */\nimport { createDefaultChildrenComponent } from './DefaultChildren';\nimport { createDefaultFallbackComponent } from './DefaultFallback';\nimport { createDefaultHeaderComponent } from './DefaultHeader';\nimport { createListViewComponent } from './ListView';\nexport function createFrequentlyBoughtTogetherComponent(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function FrequentlyBoughtTogether(props) {\n    var _props$classNames, _props$children, _props$fallbackCompon, _props$headerComponen, _props$view;\n\n    var translations = _objectSpread({\n      title: 'Frequently bought together',\n      sliderLabel: 'Frequently bought together products'\n    }, props.translations);\n\n    var classNames = (_props$classNames = props.classNames) !== null && _props$classNames !== void 0 ? _props$classNames : {};\n    var children = (_props$children = props.children) !== null && _props$children !== void 0 ? _props$children : createDefaultChildrenComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var FallbackComponent = (_props$fallbackCompon = props.fallbackComponent) !== null && _props$fallbackCompon !== void 0 ? _props$fallbackCompon : createDefaultFallbackComponent();\n\n    var Fallback = function Fallback() {\n      return createElement(FallbackComponent, {\n        Fragment: Fragment,\n        createElement: createElement\n      });\n    };\n\n    var Header = (_props$headerComponen = props.headerComponent) !== null && _props$headerComponen !== void 0 ? _props$headerComponen : createDefaultHeaderComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var ViewComponent = (_props$view = props.view) !== null && _props$view !== void 0 ? _props$view : createListViewComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n\n    var View = function View(viewProps) {\n      return createElement(ViewComponent, _extends({\n        classNames: classNames,\n        itemComponent: props.itemComponent,\n        items: props.items,\n        translations: translations,\n        Fragment: Fragment,\n        createElement: createElement\n      }, viewProps));\n    };\n\n    return children({\n      classNames: classNames,\n      Fallback: Fallback,\n      Header: Header,\n      recommendations: props.items,\n      status: props.status,\n      translations: translations,\n      View: View\n    });\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsx createElement */\nimport { createDefaultChildrenComponent } from './DefaultChildren';\nimport { createDefaultFallbackComponent } from './DefaultFallback';\nimport { createDefaultHeaderComponent } from './DefaultHeader';\nimport { createListViewComponent } from './ListView';\nexport function createRelatedProductsComponent(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function RelatedProducts(props) {\n    var _props$classNames, _props$children, _props$fallbackCompon, _props$headerComponen, _props$view;\n\n    var translations = _objectSpread({\n      title: 'Related products',\n      sliderLabel: 'Related products'\n    }, props.translations);\n\n    var classNames = (_props$classNames = props.classNames) !== null && _props$classNames !== void 0 ? _props$classNames : {};\n    var children = (_props$children = props.children) !== null && _props$children !== void 0 ? _props$children : createDefaultChildrenComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var FallbackComponent = (_props$fallbackCompon = props.fallbackComponent) !== null && _props$fallbackCompon !== void 0 ? _props$fallbackCompon : createDefaultFallbackComponent();\n\n    var Fallback = function Fallback() {\n      return createElement(FallbackComponent, {\n        Fragment: Fragment,\n        createElement: createElement\n      });\n    };\n\n    var Header = (_props$headerComponen = props.headerComponent) !== null && _props$headerComponen !== void 0 ? _props$headerComponen : createDefaultHeaderComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var ViewComponent = (_props$view = props.view) !== null && _props$view !== void 0 ? _props$view : createListViewComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n\n    var View = function View(viewProps) {\n      return createElement(ViewComponent, _extends({\n        classNames: classNames,\n        itemComponent: props.itemComponent,\n        items: props.items,\n        translations: translations,\n        Fragment: Fragment,\n        createElement: createElement\n      }, viewProps));\n    };\n\n    return children({\n      classNames: classNames,\n      Fallback: Fallback,\n      Header: Header,\n      recommendations: props.items,\n      status: props.status,\n      translations: translations,\n      View: View\n    });\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsx createElement */\nimport { createDefaultChildrenComponent } from './DefaultChildren';\nimport { createDefaultFallbackComponent } from './DefaultFallback';\nimport { createDefaultHeaderComponent } from './DefaultHeader';\nimport { createFacetsView } from './FacetsView';\nexport function createTrendingFacetsComponent(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function TrendingFacets(props) {\n    var _props$classNames, _props$children, _props$fallbackCompon, _props$headerComponen, _props$view;\n\n    var translations = _objectSpread({\n      title: 'Trending facets',\n      sliderLabel: 'Trending facets'\n    }, props.translations);\n\n    var classNames = (_props$classNames = props.classNames) !== null && _props$classNames !== void 0 ? _props$classNames : {};\n    var children = (_props$children = props.children) !== null && _props$children !== void 0 ? _props$children : createDefaultChildrenComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var FallbackComponent = (_props$fallbackCompon = props.fallbackComponent) !== null && _props$fallbackCompon !== void 0 ? _props$fallbackCompon : createDefaultFallbackComponent();\n\n    var Fallback = function Fallback() {\n      return createElement(FallbackComponent, {\n        Fragment: Fragment,\n        createElement: createElement\n      });\n    };\n\n    var Header = (_props$headerComponen = props.headerComponent) !== null && _props$headerComponen !== void 0 ? _props$headerComponen : createDefaultHeaderComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var ViewComponent = (_props$view = props.view) !== null && _props$view !== void 0 ? _props$view : createFacetsView({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n\n    var View = function View(viewProps) {\n      return createElement(ViewComponent, _extends({\n        classNames: classNames,\n        itemComponent: props.itemComponent,\n        items: props.items,\n        translations: translations,\n        Fragment: Fragment,\n        createElement: createElement\n      }, viewProps));\n    };\n\n    return children({\n      classNames: classNames,\n      Fallback: Fallback,\n      Header: Header,\n      recommendations: props.items,\n      status: props.status,\n      translations: translations,\n      View: View\n    });\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsx createElement */\nimport { createDefaultChildrenComponent } from './DefaultChildren';\nimport { createDefaultFallbackComponent } from './DefaultFallback';\nimport { createDefaultHeaderComponent } from './DefaultHeader';\nimport { createListViewComponent } from './ListView';\nexport function createTrendingItemsComponent(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function TrendingItems(props) {\n    var _props$classNames, _props$children, _props$fallbackCompon, _props$headerComponen, _props$view;\n\n    var translations = _objectSpread({\n      title: 'Trending items',\n      sliderLabel: 'Trending items'\n    }, props.translations);\n\n    var classNames = (_props$classNames = props.classNames) !== null && _props$classNames !== void 0 ? _props$classNames : {};\n    var children = (_props$children = props.children) !== null && _props$children !== void 0 ? _props$children : createDefaultChildrenComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var FallbackComponent = (_props$fallbackCompon = props.fallbackComponent) !== null && _props$fallbackCompon !== void 0 ? _props$fallbackCompon : createDefaultFallbackComponent();\n\n    var Fallback = function Fallback() {\n      return createElement(FallbackComponent, {\n        Fragment: Fragment,\n        createElement: createElement\n      });\n    };\n\n    var Header = (_props$headerComponen = props.headerComponent) !== null && _props$headerComponen !== void 0 ? _props$headerComponen : createDefaultHeaderComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n    var ViewComponent = (_props$view = props.view) !== null && _props$view !== void 0 ? _props$view : createListViewComponent({\n      createElement: createElement,\n      Fragment: Fragment\n    });\n\n    var View = function View(viewProps) {\n      return createElement(ViewComponent, _extends({\n        classNames: classNames,\n        itemComponent: props.itemComponent,\n        items: props.items,\n        translations: translations,\n        Fragment: Fragment,\n        createElement: createElement\n      }, viewProps));\n    };\n\n    return children({\n      classNames: classNames,\n      Fallback: Fallback,\n      Header: Header,\n      recommendations: props.items,\n      status: props.status,\n      translations: translations,\n      View: View\n    });\n  };\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { getAverageIndices } from './computeAverageIndices';\n/**\n * Returns the reordered list of recommendations based on average indices.\n *\n * @param hits - recommendations\n * @param maxRecommendations - max number of recommendations\n * @param nrOfObjs - total number of products for which we are retrieving recommendations (objectsIDs.length)\n */\n\nexport function mapToRecommendations(_ref) {\n  var hits = _ref.hits,\n      maxRecommendations = _ref.maxRecommendations,\n      nrOfObjs = _ref.nrOfObjs;\n  var indexTracker = {};\n  hits.forEach(function (hitsArray) {\n    hitsArray.forEach(function (hit, index) {\n      if (!indexTracker[hit.objectID]) {\n        indexTracker[hit.objectID] = {\n          indexSum: index,\n          nr: 1\n        };\n      } else {\n        indexTracker[hit.objectID] = {\n          indexSum: indexTracker[hit.objectID].indexSum + index,\n          nr: indexTracker[hit.objectID].nr + 1\n        };\n      }\n    });\n  });\n  var sortedAverageIndices = getAverageIndices(indexTracker, nrOfObjs);\n  var finalOrder = sortedAverageIndices.reduce(function (orderedHits, avgIndexRef) {\n    var result = hits.flat().find(function (hit) {\n      return hit.objectID === avgIndexRef.objectID;\n    });\n    return result ? orderedHits.concat(result) : orderedHits;\n  }, []);\n  return finalOrder.slice(0, // We cap the number of recommendations because the previously\n  // computed `hitsPerPage` was an approximation due to `Math.ceil`.\n  maxRecommendations && maxRecommendations > 0 ? maxRecommendations : undefined);\n}","export var getAverageIndices = function getAverageIndices(indexTracker, nrOfObjs) {\n  var avgIndices = [];\n\n  for (var _i = 0, _Object$keys = Object.keys(indexTracker); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n\n    if (indexTracker[key].nr < 2) {\n      indexTracker[key].indexSum += 100;\n    }\n\n    avgIndices.push({\n      objectID: key,\n      avgOfIndices: indexTracker[key].indexSum / nrOfObjs\n    });\n  }\n\n  return avgIndices.sort(function (a, b) {\n    return a.avgOfIndices > b.avgOfIndices ? 1 : -1;\n  });\n};","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { sortBy } from './sortBy';\nexport function mapByScoreToRecommendations(_ref) {\n  var hits = _ref.hits,\n      maxRecommendations = _ref.maxRecommendations;\n  // Since recommendations from multiple indices are returned, we\n  // need to sort them descending based on their score.\n  return sortBy(function (a, b) {\n    var scoreA = a._score || 0;\n    var scoreB = b._score || 0;\n    return scoreA > scoreB ? -1 : 1;\n  }, hits).slice(0, // We cap the number of recommendations because the previously\n  // computed `hitsPerPage` was an approximation due to `Math.ceil`.\n  maxRecommendations && maxRecommendations > 0 ? maxRecommendations : undefined);\n}","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nexport function sortBy(predicate, items) {\n  var itemsCopy = _toConsumableArray(items);\n\n  itemsCopy.sort(predicate);\n  return itemsCopy;\n}","export var version = '1.8.0';","import { GetRelatedProductsProps } from '@algolia/recommend-core';\nimport { useEffect } from 'react';\n\nimport { version } from './version';\n\ntype UseAlgoliaAgentProps = Pick<\n  GetRelatedProductsProps<any>,\n  'recommendClient'\n>;\n\nexport function useAlgoliaAgent(props: UseAlgoliaAgentProps) {\n  useEffect(() => {\n    props.recommendClient.addAlgoliaAgent('recommend-react', version);\n  }, [props.recommendClient]);\n}\n","export const version = '1.8.0';\n","var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import { dequal } from 'dequal/lite';\nimport { useEffect, useState } from 'react';\n\nexport function useStableValue<TValue>(value: TValue) {\n  const [stableValue, setStableValue] = useState<TValue>(() => value);\n\n  useEffect(() => {\n    if (dequal(stableValue, value) === false) {\n      setStableValue(value);\n    }\n\n    // We only want to trigger the effect when `value` changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value]);\n\n  return stableValue;\n}\n","import { RecommendStatus } from '@algolia/recommend-vdom';\nimport { useEffect, useRef, useState } from 'react';\n\n// If you update this logic, please also update the implementation in the\n// `recommend-js` package.\nexport function useStatus(initialStatus: RecommendStatus) {\n  const timerId = useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n  const [status, setStatus] = useState<RecommendStatus>(initialStatus);\n\n  useEffect(() => {\n    if (status !== 'stalled' && timerId.current) {\n      clearTimeout(timerId.current);\n    }\n\n    if (status === 'loading') {\n      timerId.current = setTimeout(() => {\n        setStatus('stalled');\n      }, 300);\n    }\n  }, [status]);\n\n  return { status, setStatus };\n}\n","import {\n  getFrequentlyBoughtTogether,\n  GetFrequentlyBoughtTogetherProps,\n  GetRecommendationsResult,\n} from '@algolia/recommend-core';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useAlgoliaAgent } from './useAlgoliaAgent';\nimport { useStableValue } from './useStableValue';\nimport { useStatus } from './useStatus';\n\nexport type UseFrequentlyBoughtTogetherProps<\n  TObject\n> = GetFrequentlyBoughtTogetherProps<TObject>;\n\nexport function useFrequentlyBoughtTogether<TObject>({\n  indexName,\n  maxRecommendations,\n  objectIDs: userObjectIDs,\n  queryParameters: userQueryParameters,\n  recommendClient,\n  threshold,\n  transformItems: userTransformItems,\n}: UseFrequentlyBoughtTogetherProps<TObject>) {\n  const [result, setResult] = useState<GetRecommendationsResult<TObject>>({\n    recommendations: [],\n  });\n  const { status, setStatus } = useStatus('loading');\n  const objectIDs = useStableValue(userObjectIDs);\n  const queryParameters = useStableValue(userQueryParameters);\n\n  useAlgoliaAgent({ recommendClient });\n\n  const transformItemsRef = useRef(userTransformItems);\n  useEffect(() => {\n    transformItemsRef.current = userTransformItems;\n  }, [userTransformItems]);\n\n  useEffect(() => {\n    setStatus('loading');\n    getFrequentlyBoughtTogether({\n      indexName,\n      maxRecommendations,\n      objectIDs,\n      queryParameters,\n      recommendClient,\n      threshold,\n      transformItems: transformItemsRef.current,\n    }).then((response) => {\n      setResult(response);\n      setStatus('idle');\n    });\n  }, [\n    indexName,\n    maxRecommendations,\n    objectIDs,\n    queryParameters,\n    recommendClient,\n    setStatus,\n    threshold,\n  ]);\n\n  return {\n    ...result,\n    status,\n  };\n}\n","import { mapToRecommendations } from './utils';\nimport { version } from './version';\nexport function getFrequentlyBoughtTogether(_ref) {\n  var objectIDs = _ref.objectIDs,\n      recommendClient = _ref.recommendClient,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (x) {\n    return x;\n  } : _ref$transformItems,\n      indexName = _ref.indexName,\n      maxRecommendations = _ref.maxRecommendations,\n      queryParameters = _ref.queryParameters,\n      threshold = _ref.threshold;\n  var queries = objectIDs.map(function (objectID) {\n    return {\n      indexName: indexName,\n      maxRecommendations: maxRecommendations,\n      objectID: objectID,\n      queryParameters: queryParameters,\n      threshold: threshold\n    };\n  });\n  recommendClient.addAlgoliaAgent('recommend-core', version);\n  return recommendClient.getFrequentlyBoughtTogether(queries).then(function (response) {\n    return mapToRecommendations({\n      maxRecommendations: maxRecommendations,\n      hits: response.results.map(function (result) {\n        return result.hits;\n      }),\n      nrOfObjs: objectIDs.length\n    });\n  }).then(function (hits) {\n    return {\n      recommendations: transformItems(hits)\n    };\n  });\n}","import { GetFrequentlyBoughtTogetherProps } from '@algolia/recommend-core';\nimport {\n  createFrequentlyBoughtTogetherComponent,\n  FrequentlyBoughtTogetherProps as FrequentlyBoughtTogetherVDOMProps,\n} from '@algolia/recommend-vdom';\nimport React, { createElement, Fragment } from 'react';\n\nimport { useFrequentlyBoughtTogether } from './useFrequentlyBoughtTogether';\n\nconst UncontrolledFrequentlyBoughtTogether = createFrequentlyBoughtTogetherComponent(\n  {\n    createElement,\n    Fragment,\n  }\n);\n\nexport type FrequentlyBoughtTogetherProps<\n  TObject\n> = GetFrequentlyBoughtTogetherProps<TObject> &\n  Omit<FrequentlyBoughtTogetherVDOMProps<TObject>, 'items' | 'status'>;\n\nexport function FrequentlyBoughtTogether<TObject>(\n  props: FrequentlyBoughtTogetherProps<TObject>\n) {\n  const { recommendations, status } = useFrequentlyBoughtTogether<TObject>(\n    props\n  );\n\n  return (\n    <UncontrolledFrequentlyBoughtTogether\n      {...props}\n      items={recommendations}\n      status={status}\n    />\n  );\n}\n","/** @jsx createElement */\nexport function createDefaultFallbackComponent() {\n  return function DefaultFallback() {\n    return null;\n  };\n}","import {\n  getRelatedProducts,\n  GetRelatedProductsProps,\n  GetRecommendationsResult,\n} from '@algolia/recommend-core';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useAlgoliaAgent } from './useAlgoliaAgent';\nimport { useStableValue } from './useStableValue';\nimport { useStatus } from './useStatus';\n\nexport type UseRelatedProductsProps<TObject> = GetRelatedProductsProps<TObject>;\n\nexport function useRelatedProducts<TObject>({\n  fallbackParameters: userFallbackParameters,\n  indexName,\n  maxRecommendations,\n  objectIDs: userObjectIDs,\n  queryParameters: userQueryParameters,\n  recommendClient,\n  threshold,\n  transformItems: userTransformItems,\n}: UseRelatedProductsProps<TObject>) {\n  const [result, setResult] = useState<GetRecommendationsResult<TObject>>({\n    recommendations: [],\n  });\n  const { status, setStatus } = useStatus('loading');\n  const objectIDs = useStableValue(userObjectIDs);\n  const queryParameters = useStableValue(userQueryParameters);\n  const fallbackParameters = useStableValue(userFallbackParameters);\n\n  useAlgoliaAgent({ recommendClient });\n\n  const transformItemsRef = useRef(userTransformItems);\n  useEffect(() => {\n    transformItemsRef.current = userTransformItems;\n  }, [userTransformItems]);\n\n  useEffect(() => {\n    setStatus('loading');\n    getRelatedProducts({\n      fallbackParameters,\n      indexName,\n      maxRecommendations,\n      objectIDs,\n      queryParameters,\n      recommendClient,\n      threshold,\n      transformItems: transformItemsRef.current,\n    }).then((response) => {\n      setResult(response);\n      setStatus('idle');\n    });\n  }, [\n    fallbackParameters,\n    indexName,\n    maxRecommendations,\n    objectIDs,\n    queryParameters,\n    recommendClient,\n    setStatus,\n    threshold,\n  ]);\n\n  return {\n    ...result,\n    status,\n  };\n}\n","import { mapToRecommendations } from './utils';\nimport { version } from './version';\nexport function getRelatedProducts(_ref) {\n  var objectIDs = _ref.objectIDs,\n      recommendClient = _ref.recommendClient,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (x) {\n    return x;\n  } : _ref$transformItems,\n      fallbackParameters = _ref.fallbackParameters,\n      indexName = _ref.indexName,\n      maxRecommendations = _ref.maxRecommendations,\n      queryParameters = _ref.queryParameters,\n      threshold = _ref.threshold;\n  var queries = objectIDs.map(function (objectID) {\n    return {\n      fallbackParameters: fallbackParameters,\n      indexName: indexName,\n      maxRecommendations: maxRecommendations,\n      objectID: objectID,\n      queryParameters: queryParameters,\n      threshold: threshold\n    };\n  });\n  recommendClient.addAlgoliaAgent('recommend-core', version);\n  return recommendClient.getRelatedProducts(queries).then(function (response) {\n    return mapToRecommendations({\n      maxRecommendations: maxRecommendations,\n      hits: response.results.map(function (result) {\n        return result.hits;\n      }),\n      nrOfObjs: objectIDs.length\n    });\n  }).then(function (hits) {\n    return {\n      recommendations: transformItems(hits)\n    };\n  });\n}","import { GetRelatedProductsProps } from '@algolia/recommend-core';\nimport {\n  createRelatedProductsComponent,\n  RelatedProductsProps as RelatedProductsVDOMProps,\n} from '@algolia/recommend-vdom';\nimport React, { createElement, Fragment } from 'react';\n\nimport { useRelatedProducts } from './useRelatedProducts';\n\nconst UncontrolledRelatedProducts = createRelatedProductsComponent({\n  createElement,\n  Fragment,\n});\n\nexport type RelatedProductsProps<TObject> = GetRelatedProductsProps<TObject> &\n  Omit<RelatedProductsVDOMProps<TObject>, 'items' | 'status'>;\n\nexport function RelatedProducts<TObject>(props: RelatedProductsProps<TObject>) {\n  const { recommendations, status } = useRelatedProducts<TObject>(props);\n\n  return (\n    <UncontrolledRelatedProducts\n      {...props}\n      items={recommendations}\n      status={status}\n    />\n  );\n}\n","import {\n  getTrendingFacets,\n  GetTrendingFacetsProps,\n  GetTrendingFacetsResult,\n} from '@algolia/recommend-core';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useAlgoliaAgent } from './useAlgoliaAgent';\nimport { useStableValue } from './useStableValue';\nimport { useStatus } from './useStatus';\n\nexport type UseTrendingFacetsProps<TObject> = GetTrendingFacetsProps<TObject>;\n\nexport function useTrendingFacets<TObject>({\n  fallbackParameters: userFallbackParameters,\n  indexName,\n  maxRecommendations,\n  queryParameters: userQueryParameters,\n  recommendClient,\n  threshold,\n  transformItems: userTransformItems,\n  facetName,\n}: UseTrendingFacetsProps<TObject>) {\n  const [result, setResult] = useState<GetTrendingFacetsResult<TObject>>({\n    recommendations: [],\n  });\n  const { status, setStatus } = useStatus('loading');\n  const queryParameters = useStableValue(userQueryParameters);\n  const fallbackParameters = useStableValue(userFallbackParameters);\n\n  useAlgoliaAgent({ recommendClient });\n\n  const transformItemsRef = useRef(userTransformItems);\n  useEffect(() => {\n    transformItemsRef.current = userTransformItems;\n  }, [userTransformItems]);\n\n  useEffect(() => {\n    setStatus('loading');\n    getTrendingFacets({\n      recommendClient,\n      transformItems: transformItemsRef.current,\n      fallbackParameters,\n      indexName,\n      maxRecommendations,\n      queryParameters,\n      threshold,\n      facetName,\n    }).then((response) => {\n      setResult(response);\n      setStatus('idle');\n    });\n  }, [\n    fallbackParameters,\n    indexName,\n    maxRecommendations,\n    queryParameters,\n    recommendClient,\n    setStatus,\n    threshold,\n    facetName,\n  ]);\n\n  return {\n    ...result,\n    status,\n  };\n}\n","import { mapByScoreToRecommendations } from './utils';\nimport { version } from './version';\nexport function getTrendingFacets(_ref) {\n  var recommendClient = _ref.recommendClient,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (x) {\n    return x;\n  } : _ref$transformItems,\n      fallbackParameters = _ref.fallbackParameters,\n      indexName = _ref.indexName,\n      maxRecommendations = _ref.maxRecommendations,\n      queryParameters = _ref.queryParameters,\n      threshold = _ref.threshold,\n      facetName = _ref.facetName;\n  var query = {\n    fallbackParameters: fallbackParameters,\n    indexName: indexName,\n    maxRecommendations: maxRecommendations,\n    queryParameters: queryParameters,\n    threshold: threshold,\n    facetName: facetName\n  };\n  recommendClient.addAlgoliaAgent('recommend-core', version);\n  return recommendClient.getTrendingFacets([query]).then(function (response) {\n    return mapByScoreToRecommendations({\n      maxRecommendations: maxRecommendations,\n      hits: response.results.map(function (result) {\n        return result.hits;\n      }).flat()\n    });\n  }).then(function (hits) {\n    return {\n      recommendations: transformItems(hits)\n    };\n  });\n}","import { GetTrendingFacetsProps } from '@algolia/recommend-core';\nimport {\n  createTrendingFacetsComponent,\n  TrendingComponentProps as TrendingFacetsVDOMProps,\n} from '@algolia/recommend-vdom';\nimport React, { createElement, Fragment } from 'react';\n\nimport { useTrendingFacets } from './useTrendingFacets';\n\nconst UncontrolledTrendingFacets = createTrendingFacetsComponent({\n  createElement,\n  Fragment,\n});\n\nexport type TrendingFacetsProps<TObject> = GetTrendingFacetsProps<TObject> &\n  Omit<TrendingFacetsVDOMProps<TObject>, 'items' | 'status'>;\n\nexport function TrendingFacets<TObject>(props: TrendingFacetsProps<TObject>) {\n  const { recommendations, status } = useTrendingFacets<TObject>(props);\n\n  return (\n    <UncontrolledTrendingFacets\n      {...props}\n      items={recommendations}\n      status={status}\n    />\n  );\n}\n","/** @jsx createElement */\nimport { cx } from './utils';\nexport function createFacetsView(_ref) {\n  var createElement = _ref.createElement,\n      Fragment = _ref.Fragment;\n  return function FacetsView(props) {\n    return createElement(\"div\", {\n      className: cx('auc-Recommend-container', props.classNames.container)\n    }, createElement(\"ol\", {\n      className: cx('auc-Recommend-list', props.classNames.list)\n    }, props.items.map(function (item) {\n      return createElement(\"li\", {\n        key: item.facetValue,\n        className: cx('auc-Recommend-item', props.classNames.item)\n      }, createElement(props.itemComponent, {\n        createElement: createElement,\n        Fragment: Fragment,\n        item: item\n      }));\n    })));\n  };\n}","import {\n  getTrendingItems,\n  GetTrendingItemsProps,\n  GetTrendingItemsResult,\n} from '@algolia/recommend-core';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useAlgoliaAgent } from './useAlgoliaAgent';\nimport { useStableValue } from './useStableValue';\nimport { useStatus } from './useStatus';\n\nexport type UseTrendingItemsProps<TObject> = GetTrendingItemsProps<TObject>;\n\nexport function useTrendingItems<TObject>({\n  fallbackParameters: userFallbackParameters,\n  indexName,\n  maxRecommendations,\n  queryParameters: userQueryParameters,\n  recommendClient,\n  threshold,\n  transformItems: userTransformItems,\n  facetName,\n  facetValue,\n}: UseTrendingItemsProps<TObject>) {\n  const [result, setResult] = useState<GetTrendingItemsResult<TObject>>({\n    recommendations: [],\n  });\n  const { status, setStatus } = useStatus('loading');\n  const queryParameters = useStableValue(userQueryParameters);\n  const fallbackParameters = useStableValue(userFallbackParameters);\n\n  useAlgoliaAgent({ recommendClient });\n\n  const transformItemsRef = useRef(userTransformItems);\n  useEffect(() => {\n    transformItemsRef.current = userTransformItems;\n  }, [userTransformItems]);\n\n  useEffect(() => {\n    setStatus('loading');\n    getTrendingItems({\n      recommendClient,\n      transformItems: transformItemsRef.current,\n      fallbackParameters,\n      indexName,\n      maxRecommendations,\n      queryParameters,\n      threshold,\n      facetName,\n      facetValue,\n    }).then((response) => {\n      setResult(response);\n      setStatus('idle');\n    });\n  }, [\n    fallbackParameters,\n    indexName,\n    maxRecommendations,\n    queryParameters,\n    recommendClient,\n    setStatus,\n    threshold,\n    facetName,\n    facetValue,\n  ]);\n\n  return {\n    ...result,\n    status,\n  };\n}\n","import { mapByScoreToRecommendations, uniqBy } from './utils';\nimport { version } from './version';\nexport function getTrendingItems(_ref) {\n  var recommendClient = _ref.recommendClient,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (x) {\n    return x;\n  } : _ref$transformItems,\n      fallbackParameters = _ref.fallbackParameters,\n      indexName = _ref.indexName,\n      maxRecommendations = _ref.maxRecommendations,\n      queryParameters = _ref.queryParameters,\n      threshold = _ref.threshold,\n      facetName = _ref.facetName,\n      facetValue = _ref.facetValue;\n  var query = {\n    fallbackParameters: fallbackParameters,\n    indexName: indexName,\n    maxRecommendations: maxRecommendations,\n    queryParameters: queryParameters,\n    threshold: threshold,\n    facetName: facetName,\n    facetValue: facetValue\n  };\n  recommendClient.addAlgoliaAgent('recommend-core', version);\n  return recommendClient.getTrendingItems([query]).then(function (response) {\n    return mapByScoreToRecommendations({\n      maxRecommendations: maxRecommendations,\n      // Multiple identical recommended `objectID`s can be returned b\n      // the engine, so we need to remove duplicates.\n      hits: uniqBy('objectID', response.results.map(function (result) {\n        return result.hits;\n      }).flat())\n    });\n  }).then(function (hits) {\n    return {\n      recommendations: transformItems(hits)\n    };\n  });\n}","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nexport function uniqBy(key, items) {\n  return _toConsumableArray(new Map(items.map(function (item) {\n    return [item[key], item];\n  })).values());\n}","import { GetTrendingItemsProps } from '@algolia/recommend-core';\nimport {\n  createTrendingItemsComponent,\n  TrendingItemsProps as TrendingItemsVDOMProps,\n} from '@algolia/recommend-vdom';\nimport React, { createElement, Fragment } from 'react';\n\nimport { useTrendingItems } from './useTrendingItems';\n\nconst UncontrolledTrendingItems = createTrendingItemsComponent({\n  createElement,\n  Fragment,\n});\n\nexport type TrendingItemsProps<TObject> = GetTrendingItemsProps<TObject> &\n  Omit<TrendingItemsVDOMProps<TObject>, 'items' | 'status'>;\n\nexport function TrendingItems<TObject>(props: TrendingItemsProps<TObject>) {\n  const { recommendations, status } = useTrendingItems<TObject>(props);\n\n  return (\n    <UncontrolledTrendingItems\n      {...props}\n      items={recommendations}\n      status={status}\n    />\n  );\n}\n","import {\n  getRecommendations,\n  GetRecommendationsProps,\n  GetRecommendationsResult,\n} from '@algolia/recommend-core';\nimport { useEffect, useRef, useState } from 'react';\n\nimport { useAlgoliaAgent } from './useAlgoliaAgent';\nimport { useStableValue } from './useStableValue';\nimport { useStatus } from './useStatus';\n\nexport type UseRecommendationsProps<TObject> = GetRecommendationsProps<TObject>;\n\nexport function useRecommendations<TObject>({\n  fallbackParameters: userFallbackParameters,\n  indexName,\n  maxRecommendations,\n  model,\n  objectIDs: userObjectIDs,\n  queryParameters: userQueryParameters,\n  recommendClient,\n  threshold,\n  transformItems: userTransformItems,\n}: UseRecommendationsProps<TObject>) {\n  const [result, setResult] = useState<GetRecommendationsResult<TObject>>({\n    recommendations: [],\n  });\n  const { status, setStatus } = useStatus('loading');\n  const objectIDs = useStableValue(userObjectIDs);\n  const queryParameters = useStableValue(userQueryParameters);\n  const fallbackParameters = useStableValue(userFallbackParameters);\n\n  useAlgoliaAgent({ recommendClient });\n\n  const transformItemsRef = useRef(userTransformItems);\n  useEffect(() => {\n    transformItemsRef.current = userTransformItems;\n  }, [userTransformItems]);\n\n  useEffect(() => {\n    setStatus('loading');\n    getRecommendations({\n      fallbackParameters,\n      indexName,\n      maxRecommendations,\n      model,\n      objectIDs,\n      queryParameters,\n      recommendClient,\n      threshold,\n      transformItems: transformItemsRef.current,\n    }).then((response) => {\n      setResult(response);\n      setStatus('idle');\n    });\n  }, [\n    fallbackParameters,\n    indexName,\n    maxRecommendations,\n    model,\n    objectIDs,\n    queryParameters,\n    recommendClient,\n    setStatus,\n    threshold,\n  ]);\n\n  return {\n    ...result,\n    status,\n  };\n}\n","import { mapToRecommendations } from './utils';\nimport { version } from './version';\nexport function getRecommendations(_ref) {\n  var objectIDs = _ref.objectIDs,\n      recommendClient = _ref.recommendClient,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (x) {\n    return x;\n  } : _ref$transformItems,\n      fallbackParameters = _ref.fallbackParameters,\n      indexName = _ref.indexName,\n      maxRecommendations = _ref.maxRecommendations,\n      model = _ref.model,\n      queryParameters = _ref.queryParameters,\n      threshold = _ref.threshold;\n  var queries = objectIDs.map(function (objectID) {\n    return {\n      fallbackParameters: fallbackParameters,\n      indexName: indexName,\n      maxRecommendations: maxRecommendations,\n      model: model,\n      objectID: objectID,\n      queryParameters: queryParameters,\n      threshold: threshold\n    };\n  });\n  recommendClient.addAlgoliaAgent('recommend-core', version);\n  return recommendClient.getRecommendations(queries).then(function (response) {\n    return mapToRecommendations({\n      maxRecommendations: maxRecommendations,\n      hits: response.results.map(function (result) {\n        return result.hits;\n      }),\n      nrOfObjs: objectIDs.length\n    });\n  }).then(function (hits) {\n    return {\n      recommendations: transformItems(hits)\n    };\n  });\n}"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","cx","_len","classNames","Array","_key","filter","Boolean","join","createDefaultChildrenComponent","_ref","createElement","Fragment","props","recommendations","status","Fallback","className","root","Header","translations","View","createDefaultHeaderComponent","title","createListViewComponent","container","list","items","map","item","objectID","itemComponent","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","_arrayLikeToArray","arr","len","arr2","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","toString","slice","constructor","name","from","test","_slicedToArray","isArray","arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","err","iterableToArrayLimit","unsupportedIterableToArray","TypeError","nonIterableRest","mapToRecommendations","hits","maxRecommendations","nrOfObjs","indexTracker","forEach","hitsArray","hit","index","indexSum","nr","sortedAverageIndices","avgIndices","_Object$keys","avgOfIndices","sort","a","b","getAverageIndices","reduce","orderedHits","avgIndexRef","result","flat","find","concat","undefined","_toConsumableArray","arrayWithoutHoles","iter","iterableToArray","nonIterableSpread","mapByScoreToRecommendations","predicate","itemsCopy","_score","version","useAlgoliaAgent","useEffect","recommendClient","addAlgoliaAgent","has","dequal","foo","bar","ctor","Date","getTime","RegExp","useStableValue","useState","stableValue","setStableValue","useStatus","initialStatus","timerId","useRef","setStatus","current","clearTimeout","setTimeout","useFrequentlyBoughtTogether","indexName","userObjectIDs","objectIDs","userQueryParameters","queryParameters","threshold","userTransformItems","transformItems","setResult","transformItemsRef","_ref$transformItems","x","queries","getFrequentlyBoughtTogether","then","response","results","UncontrolledFrequentlyBoughtTogether","_props$classNames","_props$children","_props$fallbackCompon","_props$headerComponen","_props$view","getOwnPropertyDescriptors","defineProperties","_objectSpread","sliderLabel","children","FallbackComponent","fallbackComponent","headerComponent","ViewComponent","view","viewProps","useRelatedProducts","userFallbackParameters","fallbackParameters","getRelatedProducts","UncontrolledRelatedProducts","createRelatedProductsComponent","useTrendingFacets","facetName","query","getTrendingFacets","UncontrolledTrendingFacets","facetValue","createFacetsView","createTrendingFacetsComponent","useTrendingItems","getTrendingItems","Map","values","UncontrolledTrendingItems","createTrendingItemsComponent","React","model","getRecommendations"],"mappings":"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"}