!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.htm=n()}(this,function(){return function(e){for(var n,t,o=arguments,f=1,i="",s="",u=[0],l=function(e){1===f&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(e?o[e]:i):3===f&&(e||i)?(u[1]=e?o[e]:i,f=2):2===f&&"..."===i&&e?u[2]=Object.assign(u[2]||{},o[e]):2===f&&i&&!e?(u[2]=u[2]||{})[i]=!0:f>=5&&(5===f?((u[2]=u[2]||{})[t]=e?i?i+o[e]:o[e]:i,f=6):(e||i)&&(u[2][t]+=e?i+o[e]:i)),i=""},r=0;r<e.length;r++){r&&(1===f&&l(),l(r));for(var c=0;c<e[r].length;c++)n=e[r][c],1===f?"<"===n?(l(),u=[u,"",null],f=3):i+=n:4===f?"--"===i&&">"===n?(f=1,i=""):i=n+i[0]:s?n===s?s="":i+=n:'"'===n||"'"===n?s=n:">"===n?(l(),f=1):f&&("="===n?(f=5,t=i,i=""):"/"===n&&(f<5||">"===e[r][c+1])?(l(),3===f&&(u=u[0]),f=u,(u=u[0]).push(this.apply(null,f.slice(1))),f=0):" "===n||"\t"===n||"\n"===n||"\r"===n?(l(),f=2):i+=n),3===f&&"!--"===i&&(f=4,u=u[0])}return l(),u.length>2?u.slice(1):u[1]}});
