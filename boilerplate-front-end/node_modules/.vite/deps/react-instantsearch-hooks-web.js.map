{
  "version": 3,
  "sources": ["../../algoliasearch-helper/src/functions/merge.js", "../../algoliasearch-helper/src/functions/defaultsPure.js", "../../algoliasearch-helper/src/functions/intersection.js", "../../algoliasearch-helper/src/functions/find.js", "../../algoliasearch-helper/src/functions/valToNumber.js", "../../algoliasearch-helper/src/functions/omit.js", "../../algoliasearch-helper/src/functions/objectHasKeys.js", "../../algoliasearch-helper/src/utils/isValidUserToken.js", "../../algoliasearch-helper/src/SearchParameters/RefinementList.js", "../../algoliasearch-helper/src/SearchParameters/index.js", "../../algoliasearch-helper/src/functions/orderBy.js", "../../algoliasearch-helper/src/functions/compact.js", "../../algoliasearch-helper/src/functions/findIndex.js", "../../algoliasearch-helper/src/functions/formatSort.js", "../../algoliasearch-helper/src/functions/escapeFacetValue.js", "../../algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js", "../../algoliasearch-helper/src/SearchResults/index.js", "../../@algolia/events/events.js", "../../algoliasearch-helper/src/functions/inherits.js", "../../algoliasearch-helper/src/DerivedHelper/index.js", "../../algoliasearch-helper/src/requestBuilder.js", "../../algoliasearch-helper/src/version.js", "../../algoliasearch-helper/src/algoliasearch.helper.js", "../../algoliasearch-helper/index.js", "../../react-instantsearch-hooks/dist/es/version.js", "../../instantsearch.js/es/connectors/configure/connectConfigure.js", "../../react-instantsearch-hooks/dist/es/hooks/useConnector.js", "../../react-instantsearch-hooks/dist/es/lib/dequal.js", "../../react-instantsearch-hooks/dist/es/lib/createSearchResults.js", "../../react-instantsearch-hooks/dist/es/lib/getIndexSearchResults.js", "../../react-instantsearch-hooks/dist/es/lib/useIndexContext.js", "../../react-instantsearch-hooks/dist/es/lib/invariant.js", "../../react-instantsearch-hooks/dist/es/lib/IndexContext.js", "../../react-instantsearch-hooks/dist/es/lib/useInstantSearchContext.js", "../../react-instantsearch-hooks/dist/es/lib/InstantSearchContext.js", "../../react-instantsearch-hooks/dist/es/lib/useInstantSearchServerContext.js", "../../react-instantsearch-hooks/dist/es/components/InstantSearchServerContext.js", "../../react-instantsearch-hooks/dist/es/lib/useStableValue.js", "../../react-instantsearch-hooks/dist/es/lib/useWidget.js", "../../react-instantsearch-hooks/dist/es/lib/useIsomorphicLayoutEffect.js", "../../react-instantsearch-hooks/dist/es/connectors/useConfigure.js", "../../react-instantsearch-hooks/dist/es/components/Configure.js", "../../react-instantsearch-hooks/dist/es/components/DynamicWidgets.js", "../../instantsearch.js/es/connectors/dynamic-widgets/connectDynamicWidgets.js", "../../react-instantsearch-hooks/dist/es/connectors/useDynamicWidgets.js", "../../react-instantsearch-hooks/dist/es/components/Index.js", "../../instantsearch.js/es/widgets/index/index.js", "../../react-instantsearch-hooks/dist/es/lib/useIndex.js", "../../react-instantsearch-hooks/dist/es/lib/useForceUpdate.js", "../../react-instantsearch-hooks/dist/es/lib/useInstantSearchSSRContext.js", "../../react-instantsearch-hooks/dist/es/lib/InstantSearchSSRContext.js", "../../react-instantsearch-hooks/dist/es/components/InstantSearch.js", "../../instantsearch.js/es/lib/InstantSearch.js", "../../instantsearch.js/es/lib/version.js", "../../instantsearch.js/es/lib/formatNumber.js", "../../instantsearch.js/es/lib/createHelpers.js", "../../react-instantsearch-hooks/dist/es/lib/useInstantSearchApi.js", "../../react-instantsearch-hooks/dist/es/components/InstantSearchSSRProvider.js", "../../instantsearch.js/es/connectors/breadcrumb/connectBreadcrumb.js", "../../react-instantsearch-hooks/dist/es/connectors/useBreadcrumb.js", "../../instantsearch.js/es/connectors/clear-refinements/connectClearRefinements.js", "../../react-instantsearch-hooks/dist/es/connectors/useClearRefinements.js", "../../instantsearch.js/es/connectors/current-refinements/connectCurrentRefinements.js", "../../react-instantsearch-hooks/dist/es/connectors/useCurrentRefinements.js", "../../instantsearch.js/es/connectors/hierarchical-menu/connectHierarchicalMenu.js", "../../react-instantsearch-hooks/dist/es/connectors/useHierarchicalMenu.js", "../../instantsearch.js/es/connectors/hits/connectHits.js", "../../react-instantsearch-hooks/dist/es/connectors/useHits.js", "../../instantsearch.js/es/connectors/hits-per-page/connectHitsPerPage.js", "../../react-instantsearch-hooks/dist/es/connectors/useHitsPerPage.js", "../../instantsearch.js/es/connectors/infinite-hits/connectInfiniteHits.js", "../../react-instantsearch-hooks/dist/es/connectors/useInfiniteHits.js", "../../instantsearch.js/es/connectors/menu/connectMenu.js", "../../react-instantsearch-hooks/dist/es/connectors/useMenu.js", "../../instantsearch.js/es/connectors/numeric-menu/connectNumericMenu.js", "../../react-instantsearch-hooks/dist/es/connectors/useNumericMenu.js", "../../instantsearch.js/es/connectors/pagination/Paginator.js", "../../instantsearch.js/es/connectors/pagination/connectPagination.js", "../../react-instantsearch-hooks/dist/es/connectors/usePagination.js", "../../react-instantsearch-hooks/dist/es/connectors/usePoweredBy.js", "../../instantsearch.js/es/connectors/query-rules/connectQueryRules.js", "../../react-instantsearch-hooks/dist/es/connectors/useQueryRules.js", "../../instantsearch.js/es/connectors/range/connectRange.js", "../../react-instantsearch-hooks/dist/es/connectors/useRange.js", "../../instantsearch.js/es/connectors/refinement-list/connectRefinementList.js", "../../react-instantsearch-hooks/dist/es/connectors/useRefinementList.js", "../../instantsearch.js/es/connectors/search-box/connectSearchBox.js", "../../react-instantsearch-hooks/dist/es/connectors/useSearchBox.js", "../../instantsearch.js/es/connectors/sort-by/connectSortBy.js", "../../react-instantsearch-hooks/dist/es/connectors/useSortBy.js", "../../instantsearch.js/es/connectors/toggle-refinement/connectToggleRefinement.js", "../../react-instantsearch-hooks/dist/es/connectors/useToggleRefinement.js", "../../react-instantsearch-hooks/dist/es/hooks/useInstantSearch.js", "../../react-instantsearch-hooks/dist/es/lib/useSearchResults.js", "../../react-instantsearch-hooks/dist/es/lib/useSearchState.js", "../../react-instantsearch-hooks-web/dist/es/widgets/Breadcrumb.js", "../../react-instantsearch-hooks-web/dist/es/ui/Breadcrumb.js", "../../react-instantsearch-hooks-web/dist/es/ui/lib/cx.js", "../../react-instantsearch-hooks-web/dist/es/ui/lib/isModifierClick.js", "../../react-instantsearch-hooks-web/dist/es/widgets/ClearRefinements.js", "../../react-instantsearch-hooks-web/dist/es/ui/ClearRefinements.js", "../../react-instantsearch-hooks-web/dist/es/widgets/CurrentRefinements.js", "../../react-instantsearch-hooks-web/dist/es/ui/CurrentRefinements.js", "../../react-instantsearch-hooks-web/dist/es/widgets/HierarchicalMenu.js", "../../react-instantsearch-hooks-web/dist/es/ui/HierarchicalMenu.js", "../../react-instantsearch-hooks-web/dist/es/ui/ShowMoreButton.js", "../../react-instantsearch-hooks-web/dist/es/widgets/Highlight.js", "../../react-instantsearch-hooks-web/dist/es/ui/Highlight.js", "../../react-instantsearch-hooks-web/dist/es/ui/InternalHighlight.js", "../../react-instantsearch-hooks-web/dist/es/widgets/Hits.js", "../../react-instantsearch-hooks-web/dist/es/ui/Hits.js", "../../react-instantsearch-hooks-web/dist/es/widgets/HitsPerPage.js", "../../react-instantsearch-hooks-web/dist/es/ui/HitsPerPage.js", "../../react-instantsearch-hooks-web/dist/es/widgets/InfiniteHits.js", "../../react-instantsearch-hooks-web/dist/es/ui/InfiniteHits.js", "../../react-instantsearch-hooks-web/dist/es/widgets/Menu.js", "../../react-instantsearch-hooks-web/dist/es/ui/Menu.js", "../../react-instantsearch-hooks-web/dist/es/widgets/Pagination.js", "../../react-instantsearch-hooks-web/dist/es/ui/Pagination.js", "../../react-instantsearch-hooks-web/dist/es/widgets/PoweredBy.js", "../../react-instantsearch-hooks-web/dist/es/ui/PoweredBy.js", "../../react-instantsearch-hooks-web/dist/es/widgets/RangeInput.js", "../../react-instantsearch-hooks-web/dist/es/ui/RangeInput.js", "../../react-instantsearch-hooks-web/dist/es/widgets/RefinementList.js", "../../react-instantsearch-hooks-web/dist/es/ui/RefinementList.js", "../../react-instantsearch-hooks-web/dist/es/ui/SearchBox.js", "../../react-instantsearch-hooks-web/dist/es/widgets/SearchBox.js", "../../react-instantsearch-hooks-web/dist/es/widgets/Snippet.js", "../../react-instantsearch-hooks-web/dist/es/ui/Snippet.js", "../../react-instantsearch-hooks-web/dist/es/widgets/SortBy.js", "../../react-instantsearch-hooks-web/dist/es/ui/SortBy.js", "../../react-instantsearch-hooks-web/dist/es/widgets/ToggleRefinement.js", "../../react-instantsearch-hooks-web/dist/es/ui/ToggleRefinement.js"],
  "sourcesContent": ["'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return (\n    typeof value === 'function' ||\n    Array.isArray(value) ||\n    Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (\n      !Object.prototype.hasOwnProperty.call(source, key) ||\n      key === '__proto__'\n    ) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (\n      isObjectOrArrayOrFunction(targetVal) &&\n      isObjectOrArrayOrFunction(sourceVal)\n    ) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n  return target;\n}\n\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n  return target;\n}\n\nmodule.exports = merge;\n", "'use strict';\n\n// NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n\n  return sources.reduceRight(function(acc, source) {\n    Object.keys(Object(source)).forEach(function(key) {\n      if (source[key] === undefined) {\n        return;\n      }\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};\n", "'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function(value, index) {\n    return (\n      arr2.indexOf(value) > -1 &&\n      arr1.indexOf(value) === index /* skips duplicates */\n    );\n  });\n}\n\nmodule.exports = intersection;\n", "'use strict';\n\n// @MAJOR can be replaced by native Array#find when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};\n", "'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;\n", "'use strict';\n\n// https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n", "'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;\n", "'use strict';\n\nmodule.exports = function isValidUserToken(userToken) {\n  if (userToken === null) {\n    return false;\n  }\n  return /^[a-zA-Z0-9_-]{1,64}$/.test(userToken);\n};\n", "'use strict';\n\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n\n    var facetRefinement = !refinementList[attribute] ?\n      [valueAsString] :\n      refinementList[attribute].concat(valueAsString);\n\n    var mod = {};\n\n    mod[attribute] = facetRefinement;\n\n    return defaultsPure({}, mod, refinementList);\n  },\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function(v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n\n    return lib.clearRefinement(refinementList, function(v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n\n      var newRefinementList = Object.keys(refinementList).reduce(function(memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function(value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n        memo[key] = facetList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] &&\n      refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\n\nmodule.exports = lib;\n", "'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar intersection = require('../functions/intersection');\nvar find = require('../functions/find');\nvar valToNumber = require('../functions/valToNumber');\nvar omit = require('../functions/omit');\nvar objectHasKeys = require('../functions/objectHasKeys');\nvar isValidUserToken = require('../utils/isValidUserToken');\n\nvar RefinementList = require('./RefinementList');\n\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return (\n      a.length === b.length &&\n      a.every(function(el, i) {\n        return isEqualNumericRefinement(b[i], el);\n      })\n    );\n  }\n  return a === b;\n}\n\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\nfunction findArray(array, searchedValue) {\n  return find(array, function(currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n\n  if (params.userToken !== undefined && !isValidUserToken(params.userToken)) {\n    console.warn('[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\\n  - Format: [a-zA-Z0-9_-]{1,64}');\n  }\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n  this.hierarchicalFacets = params.hierarchicalFacets || [];\n\n  // Refinements\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n\n  var self = this;\n  Object.keys(params).forEach(function(paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\nSearchParameters._parseNumbers = function(partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n\n  var numbers = {};\n\n  var numberKeys = [\n    'aroundPrecision',\n    'aroundRadius',\n    'getRankingInfo',\n    'minWordSizefor2Typos',\n    'minWordSizefor1Typo',\n    'page',\n    'maxValuesPerFacet',\n    'distinct',\n    'minimumAroundRadius',\n    'hitsPerPage',\n    'minProximity'\n  ];\n\n  numberKeys.forEach(function(k) {\n    var value = partialState[k];\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value);\n      // global isNaN is ok to use here, value is only number or NaN\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  });\n\n  // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function(geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function(value) {\n          return parseFloat(value);\n        });\n      }\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function(attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function(v) {\n          if (Array.isArray(v)) {\n            return v.map(function(vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function(facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      }\n\n      // get it again in case it has been cleared\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n\n  return instance;\n};\n\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\nSearchParameters.validate = function(currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error(\n      '[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' +\n      'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error(\n      '[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' +\n      'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (\n    currentState.numericFilters &&\n    params.numericRefinements &&\n    objectHasKeys(params.numericRefinements)\n  ) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the advanced to the managed API. It\" +\n        ' is probably an error, if this is really what you want, you have to first' +\n        ' clear the numeric filters.'\n    );\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\n      \"[Numeric filters] Can't switch from the managed API to the advanced. It\" +\n      ' is probably an error, if this is really what you want, you have to first' +\n      ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(\n        this.facetsRefinements,\n        attribute,\n        'conjunctiveFacet'\n      ),\n      facetsExcludes: RefinementList.clearRefinement(\n        this.facetsExcludes,\n        attribute,\n        'exclude'\n      ),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(\n        this.disjunctiveFacetsRefinements,\n        attribute,\n        'disjunctiveFacet'\n      ),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(\n        this.hierarchicalFacetsRefinements,\n        attribute,\n        'hierarchicalFacet'\n      )\n    };\n    if (\n      patch.numericRefinements === this.numericRefinements &&\n      patch.facetsRefinements === this.facetsRefinements &&\n      patch.facetsExcludes === this.facetsExcludes &&\n      patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements &&\n      patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements\n    ) {\n      return this;\n    }\n    return this.setQueryParameters(patch);\n  },\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function(attribute, operator, v) {\n    var value = valToNumber(v);\n\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n\n    var mod = merge({}, this.numericRefinements);\n\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice();\n      // Add the element. Concat can't be used here because value can be an array.\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return (\n            key === attribute &&\n            value.op === operator &&\n            isEqualNumericRefinement(value.val, valToNumber(paramValue))\n          );\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function(value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function(value, key) {\n        return key === attribute;\n      })\n    });\n  },\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList} list of refinements\n   */\n  getNumericRefinements: function(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function(memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n\n        operators = operators || {};\n        Object.keys(operators).forEach(function(operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function(value) {\n            var predicateResult = attribute({val: value, op: operator}, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n          operatorList[operator] = outValues;\n        });\n\n        memo[key] = operatorList;\n\n        return memo;\n      }, {});\n\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error(\n        'Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function(f) {\n        return f !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function(f) {\n        return f.name !== facet;\n      })\n    });\n  },\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function(t) {\n        return t !== tag;\n      })\n    };\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet +\n      '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(\n        this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(\n        facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined &&\n      this.hierarchicalFacetsRefinements[facet].length > 0 && (\n      // remove current refinement:\n      // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0] === value ||\n      // remove a parent refinement of the current refinement:\n      //  - refinement was 'beer > IPA > Flying dog'\n      //  - call is toggleRefine('beer > IPA')\n      //  - refinement should be `beer`\n      this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0\n    );\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined =\n      this.numericRefinements[attribute] &&\n      this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined =\n      findArray(this.numericRefinements[attribute][operator], parsedValue) !==\n      undefined;\n\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this;\n\n    // attributes used for numeric filter can also be disjunctive\n    var disjunctiveNumericRefinedFacets = intersection(\n      Object.keys(this.numericRefinements).filter(function(facet) {\n        return Object.keys(self.numericRefinements[facet]).length > 0;\n      }),\n      this.disjunctiveFacets\n    );\n\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function(facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    })\n      .concat(disjunctiveNumericRefinedFacets)\n      .concat(this.getRefinedHierarchicalFacets());\n  },\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection(\n      // enforce the order between the two arrays,\n      // so that refinement name index === hierarchical facet index\n      this.hierarchicalFacets.map(function(facet) { return facet.name; }),\n      Object.keys(this.hierarchicalFacetsRefinements).filter(function(facet) {\n        return self.hierarchicalFacetsRefinements[facet].length > 0;\n      })\n    );\n  },\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n\n    return this.disjunctiveFacets.filter(function(f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n\n  managedParameters: [\n    'index',\n\n    'facets',\n    'disjunctiveFacets',\n    'facetsRefinements',\n    'hierarchicalFacets',\n    'facetsExcludes',\n\n    'disjunctiveFacetsRefinements',\n    'numericRefinements',\n    'tagRefinements',\n    'hierarchicalFacetsRefinements'\n  ],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n\n    var queryParams = {};\n\n    var self = this;\n    Object.keys(this).forEach(function(paramName) {\n      var paramValue = self[paramName];\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n\n    return queryParams;\n  },\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n\n    var modification = {};\n\n    modification[parameter] = value;\n\n    return this.setQueryParameters(modification);\n  },\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n    var previousPlainObject = Object.keys(this).reduce(function(acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(\n      function(previous, key) {\n        var isPreviousValueDefined = previous[key] !== undefined;\n        var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n        if (isPreviousValueDefined && !isNextValueDefined) {\n          return omit(previous, [key]);\n        }\n\n        if (isNextValueDefined) {\n          previous[key] = nextWithNumbers[key];\n        }\n\n        return previous;\n      },\n      previousPlainObject\n    );\n\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function(hierarchicalFacetName) {\n    return find(\n      this.hierarchicalFacets,\n      function(f) {\n        return f.name === hierarchicalFacetName;\n      }\n    );\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(\n      this.getHierarchicalFacetByName(facetName)\n    );\n    var path = refinement.split(separator);\n    return path.map(function(part) {\n      return part.trim();\n    });\n  },\n\n  toString: function() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\nmodule.exports = SearchParameters;\n", "'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (\n      (!othIsNull && value > other) ||\n      (valIsNull && othIsDefined) ||\n      !valIsDefined\n    ) {\n      return 1;\n    }\n    if (\n      (!valIsNull && value < other) ||\n      (othIsNull && valIsDefined) ||\n      !othIsDefined\n    ) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function(value, index) {\n    return {\n      criteria: iteratees.map(function(iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n        return res;\n      }\n    }\n\n    // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  });\n\n  return result.map(function(res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;\n", "'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};\n", "'use strict';\n\n// @MAJOR can be replaced by native Array#findIndex when we change support\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n};\n", "'use strict';\n\nvar find = require('./find');\n\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function(sort) {\n    return sort.split(':');\n  });\n\n  return sortBy.reduce(\n    function preparePredicate(out, sort) {\n      var sortInstruction = sort.split(':');\n\n      var matchingDefault = find(defaultInstructions, function(\n        defaultInstruction\n      ) {\n        return defaultInstruction[0] === sortInstruction[0];\n      });\n\n      if (sortInstruction.length > 1 || !matchingDefault) {\n        out[0].push(sortInstruction[0]);\n        out[1].push(sortInstruction[1]);\n        return out;\n      }\n\n      out[0].push(matchingDefault[0]);\n      out[1].push(matchingDefault[1]);\n      return out;\n    },\n    [[], []]\n  );\n};\n", "'use strict';\n\n/**\n * Replaces a leading - with \\-\n * @private\n * @param {any} value the facet value to replace\n * @returns any\n */\nfunction escapeFacetValue(value) {\n  if (typeof value !== 'string') return value;\n\n  return String(value).replace(/^-/, '\\\\-');\n}\n\n/**\n * Replaces a leading \\- with -\n * @private\n * @param {any} value the escaped facet value\n * @returns any\n */\nfunction unescapeFacetValue(value) {\n  if (typeof value !== 'string') return value;\n\n  return value.replace(/^\\\\-/, '-');\n}\n\nmodule.exports = {\n  escapeFacetValue: escapeFacetValue,\n  unescapeFacetValue: unescapeFacetValue\n};\n", "'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\nvar find = require('../functions/find');\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\nvar fv = require('../functions/escapeFacetValue');\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement =\n      (state.hierarchicalFacetsRefinements[hierarchicalFacet.name] &&\n        state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0]) ||\n      '';\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(\n      hierarchicalFacet\n    );\n    var hierarchicalRootPath = state._getHierarchicalRootPath(\n      hierarchicalFacet\n    );\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(\n      hierarchicalFacet\n    );\n    var sortBy = prepareHierarchicalFacetSortBy(\n      state._getHierarchicalFacetSortBy(hierarchicalFacet)\n    );\n\n    var rootExhaustive = hierarchicalFacetResult.every(function(facetResult) {\n      return facetResult.exhaustive;\n    });\n\n    var generateTreeFn = generateHierarchicalTree(\n      sortBy,\n      hierarchicalSeparator,\n      hierarchicalRootPath,\n      hierarchicalShowParentLevel,\n      hierarchicalFacetRefinement\n    );\n\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(\n        hierarchicalRootPath.split(hierarchicalSeparator).length\n      );\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null, // root level, no count\n      isRefined: true, // root level, always refined\n      path: null, // root level, no path\n      escapedValue: null,\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(\n  sortBy,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel,\n  currentRefinement\n) {\n  return function generateTree(\n    hierarchicalTree,\n    hierarchicalFacetResult,\n    currentHierarchicalLevel\n  ) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function(subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    }\n\n    // we found a refined parent, let's add current level data under it\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bi\u00E8res'],\n      //       level1: ['beers > IPA', 'bi\u00E8res > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bi\u00E8res > Belges`\n      // showing up\n\n      var picked = Object.keys(hierarchicalFacetResult.data)\n        .map(function(facetValue) {\n          return [facetValue, hierarchicalFacetResult.data[facetValue]];\n        })\n        .filter(function(tuple) {\n          var facetValue = tuple[0];\n          return onlyMatchingTree(\n            facetValue,\n            parent.path || hierarchicalRootPath,\n            currentRefinement,\n            hierarchicalSeparator,\n            hierarchicalRootPath,\n            hierarchicalShowParentLevel\n          );\n        });\n\n      parent.data = orderBy(\n        picked.map(function(tuple) {\n          var facetValue = tuple[0];\n          var facetCount = tuple[1];\n\n          return format(\n            facetCount,\n            facetValue,\n            hierarchicalSeparator,\n            unescapeFacetValue(currentRefinement),\n            hierarchicalFacetResult.exhaustive\n          );\n        }),\n        sortBy[0],\n        sortBy[1]\n      );\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(\n  facetValue,\n  parentPath,\n  currentRefinement,\n  hierarchicalSeparator,\n  hierarchicalRootPath,\n  hierarchicalShowParentLevel\n) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (\n    hierarchicalRootPath &&\n    (facetValue.indexOf(hierarchicalRootPath) !== 0 ||\n      hierarchicalRootPath === facetValue)\n  ) {\n    return false;\n  }\n\n  // we always want root levels (only when there is no prefix path)\n  return (\n    (!hierarchicalRootPath &&\n      facetValue.indexOf(hierarchicalSeparator) === -1) ||\n    // if there is a rootPath, being root level mean 1 level under rootPath\n    (hierarchicalRootPath &&\n      facetValue.split(hierarchicalSeparator).length -\n        hierarchicalRootPath.split(hierarchicalSeparator).length ===\n        1) ||\n    // if current refinement is a root level and current facetValue is a root level,\n    // keep the facetValue\n    (facetValue.indexOf(hierarchicalSeparator) === -1 &&\n      currentRefinement.indexOf(hierarchicalSeparator) === -1) ||\n    // currentRefinement is a child of the facet value\n    currentRefinement.indexOf(facetValue) === 0 ||\n    // facetValue is a child of the current parent, add it\n    (facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 &&\n      (hierarchicalShowParentLevel ||\n        facetValue.indexOf(currentRefinement) === 0))\n  );\n}\n\nfunction format(\n  facetCount,\n  facetValue,\n  hierarchicalSeparator,\n  currentRefinement,\n  exhaustive\n) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    escapedValue: escapeFacetValue(facetValue),\n    count: facetCount,\n    isRefined:\n      currentRefinement === facetValue ||\n      currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}\n", "'use strict';\n\nvar merge = require('../functions/merge');\nvar defaultsPure = require('../functions/defaultsPure');\nvar orderBy = require('../functions/orderBy');\nvar compact = require('../functions/compact');\nvar find = require('../functions/find');\nvar findIndex = require('../functions/findIndex');\nvar formatSort = require('../functions/formatSort');\nvar fv = require('../functions/escapeFacetValue');\nvar escapeFacetValue = fv.escapeFacetValue;\nvar unescapeFacetValue = fv.unescapeFacetValue;\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\nfunction getIndices(attributes) {\n  var indices = {};\n\n  attributes.forEach(function(val, idx) {\n    indices[val] = idx;\n  });\n\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\nfunction findMatchingHierarchicalFacetFromAttributeName(\n  hierarchicalFacets,\n  hierarchicalAttributeName\n) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(\n    hierarchicalFacet\n  ) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n\n/*eslint-disable */\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devi\u2026d=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex\u2122\": 202,\n            \"Insignia\u2122\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n/*eslint-enable */\nfunction SearchResults(state, results, options) {\n  var mainSubResponse = results[0];\n\n  this._rawResults = results;\n\n  var self = this;\n\n  // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n  Object.keys(mainSubResponse).forEach(function(key) {\n    self[key] = mainSubResponse[key];\n  });\n\n  // Make every key of the result options reachable from the instance\n  Object.keys(options || {}).forEach(function(key) {\n    self[key] = options[key];\n  });\n\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n  this.processingTimeMS = results.reduce(function(sum, result) {\n    return result.processingTimeMS === undefined\n      ? sum\n      : sum + result.processingTimeMS;\n  }, 0);\n\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n  this.facets = [];\n\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1;\n\n  // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n\n  Object.keys(mainFacets).forEach(function(facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(\n      state.hierarchicalFacets,\n      facetKey\n    );\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function(f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  });\n\n  // Make sure we do not keep holes within the hierarchical facets\n  this.hierarchicalFacets = compact(this.hierarchicalFacets);\n\n  // aggregate the refined disjunctive facets\n  disjunctiveFacets.forEach(function(disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet);\n\n    // There should be only item in facets.\n    Object.keys(facets).forEach(function(dfacet) {\n      var facetResults = facets[dfacet];\n\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge(\n          {},\n          self.hierarchicalFacets[position][attributeIndex].data,\n          facetResults\n        );\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function(refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] &&\n              state.disjunctiveFacetsRefinements[dfacet].indexOf(unescapeFacetValue(refinementValue)) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  });\n\n  // if we have some parent level values for hierarchical facets, merge them\n  state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n    // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    results.slice(nextDisjunctiveResult).forEach(function(result) {\n      var facets = result && result.facets\n        ? result.facets\n        : {};\n\n      Object.keys(facets).forEach(function(dfacet) {\n        var facetResults = facets[dfacet];\n        var position = findIndex(state.hierarchicalFacets, function(f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function(f) {\n          return f.attribute === dfacet;\n        });\n\n        // previous refinements and no results so not able to find it\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n        // then the disjunctive values will be `beers` (count: 100),\n        // but we do not want to display\n        //   | beers (100)\n        //     > IPA (5)\n        // We want\n        //   | beers (5)\n        //     > IPA (5)\n        var defaultData = {};\n\n        if (currentRefinement.length > 0) {\n          var root = currentRefinement[0].split(separator)[0];\n          defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(\n          defaultData,\n          facetResults,\n          self.hierarchicalFacets[position][attributeIndex].data\n        );\n      });\n\n      nextDisjunctiveResult++;\n    });\n  });\n\n  // add the excludes\n  Object.keys(state.facetsExcludes).forEach(function(facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function(facetValue) {\n      self.facets[position] = self.facets[position] || {name: facetName};\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n\n  /**\n   * @type {Array}\n   */\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n\n  /**\n   * @type {Array}\n   */\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n\n  this._state = state;\n}\n\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\nSearchResults.prototype.getFacetByName = function(name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) ||\n    find(this.disjunctiveFacets, predicate) ||\n    find(this.hierarchicalFacets, predicate);\n};\n\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n\n    return Object.keys(facet.data).map(function(name) {\n      var value = escapeFacetValue(name);\n      return {\n        name: name,\n        escapedValue: value,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, value),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n\n    return Object.keys(disjunctiveFacet.data).map(function(name) {\n      var value = escapeFacetValue(name);\n      return {\n        name: name,\n        escapedValue: value,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, value)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    return find(results.hierarchicalFacets, predicate);\n  }\n}\n\n/**\n * Sort nodes of a hierarchical or disjunctive facet results\n * @private\n * @param {function} sortFn\n * @param {HierarchicalFacet|Array} node node upon which we want to apply the sort\n * @param {string[]} names attribute names\n * @param {number} [level=0] current index in the names array\n */\nfunction recSort(sortFn, node, names, level) {\n  level = level || 0;\n\n  if (Array.isArray(node)) {\n    return sortFn(node, names[level]);\n  }\n\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function(childNode) {\n    return recSort(sortFn, childNode, names, level + 1);\n  });\n  var sortedChildren = sortFn(children, names[level]);\n  var newNode = defaultsPure({data: sortedChildren}, node);\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n\n/**\n * @typedef FacetOrdering\n * @type {Object}\n * @property {string[]} [order]\n * @property {'count' | 'alpha' | 'hidden'} [sortRemainingBy]\n */\n\n/**\n * Sorts facet arrays via their facet ordering\n * @param {Array} facetValues the values\n * @param {FacetOrdering} facetOrdering the ordering\n * @returns {Array}\n */\nfunction sortViaFacetOrdering(facetValues, facetOrdering) {\n  var orderedFacets = [];\n  var remainingFacets = [];\n\n  var order = facetOrdering.order || [];\n  /**\n   * an object with the keys being the values in order, the values their index:\n   * ['one', 'two'] -> { one: 0, two: 1 }\n   */\n  var reverseOrder = order.reduce(function(acc, name, i) {\n    acc[name] = i;\n    return acc;\n  }, {});\n\n  facetValues.forEach(function(item) {\n    // hierarchical facets get sorted using their raw name\n    var name = item.path || item.name;\n    if (reverseOrder[name] !== undefined) {\n      orderedFacets[reverseOrder[name]] = item;\n    } else {\n      remainingFacets.push(item);\n    }\n  });\n\n  orderedFacets = orderedFacets.filter(function(facet) {\n    return facet;\n  });\n\n  var sortRemainingBy = facetOrdering.sortRemainingBy;\n  var ordering;\n  if (sortRemainingBy === 'hidden') {\n    return orderedFacets;\n  } else if (sortRemainingBy === 'alpha') {\n    ordering = [['path', 'name'], ['asc', 'asc']];\n  } else {\n    ordering = [['count'], ['desc']];\n  }\n\n  return orderedFacets.concat(\n    orderBy(remainingFacets, ordering[0], ordering[1])\n  );\n}\n\n/**\n * @param {SearchResults} results the search results class\n * @param {string} attribute the attribute to retrieve ordering of\n * @returns {FacetOrdering=}\n */\nfunction getFacetOrdering(results, attribute) {\n  return (\n    results.renderingContent &&\n    results.renderingContent.facetOrdering &&\n    results.renderingContent.facetOrdering.values &&\n    results.renderingContent.facetOrdering.values[attribute]\n  );\n}\n\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {boolean} [opts.facetOrdering]\n * Force the use of facetOrdering from the result if a sortBy is present. If\n * sortBy isn't present, facetOrdering will be used automatically.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\nSearchResults.prototype.getFacetValues = function(attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {\n    sortBy: SearchResults.DEFAULT_SORT,\n    // if no sortBy is given, attempt to sort based on facetOrdering\n    // if it is given, we still allow to sort via facet ordering first\n    facetOrdering: !(opts && opts.sortBy)\n  });\n\n  var results = this;\n  var attributes;\n  if (Array.isArray(facetValues)) {\n    attributes = [attribute];\n  } else {\n    var config = results._state.getHierarchicalFacetByName(facetValues.name);\n    attributes = config.attributes;\n  }\n\n  return recSort(function(data, facetName) {\n    if (options.facetOrdering) {\n      var facetOrdering = getFacetOrdering(results, facetName);\n      if (Boolean(facetOrdering)) {\n        return sortViaFacetOrdering(data, facetOrdering);\n      }\n    }\n\n    if (Array.isArray(options.sortBy)) {\n      var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n      return orderBy(data, order[0], order[1]);\n    } else if (typeof options.sortBy === 'function') {\n      return vanillaSortFn(options.sortBy, data);\n    }\n    throw new Error(\n      'options.sortBy is optional but if defined it must be ' +\n        'either an array of string (predicates) or a sorting function'\n    );\n  }, facetValues, attributes);\n};\n\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\nSearchResults.prototype.getFacetStats = function(attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function(facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\nSearchResults.prototype.getRefinements = function() {\n  var state = this._state;\n  var results = this;\n  var res = [];\n\n  Object.keys(state.facetsRefinements).forEach(function(attributeName) {\n    state.facetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.facetsExcludes).forEach(function(attributeName) {\n    state.facetsExcludes[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function(attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function(attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function(name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n\n\n  Object.keys(state.numericRefinements).forEach(function(attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function(operator) {\n      operators[operator].forEach(function(value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n\n  state.tagRefinements.forEach(function(name) {\n    res.push({type: 'tag', attributeName: '_tags', name: name});\n  });\n\n  return res;\n};\n\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function(f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function(facet) {\n    return facet.name === attributeName;\n  });\n\n  var facet = split.reduce(function(intermediateFacet, part) {\n    var newFacet =\n      intermediateFacet && find(intermediateFacet.data, function(f) {\n        return f.name === part;\n      });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n\n  var count = (facet && facet.count) || 0;\n  var exhaustive = (facet && facet.exhaustive) || false;\n  var path = (facet && facet.path) || '';\n\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\n// EventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n", "'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;\n", "'use strict';\n\nvar EventEmitter = require('@algolia/events');\nvar inherits = require('../functions/inherits');\n\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, EventEmitter);\n\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\nDerivedHelper.prototype.detach = function() {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function(parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;\n", "'use strict';\n\nvar merge = require('./functions/merge');\n\nfunction sortObject(obj) {\n  return Object.keys(obj)\n    .sort(function(a, b) {\n      return a.localeCompare(b);\n    })\n    .reduce(function(acc, curr) {\n      acc[curr] = obj[curr];\n      return acc;\n    }, {});\n}\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = [];\n\n    // One query for the hits\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    });\n\n    // One for each disjunctive facets\n    state.getRefinedDisjunctiveFacets().forEach(function(refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    });\n\n    // More to get the parent levels of the hierarchical facets when refined\n    state.getRefinedHierarchicalFacets().forEach(function(refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      // If we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get all parent values\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        // We generate a map of the filters we will use for our facet values queries\n        var filtersMap = currentRefinement[0].split(separator).slice(0, -1).reduce(\n          function createFiltersMap(map, segment, level) {\n            return map.concat({\n              attribute: hierarchicalFacet.attributes[level],\n              value: level === 0\n                ? segment\n                : [map[map.length - 1].value, segment].join(separator)\n            });\n          }\n        , []);\n\n        filtersMap.forEach(function(filter, level) {\n          var params = requestBuilder._getDisjunctiveFacetSearchParams(\n            state,\n            filter.attribute,\n            level === 0\n          );\n\n          // Keep facet filters unrelated to current hierarchical attributes\n          function hasHierarchicalFacetFilter(value) {\n            return hierarchicalFacet.attributes.some(function(attribute) {\n              return attribute === value.split(':')[0];\n            });\n          }\n\n          var filteredFacetFilters = (params.facetFilters || []).reduce(function(acc, facetFilter) {\n            if (Array.isArray(facetFilter)) {\n              var filtered = facetFilter.filter(function(filterValue) {\n                return !hasHierarchicalFacetFilter(filterValue);\n              });\n\n              if (filtered.length > 0) {\n                acc.push(filtered);\n              }\n            }\n\n            if (typeof facetFilter === 'string' && !hasHierarchicalFacetFilter(facetFilter)) {\n              acc.push(facetFilter);\n            }\n\n            return acc;\n          }, []);\n\n          var parent = filtersMap[level - 1];\n          if (level > 0) {\n            params.facetFilters = filteredFacetFilters.concat(parent.attribute + ':' + parent.value);\n          } else {\n            params.facetFilters = filteredFacetFilters.length > 0 ? filteredFacetFilters : undefined;\n          }\n\n          queries.push({indexName: index, params: params});\n        });\n      }\n    });\n\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function(state) {\n    var facets = state.facets\n      .concat(state.disjunctiveFacets)\n      .concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n    var numericFilters = requestBuilder._getNumericFilters(state);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      facets: facets.indexOf('*') > -1 ? ['*'] : facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return sortObject(merge({}, state.getQueryParams(), additionalParams));\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n    var tagFilters = requestBuilder._getTagFilters(state);\n    var additionalParams = {\n      hitsPerPage: 0,\n      page: 0,\n      analytics: false,\n      clickAnalytics: false\n    };\n\n    if (tagFilters.length > 0) {\n      additionalParams.tagFilters = tagFilters;\n    }\n\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(\n        state,\n        hierarchicalFacet,\n        hierarchicalRootLevel\n      );\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return sortObject(merge({}, state.getQueryParams(), additionalParams));\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n\n    Object.keys(state.numericRefinements).forEach(function(attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function(operator) {\n        var values = operators[operator] || [];\n        if (facetName !== attribute) {\n          values.forEach(function(value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function(v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function(facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function(facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function(facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function(facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n      var orFilters = [];\n\n      facetValues.forEach(function(facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n\n      facetFilters.push(orFilters);\n    });\n\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function(facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeToRefine;\n      var attributesIndex;\n\n      // we ask for parent facet values only when the `facet` is the current hierarchical facet\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || (!rootPath && hierarchicalRootLevel === true) ||\n          (rootPath && rootPath.split(separator).length === facetValue.split(separator).length)) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n\n    return facetFilters;\n  },\n\n  _getHitsHierarchicalFacetsAttributes: function(state) {\n    var out = [];\n\n    return state.hierarchicalFacets.reduce(\n      // ask for as much levels as there's hierarchical refinements\n      function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n        var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0];\n\n        // if no refinement, ask for root level\n        if (!hierarchicalRefinement) {\n          allAttributes.push(hierarchicalFacet.attributes[0]);\n          return allAttributes;\n        }\n\n        var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n        var level = hierarchicalRefinement.split(separator).length;\n        var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n\n        return allAttributes.concat(newAttributes);\n      }, out);\n  },\n\n  _getDisjunctiveHierarchicalFacetAttribute: function(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || '';\n    // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n\n  getSearchForFacetQuery: function(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ?\n      state.clearRefinements(facetName) :\n      state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n    return sortObject(merge(\n      {},\n      requestBuilder._getHitsSearchParams(stateForSearchForFacetValues),\n      searchForFacetSearchParameters\n    ));\n  }\n};\n\nmodule.exports = requestBuilder;\n", "'use strict';\n\nmodule.exports = '3.11.1';\n", "'use strict';\n\nvar SearchParameters = require('./SearchParameters');\nvar SearchResults = require('./SearchResults');\nvar DerivedHelper = require('./DerivedHelper');\nvar requestBuilder = require('./requestBuilder');\n\nvar EventEmitter = require('@algolia/events');\nvar inherits = require('./functions/inherits');\nvar objectHasKeys = require('./functions/objectHasKeys');\nvar omit = require('./functions/omit');\nvar merge = require('./functions/merge');\n\nvar version = require('./version');\nvar escapeFacetValue = require('./functions/escapeFacetValue').escapeFacetValue;\n\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, EventEmitter);\n\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\nAlgoliaSearchHelper.prototype.search = function() {\n  this._search({onlyWithDerivedHelpers: false});\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function() {\n  this._search({onlyWithDerivedHelpers: true});\n  return this;\n};\n\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\nAlgoliaSearchHelper.prototype.getQuery = function() {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\nAlgoliaSearchHelper.prototype.searchOnce = function(options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n  var self = this;\n\n  this._currentNbQueries++;\n\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client\n      .search(queries)\n      .then(function(content) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(null, new SearchResults(tempState, content.results), tempState);\n      })\n      .catch(function(err) {\n        self._currentNbQueries--;\n        if (self._currentNbQueries === 0) {\n          self.emit('searchQueueEmpty');\n        }\n\n        cb(err, null, tempState);\n      });\n\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n /**\n * Start the search for answers with the parameters set in the state.\n * This method returns a promise.\n * @param {Object} options - the options for answers API call\n * @param {string[]} options.attributesForPrediction - Attributes to use for predictions. If empty, `searchableAttributes` is used instead.\n * @param {string[]} options.queryLanguages - The languages in the query. Currently only supports ['en'].\n * @param {number} options.nbHits - Maximum number of answers to retrieve from the Answers Engine. Cannot be greater than 1000.\n *\n * @return {promise} the answer results\n */\nAlgoliaSearchHelper.prototype.findAnswers = function(options) {\n  var state = this.state;\n  var derivedHelper = this.derivedHelpers[0];\n  if (!derivedHelper) {\n    return Promise.resolve([]);\n  }\n  var derivedState = derivedHelper.getModifiedState(state);\n  var data = merge(\n    {\n      attributesForPrediction: options.attributesForPrediction,\n      nbHits: options.nbHits\n    },\n    {\n      params: omit(requestBuilder._getHitsSearchParams(derivedState), [\n        'attributesToSnippet',\n        'hitsPerPage',\n        'restrictSearchableAttributes',\n        'snippetEllipsisText' // FIXME remove this line once the engine is fixed.\n      ])\n    }\n  );\n\n  var errorMessage = 'search for answers was called, but this client does not have a function client.initIndex(index).findAnswers';\n  if (typeof this.client.initIndex !== 'function') {\n    throw new Error(errorMessage);\n  }\n  var index = this.client.initIndex(derivedState.index);\n  if (typeof index.findAnswers !== 'function') {\n    throw new Error(errorMessage);\n  }\n  return index.findAnswers(derivedState.query, options.queryLanguages, data);\n};\n\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\nAlgoliaSearchHelper.prototype.searchForFacetValues = function(facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n  var clientHasInitIndex = typeof this.client.initIndex === 'function';\n  if (\n    !clientHasSFFV &&\n    !clientHasInitIndex &&\n    typeof this.client.search !== 'function'\n  ) {\n    throw new Error(\n      'search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues'\n    );\n  }\n\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n\n  this._currentNbQueries++;\n  var self = this;\n  var searchForFacetValuesPromise;\n  // newer algoliasearch ^3.27.1 - ~4.0.0\n  if (clientHasSFFV) {\n    searchForFacetValuesPromise = this.client.searchForFacetValues([\n      {indexName: state.index, params: algoliaQuery}\n    ]);\n    // algoliasearch < 3.27.1\n  } else if (clientHasInitIndex) {\n    searchForFacetValuesPromise = this.client\n      .initIndex(state.index)\n      .searchForFacetValues(algoliaQuery);\n    // algoliasearch ~5.0.0\n  } else {\n    // @MAJOR only use client.search\n    delete algoliaQuery.facetName;\n    searchForFacetValuesPromise = this.client\n      .search([\n        {\n          type: 'facet',\n          facet: facet,\n          indexName: state.index,\n          params: algoliaQuery\n        }\n      ])\n      .then(function processResponse(response) {\n        return response.results[0];\n      });\n  }\n\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n\n    content = Array.isArray(content) ? content[0] : content;\n\n    content.facetHits.forEach(function(f) {\n      f.escapedValue = escapeFacetValue(f.value);\n      f.isRefined = isDisjunctive\n        ? state.isDisjunctiveFacetRefined(facet, f.escapedValue)\n        : state.isFacetRefined(facet, f.escapedValue);\n    });\n\n    return content;\n  }, function(e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setQuery = function(q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\nAlgoliaSearchHelper.prototype.clearRefinements = function(name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.clearTags = function() {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function() {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.addRefine = function() {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n\n\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.addExclude = function() {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.addTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function(attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function() {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function(facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.removeRefine = function() {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.removeExclude = function() {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.removeTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\nAlgoliaSearchHelper.prototype.toggleExclude = function() {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefinement = function(facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function(facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\nAlgoliaSearchHelper.prototype.toggleRefine = function() {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.toggleTag = function(tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\nAlgoliaSearchHelper.prototype.nextPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\nAlgoliaSearchHelper.prototype.previousPage = function() {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n\n/**\n * @private\n */\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setIndex = function(name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\nAlgoliaSearchHelper.prototype.setQueryParameter = function(parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\nAlgoliaSearchHelper.prototype.setState = function(newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function(newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\nAlgoliaSearchHelper.prototype.hasRefinements = function(attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  }\n\n  // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n  return false;\n};\n\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\nAlgoliaSearchHelper.prototype.isExcluded = function(facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function(facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype.hasTag = function(tag) {\n  return this.state.isTagRefined(tag);\n};\n\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\nAlgoliaSearchHelper.prototype.isTagRefined = function() {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n\n\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\nAlgoliaSearchHelper.prototype.getIndex = function() {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\nAlgoliaSearchHelper.prototype.getTags = function() {\n  return this.state.tagRefinements;\n};\n\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\nAlgoliaSearchHelper.prototype.getRefinements = function(facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n\n    conjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n\n    excludeRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n\n    disjRefinements.forEach(function(r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n\n  Object.keys(numericRefinements).forEach(function(operator) {\n    var value = numericRefinements[operator];\n\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n\n  return refinements;\n};\n\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\nAlgoliaSearchHelper.prototype.getNumericRefinement = function(attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function(facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n};\n\n// /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\nAlgoliaSearchHelper.prototype._search = function(options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function(derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n    var derivedStateQueries = requestBuilder._getQueries(derivedState.index, derivedState);\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n\n    return derivedStateQueries;\n  });\n\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n  var queryId = this._queryId++;\n\n  this._currentNbQueries++;\n\n  try {\n    this.client.search(queries)\n      .then(this._dispatchAlgoliaResponse.bind(this, states, queryId))\n      .catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function(states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= (queryId - this._lastQueryIdReceived);\n  this._lastQueryIdReceived = queryId;\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n\n  var results = content.results.slice();\n\n  states.forEach(function(s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function(queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n\n  this.emit('error', {\n    error: error\n  });\n\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function(query, facetFilters, numericFilters, tagFilters) {\n  return query ||\n    facetFilters.length !== 0 ||\n    numericFilters.length !== 0 ||\n    tagFilters.length !== 0;\n};\n\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function(facet) {\n  return this.state.disjunctiveRefinements[facet] &&\n    this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function(event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.clearCache = function() {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\nAlgoliaSearchHelper.prototype.setClient = function(newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n  this.client = newClient;\n\n  return this;\n};\n\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\nAlgoliaSearchHelper.prototype.getClient = function() {\n  return this.client;\n};\n\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\nAlgoliaSearchHelper.prototype.derive = function(fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function(derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\nAlgoliaSearchHelper.prototype.hasPendingRequests = function() {\n  return this._currentNbQueries > 0;\n};\n\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\nmodule.exports = AlgoliaSearchHelper;\n", "'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\nvar SearchResults = require('./src/SearchResults');\n\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\nalgoliasearchHelper.version = require('./src/version.js');\n\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\nalgoliasearchHelper.SearchParameters = SearchParameters;\n\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\nalgoliasearchHelper.SearchResults = SearchResults;\n\nmodule.exports = algoliasearchHelper;\n", "export default '6.38.1';", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { createDocumentationMessageGenerator, isPlainObject, mergeSearchParameters, noop } from \"../../lib/utils/index.js\";\n\n/**\n * Refine the given search parameters.\n */\n\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'configure',\n  connector: true\n});\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n  }, {}));\n}\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return function (widgetParams) {\n    if (!widgetParams || !isPlainObject(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n    var connectorState = {};\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = mergeSearchParameters(actualState, new algoliasearchHelper.SearchParameters(searchParameters));\n\n        // Update original `widgetParams.searchParameters` to the new refined one\n        widgetParams.searchParameters = searchParameters;\n\n        // Trigger a search with the resolved search parameters\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          configure: _objectSpread(_objectSpread({}, widgetRenderState), {}, {\n            widgetParams: _objectSpread(_objectSpread({}, widgetRenderState.widgetParams), {}, {\n              searchParameters: mergeSearchParameters(new algoliasearchHelper.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearchHelper.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return mergeSearchParameters(state, new algoliasearchHelper.SearchParameters(_objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          configure: _objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\nexport default connectConfigure;", "import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"instantSearchInstance\", \"widgetParams\"],\n    _excluded2 = [\"widgetParams\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useMemo, useRef, useState } from 'react';\nimport { dequal } from \"../lib/dequal.js\";\nimport { getIndexSearchResults } from \"../lib/getIndexSearchResults.js\";\nimport { useIndexContext } from \"../lib/useIndexContext.js\";\nimport { useInstantSearchContext } from \"../lib/useInstantSearchContext.js\";\nimport { useInstantSearchServerContext } from \"../lib/useInstantSearchServerContext.js\";\nimport { useStableValue } from \"../lib/useStableValue.js\";\nimport { useWidget } from \"../lib/useWidget.js\";\nexport function useConnector(connector) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var additionalWidgetProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var serverContext = useInstantSearchServerContext();\n  var search = useInstantSearchContext();\n  var parentIndex = useIndexContext();\n  var stableProps = useStableValue(props);\n  var stableAdditionalWidgetProperties = useStableValue(additionalWidgetProperties);\n  var shouldSetStateRef = useRef(true);\n  var previousRenderStateRef = useRef(null);\n  var widget = useMemo(function () {\n    var createWidget = connector(function (connectorState, isFirstRender) {\n      // We skip the `init` widget render because:\n      // - We rely on `getWidgetRenderState` to compute the initial state before\n      //   the InstantSearch.js lifecycle starts.\n      // - It prevents UI flashes when updating the widget props.\n      if (isFirstRender) {\n        shouldSetStateRef.current = true;\n        return;\n      } // There are situations where InstantSearch.js may render widgets slightly\n      // after they're removed by React, and thus try to update the React state\n      // on unmounted components. React 16 and 17 consider them as memory leaks\n      // and display a warning.\n      // This happens in <DynamicWidgets> when `attributesToRender` contains a\n      // value without an attribute previously mounted. React will unmount the\n      // component controlled by that attribute, but InstantSearch.js will stay\n      // unaware of this change until the render pass finishes, and therefore\n      // notifies of a state change.\n      // This ref lets us track this situation and ignore these state updates.\n\n\n      if (shouldSetStateRef.current) {\n        var instantSearchInstance = connectorState.instantSearchInstance,\n            widgetParams = connectorState.widgetParams,\n            renderState = _objectWithoutProperties(connectorState, _excluded); // We only update the state when a widget render state param changes,\n        // except for functions. We ignore function reference changes to avoid\n        // infinite loops. It's safe to omit them because they get updated\n        // every time another render param changes.\n\n\n        if (!dequal(renderState, previousRenderStateRef.current, function (a, b) {\n          return (a === null || a === void 0 ? void 0 : a.constructor) === Function && (b === null || b === void 0 ? void 0 : b.constructor) === Function;\n        })) {\n          // eslint-disable-next-line @typescript-eslint/no-use-before-define\n          setState(renderState);\n          previousRenderStateRef.current = renderState;\n        }\n      }\n    }, function () {\n      // We'll ignore the next state update until we know for sure that\n      // InstantSearch.js re-inits the component.\n      shouldSetStateRef.current = false;\n    });\n    return _objectSpread(_objectSpread({}, createWidget(stableProps)), stableAdditionalWidgetProperties);\n  }, [connector, stableProps, stableAdditionalWidgetProperties]);\n\n  var _useState = useState(function () {\n    if (widget.getWidgetRenderState) {\n      var _widget$getWidgetSear;\n\n      // The helper exists because we've started InstantSearch.\n      var helper = parentIndex.getHelper();\n      var uiState = parentIndex.getWidgetUiState({})[parentIndex.getIndexId()];\n      helper.state = ((_widget$getWidgetSear = widget.getWidgetSearchParameters) === null || _widget$getWidgetSear === void 0 ? void 0 : _widget$getWidgetSear.call(widget, helper.state, {\n        uiState: uiState\n      })) || helper.state;\n\n      var _getIndexSearchResult = getIndexSearchResults(parentIndex),\n          results = _getIndexSearchResult.results,\n          scopedResults = _getIndexSearchResult.scopedResults; // We get the widget render state by providing the same parameters as\n      // InstantSearch provides to the widget's `render` method.\n      // See https://github.com/algolia/instantsearch.js/blob/019cd18d0de6dd320284aa4890541b7fe2198c65/src/widgets/index/index.ts#L604-L617\n\n\n      // We get the widget render state by providing the same parameters as\n      // InstantSearch provides to the widget's `render` method.\n      // See https://github.com/algolia/instantsearch.js/blob/019cd18d0de6dd320284aa4890541b7fe2198c65/src/widgets/index/index.ts#L604-L617\n      var _widget$getWidgetRend = widget.getWidgetRenderState({\n        helper: helper,\n        parent: parentIndex,\n        instantSearchInstance: search,\n        results: results,\n        scopedResults: scopedResults,\n        state: helper.state,\n        renderState: search.renderState,\n        templatesConfig: search.templatesConfig,\n        createURL: parentIndex.createURL,\n        searchMetadata: {\n          isSearchStalled: search.status === 'stalled'\n        },\n        status: search.status,\n        error: search.error\n      }),\n          widgetParams = _widget$getWidgetRend.widgetParams,\n          renderState = _objectWithoutProperties(_widget$getWidgetRend, _excluded2);\n\n      return renderState;\n    }\n\n    return {};\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useWidget({\n    widget: widget,\n    parentIndex: parentIndex,\n    props: stableProps,\n    shouldSsr: Boolean(serverContext)\n  });\n  return state;\n}", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/* eslint-disable complexity */\n\n/*\n * Code taken from dequal/lite v2.0.0\n * https://github.com/lukeed/dequal/blob/9aa73181ac7e081cd330cac67d313632ac04bb02/src/lite.js\n *\n * It adds a 3rd argument `compare(a, b)` that lets execute custom logic to\n * compare values.\n * We use it to skip comparing function references.\n */\nvar has = Object.prototype.hasOwnProperty;\nexport function dequal(foo, bar, compare) {\n  // start of custom implementation\n  if (compare !== null && compare !== void 0 && compare(foo, bar)) {\n    return true;\n  } // end of custom implementation\n\n\n  var ctor;\n  var len;\n  if (foo === bar) return true;\n\n  if (foo && bar && (ctor = foo.constructor) === bar.constructor) {\n    if (ctor === Date) return foo.getTime() === bar.getTime();\n    if (ctor === RegExp) return foo.toString() === bar.toString();\n\n    if (ctor === Array) {\n      if ((len = foo.length) === bar.length) {\n        while (len-- && dequal(foo[len], bar[len], compare)) {\n          ;\n        }\n      }\n\n      return len === -1;\n    }\n\n    if (!ctor || _typeof(foo) === 'object') {\n      len = 0; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n      for (ctor in foo) {\n        if (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n        if (!(ctor in bar) || !dequal(foo[ctor], bar[ctor], compare)) return false;\n      }\n\n      return Object.keys(bar).length === len;\n    }\n  } // eslint-disable-next-line no-self-compare\n\n\n  return foo !== foo && bar !== bar;\n}", "import algoliasearchHelper from 'algoliasearch-helper';\nexport function createSearchResults(state) {\n  var _state$query, _state$page, _state$hitsPerPage;\n\n  return new algoliasearchHelper.SearchResults(state, [{\n    query: (_state$query = state.query) !== null && _state$query !== void 0 ? _state$query : '',\n    page: (_state$page = state.page) !== null && _state$page !== void 0 ? _state$page : 0,\n    hitsPerPage: (_state$hitsPerPage = state.hitsPerPage) !== null && _state$hitsPerPage !== void 0 ? _state$hitsPerPage : 20,\n    hits: [],\n    nbHits: 0,\n    nbPages: 0,\n    params: '',\n    exhaustiveNbHits: true,\n    exhaustiveFacetsCount: true,\n    processingTimeMS: 0,\n    index: state.index\n  }], {\n    /** used by connectors to prevent persisting these results */\n    __isArtificial: true\n  });\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { createSearchResults } from \"./createSearchResults.js\";\nexport function getIndexSearchResults(indexWidget) {\n  var helper = indexWidget.getHelper();\n  var results = // On SSR, we get the results injected on the Index.\n  indexWidget.getResults() || // On the browser, we create fallback results based on the helper state.\n  createSearchResults(helper.state);\n  var scopedResults = indexWidget.getScopedResults().map(function (scopedResult) {\n    var fallbackResults = scopedResult.indexId === indexWidget.getIndexId() ? results : createSearchResults(scopedResult.helper.state);\n    return _objectSpread(_objectSpread({}, scopedResult), {}, {\n      // We keep `results` from being `null`.\n      results: scopedResult.results || fallbackResults\n    });\n  });\n  return {\n    results: results,\n    scopedResults: scopedResults\n  };\n}", "import { useContext } from 'react';\nimport { invariant } from \"./invariant.js\";\nimport { IndexContext } from \"./IndexContext.js\";\nexport function useIndexContext() {\n  var context = useContext(IndexContext);\n  invariant(context !== null, 'The <Index> component must be used within <InstantSearch>.');\n  return context;\n}", "/**\n * Throws an error if the condition is not met.\n *\n * The error is exhaustive in development, and becomes generic in production.\n *\n * This is used to make development a better experience to provide guidance as\n * to where the error comes from.\n */\nexport function invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (!(process.env.NODE_ENV !== 'production')) {\n    throw new Error('Invariant failed');\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(\"[InstantSearch] \".concat(typeof message === 'function' ? message() : message));\n  }\n}", "import { createContext } from 'react';\nexport var IndexContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  IndexContext.displayName = 'Index';\n}", "import { useContext } from 'react';\nimport { invariant } from \"./invariant.js\";\nimport { InstantSearchContext } from \"./InstantSearchContext.js\";\nexport function useInstantSearchContext() {\n  var search = useContext(InstantSearchContext);\n  invariant(search !== null, 'Hooks must be used inside the <InstantSearch> component.\\n\\n' + 'They are not compatible with the `react-instantsearch-core` and `react-instantsearch-dom` packages, so make sure to use the <InstantSearch> component from `react-instantsearch-hooks`.');\n  return search;\n}", "import { createContext } from 'react';\nexport var InstantSearchContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  InstantSearchContext.displayName = 'InstantSearch';\n}", "import { useContext } from 'react';\nimport { InstantSearchServerContext } from \"../components/InstantSearchServerContext.js\";\nexport function useInstantSearchServerContext() {\n  return useContext(InstantSearchServerContext);\n}", "import { createContext } from 'react';\nexport var InstantSearchServerContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  InstantSearchServerContext.displayName = 'InstantSearchServer';\n}", "import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState } from 'react';\nimport { dequal } from \"./dequal.js\";\nexport function useStableValue(value) {\n  var _useState = useState(function () {\n    return value;\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      stableValue = _useState2[0],\n      setStableValue = _useState2[1];\n\n  if (!dequal(stableValue, value)) {\n    setStableValue(value);\n  }\n\n  return stableValue;\n}", "import { useEffect, useRef } from 'react';\nimport { dequal } from \"./dequal.js\";\nimport { useInstantSearchContext } from \"./useInstantSearchContext.js\";\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect.js\";\nexport function useWidget(_ref) {\n  var widget = _ref.widget,\n      parentIndex = _ref.parentIndex,\n      props = _ref.props,\n      shouldSsr = _ref.shouldSsr;\n  var prevPropsRef = useRef(props);\n  useEffect(function () {\n    prevPropsRef.current = props;\n  }, [props]);\n  var prevWidgetRef = useRef(widget);\n  useEffect(function () {\n    prevWidgetRef.current = widget;\n  }, [widget]);\n  var cleanupTimerRef = useRef(null);\n  var shouldAddWidgetEarly = shouldSsr && !parentIndex.getWidgets().includes(widget);\n  var search = useInstantSearchContext(); // This effect is responsible for adding, removing, and updating the widget.\n  // We need to support scenarios where the widget is remounted quickly, like in\n  // Strict Mode, so that we don't lose its state, and therefore that we don't\n  // break routing.\n\n  useIsomorphicLayoutEffect(function () {\n    var previousWidget = prevWidgetRef.current;\n\n    function cleanup() {\n      if (search._preventWidgetCleanup) return;\n      parentIndex.removeWidgets([previousWidget]);\n    } // Scenario 1: the widget is added for the first time.\n\n\n    if (cleanupTimerRef.current === null) {\n      if (!shouldAddWidgetEarly) {\n        parentIndex.addWidgets([widget]);\n      }\n    } // Scenario 2: the widget is rerendered or updated.\n    else {\n      // We cancel the original effect cleanup because it may not be necessary if\n      // props haven't changed. (We manually call it if it is below.)\n      clearTimeout(cleanupTimerRef.current); // Warning: if an unstable function prop is provided, `dequal` is not able\n      // to keep its reference and therefore will consider that props did change.\n      // This could unsollicitely remove/add the widget, therefore forget its state,\n      // and could be a source of confusion.\n      // If users face this issue, we should advise them to provide stable function\n      // references.\n\n      var arePropsEqual = dequal(props, prevPropsRef.current); // If props did change, then we execute the cleanup function instantly\n      // and then add the widget back. This lets us add the widget without\n      // waiting for the scheduled cleanup function to finish (that we canceled\n      // above).\n\n      if (!arePropsEqual) {\n        cleanup();\n        parentIndex.addWidgets([widget]);\n      }\n    }\n\n    return function () {\n      // We don't remove the widget right away, but rather schedule it so that\n      // we're able to cancel it in the next effect.\n      cleanupTimerRef.current = setTimeout(cleanup);\n    };\n  }, [parentIndex, widget, shouldAddWidgetEarly, search, props]);\n\n  if (shouldAddWidgetEarly) {\n    parentIndex.addWidgets([widget]);\n  }\n}", "import { useEffect, useLayoutEffect } from 'react';\n/**\n * `useLayoutEffect` that doesn't show a warning when server-side rendering.\n *\n * It uses `useEffect` on the server (no-op), and `useLayoutEffect` on the browser.\n */\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;", "import connectConfigure from \"instantsearch.js/es/connectors/configure/connectConfigure.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useConfigure(props, additionalWidgetProperties) {\n  return useConnector(connectConfigure, {\n    searchParameters: props\n  }, additionalWidgetProperties);\n}", "import { useConfigure } from \"../connectors/useConfigure.js\";\nexport function Configure(props) {\n  useConfigure(props, {\n    $$widgetType: 'ais.configure'\n  });\n  return null;\n}", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"fallbackComponent\"];\nimport React, { Fragment } from 'react';\nimport { useDynamicWidgets } from \"../connectors/useDynamicWidgets.js\";\nimport { invariant } from \"../lib/invariant.js\";\n\nfunction FallbackComponent() {\n  return null;\n}\n\nexport function DynamicWidgets(_ref) {\n  var children = _ref.children,\n      _ref$fallbackComponen = _ref.fallbackComponent,\n      Fallback = _ref$fallbackComponen === void 0 ? FallbackComponent : _ref$fallbackComponen,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useDynamicWidgets = useDynamicWidgets(props, {\n    $$widgetType: 'ais.dynamicWidgets'\n  }),\n      attributesToRender = _useDynamicWidgets.attributesToRender;\n\n  var widgets = new Map();\n  React.Children.forEach(children, function (child) {\n    var attribute = getWidgetAttribute(child);\n    invariant(attribute !== undefined, \"<DynamicWidgets> only supports InstantSearch widgets with an `attribute` or `attributes` prop.\");\n    widgets.set(attribute, child);\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, attributesToRender.map(function (attribute) {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: attribute\n    }, widgets.get(attribute) || /*#__PURE__*/React.createElement(Fallback, {\n      attribute: attribute\n    }));\n  }));\n}\n\nfunction isReactElement(element) {\n  return _typeof(element) === 'object' && element.props;\n}\n\nfunction getWidgetAttribute(element) {\n  if (!isReactElement(element)) {\n    return undefined;\n  }\n\n  if (element.props.attribute) {\n    return element.props.attribute;\n  }\n\n  if (Array.isArray(element.props.attributes)) {\n    return element.props.attributes[0];\n  }\n\n  if (element.props.children) {\n    invariant(React.Children.count(element.props.children) === 1, \"<DynamicWidgets> only supports a single component in nested components. Make sure to not render multiple children in a parent component.\\n\\nExample of an unsupported scenario:\\n\\n```\\n<DynamicWidgets>\\n  <MyComponent>\\n    <RefinementList attribute=\\\"brand\\\" />\\n    <Menu attribute=\\\"categories\\\" />\\n  </MyComponent>\\n</DynamicWidgets>\\n```\\n\");\n    return getWidgetAttribute(React.Children.only(element.props.children));\n  }\n\n  return undefined;\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { checkRendering, createDocumentationMessageGenerator, getWidgetAttribute, noop, warning } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'dynamic-widgets',\n  connector: true\n});\nvar MAX_WILDCARD_FACETS = 20;\nvar connectDynamicWidgets = function connectDynamicWidgets(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var widgets = widgetParams.widgets,\n      _widgetParams$maxValu = widgetParams.maxValuesPerFacet,\n      maxValuesPerFacet = _widgetParams$maxValu === void 0 ? 20 : _widgetParams$maxValu,\n      _widgetParams$facets = widgetParams.facets,\n      facets = _widgetParams$facets === void 0 ? ['*'] : _widgetParams$facets,\n      _widgetParams$transfo = widgetParams.transformItems,\n      transformItems = _widgetParams$transfo === void 0 ? function (items) {\n        return items;\n      } : _widgetParams$transfo,\n      fallbackWidget = widgetParams.fallbackWidget;\n    if (!(widgets && Array.isArray(widgets) && widgets.every(function (widget) {\n      return _typeof(widget) === 'object';\n    }))) {\n      throw new Error(withUsage('The `widgets` option expects an array of widgets.'));\n    }\n    if (!(Array.isArray(facets) && facets.length <= 1 && (facets[0] === '*' || facets[0] === undefined))) {\n      throw new Error(withUsage(\"The `facets` option only accepts [] or [\\\"*\\\"], you passed \".concat(JSON.stringify(facets))));\n    }\n    var localWidgets = new Map();\n    return {\n      $$type: 'ais.dynamicWidgets',\n      init: function init(initOptions) {\n        widgets.forEach(function (widget) {\n          var attribute = getWidgetAttribute(widget, initOptions);\n          localWidgets.set(attribute, {\n            widget: widget,\n            isMounted: false\n          });\n        });\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var parent = renderOptions.parent;\n        var renderState = this.getWidgetRenderState(renderOptions);\n        var widgetsToUnmount = [];\n        var widgetsToMount = [];\n        if (fallbackWidget) {\n          renderState.attributesToRender.forEach(function (attribute) {\n            if (!localWidgets.has(attribute)) {\n              var widget = fallbackWidget({\n                attribute: attribute\n              });\n              localWidgets.set(attribute, {\n                widget: widget,\n                isMounted: false\n              });\n            }\n          });\n        }\n        localWidgets.forEach(function (_ref, attribute) {\n          var widget = _ref.widget,\n            isMounted = _ref.isMounted;\n          var shouldMount = renderState.attributesToRender.indexOf(attribute) > -1;\n          if (!isMounted && shouldMount) {\n            widgetsToMount.push(widget);\n            localWidgets.set(attribute, {\n              widget: widget,\n              isMounted: true\n            });\n          } else if (isMounted && !shouldMount) {\n            widgetsToUnmount.push(widget);\n            localWidgets.set(attribute, {\n              widget: widget,\n              isMounted: false\n            });\n          }\n        });\n        parent.addWidgets(widgetsToMount);\n        // make sure this only happens after the regular render, otherwise it\n        // happens too quick, since render is \"deferred\" for the next microtask,\n        // so this needs to be a whole task later\n        setTimeout(function () {\n          return parent.removeWidgets(widgetsToUnmount);\n        }, 0);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var parent = _ref2.parent;\n        var toRemove = [];\n        localWidgets.forEach(function (_ref3) {\n          var widget = _ref3.widget,\n            isMounted = _ref3.isMounted;\n          if (isMounted) {\n            toRemove.push(widget);\n          }\n        });\n        parent.removeWidgets(toRemove);\n        unmountFn();\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        // broadening the scope of facets to avoid conflict between never and *\n        return facets.reduce(function (acc, curr) {\n          return acc.addFacet(curr);\n        }, state.setQueryParameters({\n          maxValuesPerFacet: Math.max(maxValuesPerFacet || 0, state.maxValuesPerFacet || 0)\n        }));\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          dynamicWidgets: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var _results$renderingCon, _results$renderingCon2, _results$renderingCon3, _results$renderingCon4;\n        var results = _ref4.results,\n          state = _ref4.state;\n        if (!results) {\n          return {\n            attributesToRender: [],\n            widgetParams: widgetParams\n          };\n        }\n        var attributesToRender = transformItems((_results$renderingCon = (_results$renderingCon2 = results.renderingContent) === null || _results$renderingCon2 === void 0 ? void 0 : (_results$renderingCon3 = _results$renderingCon2.facetOrdering) === null || _results$renderingCon3 === void 0 ? void 0 : (_results$renderingCon4 = _results$renderingCon3.facets) === null || _results$renderingCon4 === void 0 ? void 0 : _results$renderingCon4.order) !== null && _results$renderingCon !== void 0 ? _results$renderingCon : [], {\n          results: results\n        });\n        if (!Array.isArray(attributesToRender)) {\n          throw new Error(withUsage('The `transformItems` option expects a function that returns an Array.'));\n        }\n        process.env.NODE_ENV === 'development' ? warning(maxValuesPerFacet >= (state.maxValuesPerFacet || 0), \"The maxValuesPerFacet set by dynamic widgets (\".concat(maxValuesPerFacet, \") is smaller than one of the limits set by a widget (\").concat(state.maxValuesPerFacet, \"). This causes a mismatch in query parameters and thus an extra network request when that widget is mounted.\")) : void 0;\n        process.env.NODE_ENV === 'development' ? warning(attributesToRender.length <= MAX_WILDCARD_FACETS || widgetParams.facets !== undefined, \"More than \".concat(MAX_WILDCARD_FACETS, \" facets are requested to be displayed without explicitly setting which facets to retrieve. This could have a performance impact. Set \\\"facets\\\" to [] to do two smaller network requests, or explicitly to ['*'] to avoid this warning.\")) : void 0;\n        return {\n          attributesToRender: attributesToRender,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\nexport default connectDynamicWidgets;", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport connectDynamicWidgets from \"instantsearch.js/es/connectors/dynamic-widgets/connectDynamicWidgets.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useDynamicWidgets(props, additionalWidgetProperties) {\n  return useConnector(connectDynamicWidgets, _objectSpread(_objectSpread({}, props), {}, {\n    // We don't rely on InstantSearch.js for rendering widgets because React\n    // directly manipulates the children.\n    widgets: []\n  }), additionalWidgetProperties);\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport React from 'react';\nimport { IndexContext } from \"../lib/IndexContext.js\";\nimport { useIndex } from \"../lib/useIndex.js\";\nexport function Index(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var index = useIndex(props);\n\n  if (index.getHelper() === null) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(IndexContext.Provider, {\n    value: index\n  }, children);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport { checkIndexUiState, createDocumentationMessageGenerator, resolveSearchParameters, mergeSearchParameters, warning, isIndexWidget, createInitArgs, createRenderArgs } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'index-widget'\n});\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n    isPageReset = _ref.isPageReset,\n    _uiState = _ref._uiState;\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n}\nfunction getLocalWidgetsUiState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.reduce(function (uiState, widget) {\n    if (isIndexWidget(widget)) {\n      return uiState;\n    }\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n    rest = _objectWithoutProperties(widgetSearchParametersOptions, [\"initialSearchParameters\"]);\n  return widgets.filter(function (widget) {\n    return !isIndexWidget(widget);\n  }).reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters) {\n      return state;\n    }\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  if (indexWidgets.length === 0) {\n    return;\n  }\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\nvar index = function index(widgetParams) {\n  if (widgetParams === undefined || widgetParams.indexName === undefined) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n  var indexName = widgetParams.indexName,\n    _widgetParams$indexId = widgetParams.indexId,\n    indexId = _widgetParams$indexId === void 0 ? indexName : _widgetParams$indexId;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n  return {\n    $$type: 'ais.index',\n    $$widgetType: 'ais.index',\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      return derivedHelper && derivedHelper.lastResults;\n    },\n    getScopedResults: function getScopedResults() {\n      var widgetParent = this.getParent();\n\n      // If the widget is the root, we consider itself as the only sibling.\n      var widgetSiblings = widgetParent ? widgetParent.getWidgets() : [this];\n      return resolveScopedResultsFromWidgets(widgetSiblings);\n    },\n    getParent: function getParent() {\n      return localParent;\n    },\n    createURL: function createURL(nextState) {\n      return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsUiState(localWidgets, {\n        searchParameters: nextState,\n        helper: helper\n      })));\n    },\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n      localWidgets = localWidgets.concat(widgets);\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          _uiState: localUiState\n        });\n\n        // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n        widgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, createInitArgs(localInstantSearchInstance, _this, localInstantSearchInstance._initialUiState));\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        widgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init(createInitArgs(localInstantSearchInstance, _this, localInstantSearchInstance._initialUiState));\n          }\n        });\n        localInstantSearchInstance.scheduleSearch();\n      }\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      var _this2 = this;\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n      localWidgets = localWidgets.filter(function (widget) {\n        return widgets.indexOf(widget) === -1;\n      });\n      if (localInstantSearchInstance && Boolean(widgets.length)) {\n        var nextState = widgets.reduce(function (state, widget) {\n          // the `dispose` method exists at this point we already assert it\n          var next = widget.dispose({\n            helper: helper,\n            state: state,\n            parent: _this2\n          });\n          return next || state;\n        }, helper.state);\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: nextState,\n          helper: helper\n        });\n        helper.setState(getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: nextState\n        }));\n        if (localWidgets.length) {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this3 = this,\n        _instantSearchInstanc;\n      var instantSearchInstance = _ref2.instantSearchInstance,\n        parent = _ref2.parent,\n        uiState = _ref2.uiState;\n      if (helper !== null) {\n        // helper is already initialized, therefore we do not need to set up\n        // any listeners\n        return;\n      }\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {};\n\n      // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearchHelper.SearchParameters({\n          index: indexName\n        })\n      });\n\n      // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n      helper = algoliasearchHelper({}, parameters.index, parameters);\n\n      // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n      helper.search = function () {\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: function setUiState(nextState) {\n              return instantSearchInstance.setUiState(nextState, false);\n            }\n          });\n\n          // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n          return mainHelper;\n        }\n        return mainHelper.search();\n      };\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      };\n\n      // We use the same pattern for the `searchForFacetValues`.\n      helper.searchForFacetValues = function (facetName, facetValue, maxFacetHits, userState) {\n        var state = helper.state.setQueryParameters(userState);\n        return mainHelper.searchForFacetValues(facetName, facetValue, maxFacetHits, state);\n      };\n      derivedHelper = mainHelper.derive(function () {\n        return mergeSearchParameters.apply(void 0, _toConsumableArray(resolveSearchParameters(_this3)));\n      });\n      var indexInitialResults = (_instantSearchInstanc = instantSearchInstance._initialResults) === null || _instantSearchInstanc === void 0 ? void 0 : _instantSearchInstanc[this.getIndexId()];\n      if (indexInitialResults) {\n        // We restore the shape of the results provided to the instance to respect\n        // the helper's structure.\n        var results = new algoliasearchHelper.SearchResults(new algoliasearchHelper.SearchParameters(indexInitialResults.state), indexInitialResults.results);\n        derivedHelper.lastResults = results;\n        helper.lastResults = results;\n      }\n\n      // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n        if (process.env.NODE_ENV === 'development') {\n          checkIndexUiState({\n            index: _this3,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender();\n\n        // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n        helper.lastResults = results;\n      });\n\n      // We compute the render state before calling `init` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `init`.\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, createInitArgs(instantSearchInstance, _this3, uiState));\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        process.env.NODE_ENV === 'development' ? warning(\n        // if it has NO getWidgetState or if it has getWidgetUiState, we don't warn\n        // aka we warn if there's _only_ getWidgetState\n        !widget.getWidgetState || Boolean(widget.getWidgetUiState), 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n        if (widget.init) {\n          widget.init(createInitArgs(instantSearchInstance, _this3, uiState));\n        }\n      });\n\n      // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch.js/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n      helper.on('change', function (event) {\n        var state = event.state;\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {});\n\n        // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n      if (indexInitialResults) {\n        // If there are initial results, we're not notified of the next results\n        // because we don't trigger an initial search. We therefore need to directly\n        // schedule a render that will render the results injected on the helper.\n        instantSearchInstance.scheduleRender();\n      }\n    },\n    render: function render(_ref5) {\n      var _this4 = this;\n      var instantSearchInstance = _ref5.instantSearchInstance;\n      if (!this.getResults()) {\n        return;\n      }\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this4.getIndexId()] || {}, createRenderArgs(instantSearchInstance, _this4));\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this4\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n\n        if (widget.render) {\n          widget.render(createRenderArgs(instantSearchInstance, _this4));\n        }\n      });\n    },\n    dispose: function dispose() {\n      var _this5 = this;\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state,\n            parent: _this5\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      helper.removeAllListeners();\n      helper = null;\n      derivedHelper.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(isIndexWidget).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread(_objectSpread({}, uiState), {}, _defineProperty({}, indexId, _objectSpread(_objectSpread({}, uiState[indexId]), localUiState))));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : void 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n      var uiState = _ref6.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsUiState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      }, localUiState);\n    }\n  };\n};\nexport default index;\nfunction storeRenderState(_ref7) {\n  var renderState = _ref7.renderState,\n    instantSearchInstance = _ref7.instantSearchInstance,\n    parent = _ref7.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread(_objectSpread({}, instantSearchInstance.renderState), {}, _defineProperty({}, parentIndexName, _objectSpread(_objectSpread({}, instantSearchInstance.renderState[parentIndexName]), renderState)));\n}", "import index from \"instantsearch.js/es/widgets/index/index.js\";\nimport { useMemo } from 'react';\nimport { useIndexContext } from \"./useIndexContext.js\";\nimport { useForceUpdate } from \"./useForceUpdate.js\";\nimport { useInstantSearchServerContext } from \"./useInstantSearchServerContext.js\";\nimport { useInstantSearchSSRContext } from \"./useInstantSearchSSRContext.js\";\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect.js\";\nimport { useStableValue } from \"./useStableValue.js\";\nimport { useWidget } from \"./useWidget.js\";\nexport function useIndex(props) {\n  var serverContext = useInstantSearchServerContext();\n  var ssrContext = useInstantSearchSSRContext();\n  var initialResults = ssrContext === null || ssrContext === void 0 ? void 0 : ssrContext.initialResults;\n  var parentIndex = useIndexContext();\n  var stableProps = useStableValue(props);\n  var indexWidget = useMemo(function () {\n    return index(stableProps);\n  }, [stableProps]);\n  var helper = indexWidget.getHelper();\n  var forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(function () {\n    forceUpdate();\n  }, [helper, forceUpdate]);\n  useWidget({\n    widget: indexWidget,\n    parentIndex: parentIndex,\n    props: stableProps,\n    shouldSsr: Boolean(serverContext || initialResults)\n  });\n  return indexWidget;\n}", "import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useReducer } from 'react';\n/**\n * Forces a React update that triggers a rerender.\n * @link https://reactjs.org/docs/hooks-faq.html#is-there-something-like-forceupdate\n */\n\nexport function useForceUpdate() {\n  var _useReducer = useReducer(function (x) {\n    return x + 1;\n  }, 0),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      forceUpdate = _useReducer2[1];\n\n  return forceUpdate;\n}", "import { useContext } from 'react';\nimport { InstantSearchSSRContext } from \"./InstantSearchSSRContext.js\";\nexport function useInstantSearchSSRContext() {\n  return useContext(InstantSearchSSRContext);\n}", "import { createContext } from 'react';\nexport var InstantSearchSSRContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  InstantSearchSSRContext.displayName = 'InstantSearchSSR';\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport React from 'react';\nimport { IndexContext } from \"../lib/IndexContext.js\";\nimport { InstantSearchContext } from \"../lib/InstantSearchContext.js\";\nimport { useInstantSearchApi } from \"../lib/useInstantSearchApi.js\";\nexport function InstantSearch(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var search = useInstantSearchApi(props);\n\n  if (!search.started) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(InstantSearchContext.Provider, {\n    value: search\n  }, /*#__PURE__*/React.createElement(IndexContext.Provider, {\n    value: search.mainIndex\n  }, children));\n}", "function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport EventEmitter from '@algolia/events';\nimport index from \"../widgets/index/index.js\";\nimport version from \"./version.js\";\nimport createHelpers from \"./createHelpers.js\";\nimport { createDocumentationMessageGenerator, createDocumentationLink, defer, noop, warning, setIndexHelperState } from \"./utils/index.js\";\nimport { createRouterMiddleware } from \"../middlewares/createRouterMiddleware.js\";\nimport { createMetadataMiddleware, isMetadataEnabled } from \"../middlewares/createMetadataMiddleware.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'instantsearch'\n});\nfunction defaultCreateURL() {\n  return '#';\n}\n\n// this purposely breaks typescript's type inference to ensure it's not used\n// as it's used for a default parameter for example\n// source: https://github.com/Microsoft/TypeScript/issues/14829#issuecomment-504042546\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n  var _super = _createSuper(InstantSearch);\n  function InstantSearch(options) {\n    var _this;\n    _classCallCheck(this, InstantSearch);\n    _this = _super.call(this);\n\n    // prevent `render` event listening from causing a warning\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initialResults\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"status\", 'idle');\n    _defineProperty(_assertThisInitialized(_this), \"error\", undefined);\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", defer(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", defer(function () {\n      var shouldResetStatus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (!_this.mainHelper.hasPendingRequests()) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        if (shouldResetStatus) {\n          _this.status = 'idle';\n          _this.error = undefined;\n        }\n      }\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n      _this.emit('render');\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", defer(function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n      _this.middleware.forEach(function (_ref) {\n        var instance = _ref.instance;\n        instance.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    }));\n    _this.setMaxListeners(100);\n    var _options$indexName = options.indexName,\n      indexName = _options$indexName === void 0 ? null : _options$indexName,\n      numberLocale = options.numberLocale,\n      _options$initialUiSta = options.initialUiState,\n      initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n      _options$routing = options.routing,\n      routing = _options$routing === void 0 ? null : _options$routing,\n      searchFunction = options.searchFunction,\n      _options$stalledSearc = options.stalledSearchDelay,\n      stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n      _options$searchClient = options.searchClient,\n      searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n      _options$insightsClie = options.insightsClient,\n      insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n      _options$onStateChang = options.onStateChange,\n      onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang;\n    if (indexName === null) {\n      throw new Error(withUsage('The `indexName` option is required.'));\n    }\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(version, \")\"));\n    }\n    process.env.NODE_ENV === 'development' ? warning(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : void 0;\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n    process.env.NODE_ENV === 'development' ? warning(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat(createDocumentationLink({\n      name: 'configure'\n    }))) : void 0;\n    _this.client = searchClient;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = index({\n      indexName: indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: createHelpers({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n    _this._initialResults = null;\n    if (searchFunction) {\n      _this._searchFunction = searchFunction;\n    }\n    _this.sendEventToInsights = noop;\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? undefined : routing;\n      _this.use(createRouterMiddleware(routerOptions));\n    }\n    if (isMetadataEnabled()) {\n      _this.use(createMetadataMiddleware());\n    }\n    return _this;\n  }\n\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   */\n  _createClass(InstantSearch, [{\n    key: \"_isSearchStalled\",\n    get:\n    /**\n     * The status of the search. Can be \"idle\", \"loading\", \"stalled\", or \"error\".\n     */\n\n    /**\n     * The last returned error from the Search API.\n     * The error gets cleared when the next valid search response is rendered.\n     */\n\n    /**\n     * @deprecated use `status === 'stalled'` instead\n     */\n    function get() {\n      process.env.NODE_ENV === 'development' ? warning(false, \"`InstantSearch._isSearchStalled` is deprecated and will be removed in InstantSearch.js 5.0.\\n\\nUse `InstantSearch.status === \\\"stalled\\\"` instead.\") : void 0;\n      return this.status === 'stalled';\n    }\n  }, {\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = _objectSpread({\n          subscribe: noop,\n          started: noop,\n          unsubscribe: noop,\n          onStateChange: noop\n        }, fn({\n          instantSearchInstance: _this2\n        }));\n        _this2.middleware.push({\n          creator: fn,\n          instance: newMiddleware\n        });\n        return newMiddleware;\n      });\n\n      // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n          m.started();\n        });\n      }\n      return this;\n    }\n\n    /**\n     * Removes a middleware from the InstantSearch lifecycle.\n     */\n  }, {\n    key: \"unuse\",\n    value: function unuse() {\n      for (var _len2 = arguments.length, middlewareToUnuse = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        middlewareToUnuse[_key2] = arguments[_key2];\n      }\n      this.middleware.filter(function (m) {\n        return middlewareToUnuse.includes(m.creator);\n      }).forEach(function (m) {\n        return m.instance.unsubscribe();\n      });\n      this.middleware = this.middleware.filter(function (m) {\n        return !middlewareToUnuse.includes(m.creator);\n      });\n      return this;\n    }\n\n    // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n      process.env.NODE_ENV === 'development' ? warning(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : void 0;\n      return this.use.apply(this, arguments);\n    }\n\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : void 0;\n      return this.addWidgets([widget]);\n    }\n\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n      process.env.NODE_ENV === 'development' ? warning(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : void 0;\n      return this.removeWidgets([widget]);\n    }\n\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n      if (widgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search. This method should be called after all widgets have been added\n     * to the instance of InstantSearch.js. InstantSearch.js also supports adding and removing\n     * widgets after the start as an **EXPERIMENTAL** feature.\n     */\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      }\n\n      // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n      // In Vue InstantSearch' hydrate, a main helper gets set before start, so\n      // we need to respect this helper as a way to keep all listeners correct.\n      var mainHelper = this.mainHelper || algoliasearchHelper(this.client, this.indexName);\n      mainHelper.search = function () {\n        _this3.status = 'loading';\n        // @MAJOR: use scheduleRender here\n        // For now, widgets don't expect to be rendered at the start of `loading`,\n        // so it would be a breaking change to add an extra render. We don't have\n        // these guarantees about the render event, thus emitting it once more\n        // isn't a breaking change.\n        _this3.emit('render');\n\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        return mainHelper.searchOnlyWithDerivedHelpers();\n      };\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n          var searchFunctionHelper = algoliasearchHelper(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n            _this3._mainHelperSearch();\n          });\n          // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n          searchFunctionHelper.on('change', function (_ref3) {\n            var state = _ref3.state;\n            mainIndexHelper.setState(state);\n          });\n          _this3._searchFunction(searchFunctionHelper);\n          return mainHelper;\n        };\n      }\n\n      // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n      mainHelper.on('error', function (_ref4) {\n        var error = _ref4.error;\n        if (!(error instanceof Error)) {\n          // typescript lies here, error is in some cases { name: string, message: string }\n          var err = error;\n          error = Object.keys(err).reduce(function (acc, key) {\n            acc[key] = err[key];\n            return acc;\n          }, new Error(err.message));\n        }\n        // If an error is emitted, it is re-thrown by events. In previous versions\n        // we emitted {error}, which is thrown as:\n        // \"Uncaught, unspecified \\\"error\\\" event. ([object Object])\"\n        // To avoid breaking changes, we make the error available in both\n        // `error` and `error.error`\n        // @MAJOR emit only error\n        error.error = error;\n        _this3.error = error;\n        _this3.status = 'error';\n        _this3.scheduleRender(false);\n\n        // This needs to execute last because it throws the error.\n        _this3.emit('error', error);\n      });\n      this.mainHelper = mainHelper;\n      this.middleware.forEach(function (_ref5) {\n        var instance = _ref5.instance;\n        instance.subscribe();\n      });\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      if (this._initialResults) {\n        var originalScheduleSearch = this.scheduleSearch;\n        // We don't schedule a first search when initial results are provided\n        // because we already have the results to render. This skips the initial\n        // network request on the browser on `start`.\n        this.scheduleSearch = defer(noop);\n        // We also skip the initial network request when widgets are dynamically\n        // added in the first tick (that's the case in all the framework-based flavors).\n        // When we add a widget to `index`, it calls `scheduleSearch`. We can rely\n        // on our `defer` util to restore the original `scheduleSearch` value once\n        // widgets are added to hook back to the regular lifecycle.\n        defer(function () {\n          _this3.scheduleSearch = originalScheduleSearch;\n        })();\n      }\n      // We only schedule a search when widgets have been added before `start()`\n      // because there are listeners that can use these results.\n      // This is especially useful in framework-based flavors that wait for\n      // dynamically-added widgets to trigger a network request. It avoids\n      // having to batch this initial network request with the one coming from\n      // `addWidgets()`.\n      // Later, we could also skip `index()` widgets and widgets that don't read\n      // the results, but this is an optimization that has a very low impact for now.\n      else if (this.mainIndex.getWidgets().length > 0) {\n        this.scheduleSearch();\n      }\n\n      // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n      this.helper = this.mainIndex.getHelper();\n\n      // track we started the search if we add more widgets,\n      // to init them directly after add\n      this.started = true;\n      this.middleware.forEach(function (_ref6) {\n        var instance = _ref6.instance;\n        instance.started();\n      });\n    }\n\n    /**\n     * Removes all widgets without triggering a search afterwards. This is an **EXPERIMENTAL** feature,\n     * if you find an issue with it, please\n     * [open an issue](https://github.com/algolia/instantsearch.js/issues/new?title=Problem%20with%20dispose).\n     * @return {undefined} This method does not return anything\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose();\n\n      // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n      this.started = false;\n\n      // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n      this.removeAllListeners();\n      this.mainHelper.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (_ref7) {\n        var instance = _ref7.instance;\n        instance.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4.status = 'stalled';\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n\n    /**\n     * Set the UI state and trigger a search.\n     * @param uiState The next UI state or a function computing it from the current state\n     * @param callOnStateChange private parameter used to know if the method is called from a state change\n     */\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      var _this5 = this;\n      var callOnStateChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      }\n\n      // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n      if (this.onStateChange && callOnStateChange) {\n        this.onStateChange({\n          uiState: nextUiState,\n          setUiState: function setUiState(finalUiState) {\n            setIndexHelperState(typeof finalUiState === 'function' ? finalUiState(nextUiState) : finalUiState, _this5.mainIndex);\n            _this5.scheduleSearch();\n            _this5.onInternalStateChange();\n          }\n        });\n      } else {\n        setIndexHelperState(nextUiState, this.mainIndex);\n        this.scheduleSearch();\n        this.onInternalStateChange();\n      }\n    }\n  }, {\n    key: \"getUiState\",\n    value: function getUiState() {\n      if (this.started) {\n        // We refresh the index UI state to make sure changes from `refine` are taken in account\n        this.mainIndex.refreshUiState();\n      }\n      return this.mainIndex.getWidgetUiState({});\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n  return InstantSearch;\n}(EventEmitter);\nexport default InstantSearch;", "export default '4.49.2';", "export function formatNumber(value, numberLocale) {\n  return value.toLocaleString(numberLocale);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { highlight as _highlight, reverseHighlight as _reverseHighlight, snippet as _snippet, reverseSnippet as _reverseSnippet, insights as _insights } from \"../helpers/index.js\";\nimport { formatNumber as _formatNumber } from \"./formatNumber.js\";\nexport default function hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return _formatNumber(Number(render(value)), numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render(_highlight(_objectSpread(_objectSpread({}, highlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseHighlight: function reverseHighlight(options, render) {\n      try {\n        var reverseHighlightOptions = JSON.parse(options);\n        return render(_reverseHighlight(_objectSpread(_objectSpread({}, reverseHighlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseHighlight helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render(_snippet(_objectSpread(_objectSpread({}, snippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseSnippet: function reverseSnippet(options, render) {\n      try {\n        var reverseSnippetOptions = JSON.parse(options);\n        return render(_reverseSnippet(_objectSpread(_objectSpread({}, reverseSnippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseSnippet helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n          method = _JSON$parse.method,\n          payload = _JSON$parse.payload;\n        return render(_insights(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}", "import InstantSearch from \"instantsearch.js/es/lib/InstantSearch.js\";\nimport { useCallback, useRef, version as ReactVersion } from 'react';\nimport { useSyncExternalStore } from \"use-sync-external-store/shim/index.js\";\nimport { useInstantSearchServerContext } from \"./useInstantSearchServerContext.js\";\nimport { useInstantSearchSSRContext } from \"./useInstantSearchSSRContext.js\";\nimport version from \"../version.js\";\nimport { useForceUpdate } from \"./useForceUpdate.js\";\nvar defaultUserAgents = [\"react (\".concat(ReactVersion, \")\"), \"react-instantsearch (\".concat(version, \")\"), \"react-instantsearch-hooks (\".concat(version, \")\")];\nvar serverUserAgent = \"react-instantsearch-server (\".concat(version, \")\");\nexport function useInstantSearchApi(props) {\n  var forceUpdate = useForceUpdate();\n  var serverContext = useInstantSearchServerContext();\n  var serverState = useInstantSearchSSRContext();\n  var initialResults = serverState === null || serverState === void 0 ? void 0 : serverState.initialResults;\n  var searchRef = useRef(null);\n  var prevPropsRef = useRef(props);\n\n  if (searchRef.current === null) {\n    // We don't use the `instantsearch()` function because it comes with other\n    // top-level APIs that we don't need.\n    // See https://github.com/algolia/instantsearch.js/blob/5b529f43d8acc680f85837eaaa41f7fd03a3f833/src/index.es.ts#L63-L86\n    var search = new InstantSearch(props);\n\n    if (serverContext || initialResults) {\n      // InstantSearch.js has a private Initial Results API that lets us inject\n      // results on the search instance.\n      // On the server, we default the initial results to an empty object so that\n      // InstantSearch.js doesn't schedule a search that isn't used, leading to\n      // an additional network request. (This is equivalent to monkey-patching\n      // `scheduleSearch` to a noop.)\n      search._initialResults = initialResults || {};\n    }\n\n    addAlgoliaAgents(props.searchClient, [].concat(defaultUserAgents, [serverContext && serverUserAgent])); // On the server, we start the search early to compute the search parameters.\n    // On SSR, we start the search early to directly catch up with the lifecycle\n    // and render.\n\n    if (serverContext || initialResults) {\n      search.start();\n    }\n\n    if (serverContext) {\n      // We notify `getServerState()` of the InstantSearch internals to retrieve\n      // the server state and pass it to the render on SSR.\n      serverContext.notifyServer({\n        search: search\n      });\n    }\n\n    searchRef.current = search;\n  }\n\n  {\n    var _search = searchRef.current;\n    var prevProps = prevPropsRef.current;\n\n    if (prevProps.indexName !== props.indexName) {\n      _search.helper.setIndex(props.indexName).search();\n\n      prevPropsRef.current = props;\n    }\n\n    if (prevProps.searchClient !== props.searchClient) {\n      addAlgoliaAgents(props.searchClient, [].concat(defaultUserAgents, [serverContext && serverUserAgent]));\n\n      _search.mainHelper.setClient(props.searchClient).search();\n\n      prevPropsRef.current = props;\n    }\n\n    if (prevProps.onStateChange !== props.onStateChange) {\n      _search.onStateChange = props.onStateChange;\n      prevPropsRef.current = props;\n    }\n\n    if (prevProps.searchFunction !== props.searchFunction) {\n      // Updating the `searchFunction` to `undefined` is not supported by\n      // InstantSearch.js, so it will throw an error.\n      // This is a fair behavior until we add an update API in InstantSearch.js.\n      _search._searchFunction = props.searchFunction;\n      prevPropsRef.current = props;\n    }\n\n    if (prevProps.stalledSearchDelay !== props.stalledSearchDelay) {\n      var _props$stalledSearchD;\n\n      // The default `stalledSearchDelay` in InstantSearch.js is 200ms.\n      // We need to reset it when it's undefined to get back to the original value.\n      _search._stalledSearchDelay = (_props$stalledSearchD = props.stalledSearchDelay) !== null && _props$stalledSearchD !== void 0 ? _props$stalledSearchD : 200;\n      prevPropsRef.current = props;\n    } // Updating the `routing` prop is not supported because InstantSearch.js\n    // doesn't let us change it. This might not be a problem though, because `routing`\n    // shouldn't need to be dynamic.\n    // If we find scenarios where `routing` needs to change, we can always expose\n    // it privately on the InstantSearch instance. Another way would be to\n    // manually inject the routing middleware in this library, and not rely\n    // on the provided `routing` prop.\n\n  }\n  var cleanupTimerRef = useRef(null);\n  var store = useSyncExternalStore(useCallback(function () {\n    var search = searchRef.current; // Scenario 1: the component mounts.\n\n    if (cleanupTimerRef.current === null) {\n      // On SSR, the instance is already started so we don't start it again.\n      if (!search.started) {\n        search.start();\n        forceUpdate();\n      }\n    } // Scenario 2: the component updates.\n    else {\n      // We cancel the previous cleanup function because we don't want to\n      // dispose the search during an update.\n      clearTimeout(cleanupTimerRef.current);\n      search._preventWidgetCleanup = false;\n    }\n\n    return function () {\n      function cleanup() {\n        search.dispose();\n      } // We clean up only when the component that uses this subscription unmounts,\n      // but not when it updates, because it would dispose the instance, which\n      // would remove all the widgets and break routing.\n      // Executing the cleanup function in a `setTimeout()` lets us cancel it\n      // in the next effect.\n      // (There might be better ways to do this.)\n\n\n      cleanupTimerRef.current = setTimeout(cleanup); // We need to prevent the `useWidget` cleanup function so that widgets\n      // are not removed before the instance is disposed, triggering\n      // an unwanted search request.\n\n      search._preventWidgetCleanup = true;\n    };\n  }, [forceUpdate]), function () {\n    return searchRef.current;\n  }, function () {\n    return searchRef.current;\n  });\n  return store;\n}\n\nfunction addAlgoliaAgents(searchClient, userAgents) {\n  if (typeof searchClient.addAlgoliaAgent !== 'function') {\n    return;\n  }\n\n  userAgents.filter(Boolean).forEach(function (userAgent) {\n    searchClient.addAlgoliaAgent(userAgent);\n  });\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\"];\nimport React from 'react';\nimport { InstantSearchSSRContext } from \"../lib/InstantSearchSSRContext.js\";\n\n/**\n * Provider to pass the server state retrieved from `getServerState()` to\n * <InstantSearch>.\n */\nexport function InstantSearchSSRProvider(_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  // When <DynamicWidgets> is mounted, a second provider is used above the user-land\n  // <InstantSearchSSRProvider> in `getServerState()`.\n  // To avoid the user's provider overriding the context value with an empty object,\n  // we skip this provider.\n  if (Object.keys(props).length === 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, children);\n  }\n\n  return /*#__PURE__*/React.createElement(InstantSearchSSRContext.Provider, {\n    value: props\n  }, children);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport { checkRendering, warning, createDocumentationMessageGenerator, isEqual, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'breadcrumb',\n  connector: true\n});\nvar connectBreadcrumb = function connectBreadcrumb(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  var connectorState = {};\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      attributes = _ref.attributes,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? ' > ' : _ref$separator,\n      _ref$rootPath = _ref.rootPath,\n      rootPath = _ref$rootPath === void 0 ? null : _ref$rootPath,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (!attributes || !Array.isArray(attributes) || attributes.length === 0) {\n      throw new Error(withUsage('The `attributes` option expects an array of strings.'));\n    }\n    var _attributes = _slicedToArray(attributes, 1),\n      hierarchicalFacetName = _attributes[0];\n    function getRefinedState(state, facetValue) {\n      if (!facetValue) {\n        var breadcrumb = state.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n        if (breadcrumb.length === 0) {\n          return state;\n        } else {\n          return state.resetPage().toggleFacetRefinement(hierarchicalFacetName, breadcrumb[0]);\n        }\n      }\n      return state.resetPage().toggleFacetRefinement(hierarchicalFacetName, facetValue);\n    }\n    return {\n      $$type: 'ais.breadcrumb',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          breadcrumb: _objectSpread(_objectSpread({}, renderState.breadcrumb), {}, _defineProperty({}, hierarchicalFacetName, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper,\n          createURL = _ref2.createURL,\n          results = _ref2.results,\n          state = _ref2.state;\n        function getItems() {\n          // The hierarchicalFacets condition is required for flavors\n          // that render immediately with empty results, without relying\n          // on init() (like React InstantSearch Hooks).\n          if (!results || state.hierarchicalFacets.length === 0) {\n            return [];\n          }\n          var _state$hierarchicalFa = _slicedToArray(state.hierarchicalFacets, 1),\n            facetName = _state$hierarchicalFa[0].name;\n          var facetValues = results.getFacetValues(facetName, {});\n          var data = Array.isArray(facetValues.data) ? facetValues.data : [];\n          var items = transformItems(shiftItemsValues(prepareItems(data)), {\n            results: results\n          });\n          return items;\n        }\n        var items = getItems();\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (facetValue) {\n            return createURL(getRefinedState(helper.state, facetValue));\n          };\n        }\n        if (!connectorState.refine) {\n          connectorState.refine = function (facetValue) {\n            helper.setState(getRefinedState(helper.state, facetValue)).search();\n          };\n        }\n        return {\n          canRefine: items.length > 0,\n          createURL: connectorState.createURL,\n          items: items,\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters) {\n        if (searchParameters.isHierarchicalFacet(hierarchicalFacetName)) {\n          var facet = searchParameters.getHierarchicalFacetByName(hierarchicalFacetName);\n          process.env.NODE_ENV === 'development' ? warning(isEqual(facet.attributes, attributes) && facet.separator === separator && facet.rootPath === rootPath, 'Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.') : void 0;\n          return searchParameters;\n        }\n        return searchParameters.addHierarchicalFacet({\n          name: hierarchicalFacetName,\n          attributes: attributes,\n          separator: separator,\n          rootPath: rootPath\n        });\n      }\n    };\n  };\n};\nfunction prepareItems(data) {\n  return data.reduce(function (result, currentItem) {\n    if (currentItem.isRefined) {\n      result.push({\n        label: currentItem.name,\n        value: currentItem.escapedValue\n      });\n      if (Array.isArray(currentItem.data)) {\n        result = result.concat(prepareItems(currentItem.data));\n      }\n    }\n    return result;\n  }, []);\n}\nfunction shiftItemsValues(array) {\n  return array.map(function (x, idx) {\n    return {\n      label: x.label,\n      value: idx + 1 === array.length ? null : array[idx + 1].value\n    };\n  });\n}\nexport default connectBreadcrumb;", "import connectBreadcrumb from \"instantsearch.js/es/connectors/breadcrumb/connectBreadcrumb.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useBreadcrumb(props, additionalWidgetProperties) {\n  return useConnector(connectBreadcrumb, props, additionalWidgetProperties);\n}", "function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, clearRefinements, getRefinements, createDocumentationMessageGenerator, noop, uniq, mergeSearchParameters } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'clear-refinements',\n  connector: true\n});\nvar connectClearRefinements = function connectClearRefinements(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$includedAttribut = _ref.includedAttributes,\n      includedAttributes = _ref$includedAttribut === void 0 ? [] : _ref$includedAttribut,\n      _ref$excludedAttribut = _ref.excludedAttributes,\n      excludedAttributes = _ref$excludedAttribut === void 0 ? ['query'] : _ref$excludedAttribut,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (widgetParams && widgetParams.includedAttributes && widgetParams.excludedAttributes) {\n      throw new Error(withUsage('The options `includedAttributes` and `excludedAttributes` cannot be used together.'));\n    }\n    var connectorState = {\n      refine: noop,\n      createURL: function createURL() {\n        return '';\n      },\n      attributesToClear: []\n    };\n    var cachedRefine = function cachedRefine() {\n      return connectorState.refine();\n    };\n    var cachedCreateURL = function cachedCreateURL() {\n      return connectorState.createURL();\n    };\n    return {\n      $$type: 'ais.clearRefinements',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          clearRefinements: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var createURL = _ref2.createURL,\n          scopedResults = _ref2.scopedResults,\n          results = _ref2.results;\n        connectorState.attributesToClear = scopedResults.reduce(function (attributesToClear, scopedResult) {\n          return attributesToClear.concat(getAttributesToClear({\n            scopedResult: scopedResult,\n            includedAttributes: includedAttributes,\n            excludedAttributes: excludedAttributes,\n            transformItems: transformItems,\n            results: results\n          }));\n        }, []);\n        connectorState.refine = function () {\n          connectorState.attributesToClear.forEach(function (_ref3) {\n            var indexHelper = _ref3.helper,\n              items = _ref3.items;\n            indexHelper.setState(clearRefinements({\n              helper: indexHelper,\n              attributesToClear: items\n            })).search();\n          });\n        };\n        connectorState.createURL = function () {\n          return createURL(mergeSearchParameters.apply(void 0, _toConsumableArray(connectorState.attributesToClear.map(function (_ref4) {\n            var indexHelper = _ref4.helper,\n              items = _ref4.items;\n            return clearRefinements({\n              helper: indexHelper,\n              attributesToClear: items\n            });\n          }))));\n        };\n        var canRefine = connectorState.attributesToClear.some(function (attributeToClear) {\n          return attributeToClear.items.length > 0;\n        });\n        return {\n          canRefine: canRefine,\n          hasRefinements: canRefine,\n          refine: cachedRefine,\n          createURL: cachedCreateURL,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\nfunction getAttributesToClear(_ref5) {\n  var scopedResult = _ref5.scopedResult,\n    includedAttributes = _ref5.includedAttributes,\n    excludedAttributes = _ref5.excludedAttributes,\n    transformItems = _ref5.transformItems,\n    results = _ref5.results;\n  var includesQuery = includedAttributes.indexOf('query') !== -1 || excludedAttributes.indexOf('query') === -1;\n  return {\n    helper: scopedResult.helper,\n    items: transformItems(uniq(getRefinements(scopedResult.results, scopedResult.helper.state, includesQuery).map(function (refinement) {\n      return refinement.attribute;\n    }).filter(function (attribute) {\n      return (\n        // If the array is empty (default case), we keep all the attributes\n        includedAttributes.length === 0 ||\n        // Otherwise, only add the specified attributes\n        includedAttributes.indexOf(attribute) !== -1\n      );\n    }).filter(function (attribute) {\n      return (\n        // If the query is included, we ignore the default `excludedAttributes = ['query']`\n        attribute === 'query' && includesQuery ||\n        // Otherwise, ignore the excluded attributes\n        excludedAttributes.indexOf(attribute) === -1\n      );\n    })), {\n      results: results\n    })\n  };\n}\nexport default connectClearRefinements;", "import connectClearRefinements from \"instantsearch.js/es/connectors/clear-refinements/connectClearRefinements.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useClearRefinements(props, additionalWidgetProperties) {\n  return useConnector(connectClearRefinements, props, additionalWidgetProperties);\n}", "function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { getRefinements, checkRendering, createDocumentationMessageGenerator, noop, warning } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'current-refinements',\n  connector: true\n});\nvar connectCurrentRefinements = function connectCurrentRefinements(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    if ((widgetParams || {}).includedAttributes && (widgetParams || {}).excludedAttributes) {\n      throw new Error(withUsage('The options `includedAttributes` and `excludedAttributes` cannot be used together.'));\n    }\n    var _ref = widgetParams || {},\n      includedAttributes = _ref.includedAttributes,\n      _ref$excludedAttribut = _ref.excludedAttributes,\n      excludedAttributes = _ref$excludedAttribut === void 0 ? ['query'] : _ref$excludedAttribut,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    return {\n      $$type: 'ais.currentRefinements',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          currentRefinements: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n          scopedResults = _ref2.scopedResults,\n          _createURL = _ref2.createURL,\n          helper = _ref2.helper;\n        function getItems() {\n          if (!results) {\n            return transformItems(getRefinementsItems({\n              results: {},\n              helper: helper,\n              includedAttributes: includedAttributes,\n              excludedAttributes: excludedAttributes\n            }), {\n              results: results\n            });\n          }\n          return scopedResults.reduce(function (accResults, scopedResult) {\n            return accResults.concat(transformItems(getRefinementsItems({\n              results: scopedResult.results,\n              helper: scopedResult.helper,\n              includedAttributes: includedAttributes,\n              excludedAttributes: excludedAttributes\n            }), {\n              results: results\n            }));\n          }, []);\n        }\n        var items = getItems();\n        return {\n          items: items,\n          canRefine: items.length > 0,\n          refine: function refine(refinement) {\n            return clearRefinement(helper, refinement);\n          },\n          createURL: function createURL(refinement) {\n            return _createURL(clearRefinementFromState(helper.state, refinement));\n          },\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\nfunction getRefinementsItems(_ref3) {\n  var results = _ref3.results,\n    helper = _ref3.helper,\n    includedAttributes = _ref3.includedAttributes,\n    excludedAttributes = _ref3.excludedAttributes;\n  var includesQuery = (includedAttributes || []).indexOf('query') !== -1 || (excludedAttributes || []).indexOf('query') === -1;\n  var filterFunction = includedAttributes ? function (item) {\n    return includedAttributes.indexOf(item.attribute) !== -1;\n  } : function (item) {\n    return excludedAttributes.indexOf(item.attribute) === -1;\n  };\n  var items = getRefinements(results, helper.state, includesQuery).map(normalizeRefinement).filter(filterFunction);\n  return items.reduce(function (allItems, currentItem) {\n    return [].concat(_toConsumableArray(allItems.filter(function (item) {\n      return item.attribute !== currentItem.attribute;\n    })), [{\n      indexName: helper.state.index,\n      attribute: currentItem.attribute,\n      label: currentItem.attribute,\n      refinements: items.filter(function (result) {\n        return result.attribute === currentItem.attribute;\n      })\n      // We want to keep the order of refinements except the numeric ones.\n      .sort(function (a, b) {\n        return a.type === 'numeric' ? a.value - b.value : 0;\n      }),\n      refine: function refine(refinement) {\n        return clearRefinement(helper, refinement);\n      }\n    }]);\n  }, []);\n}\nfunction clearRefinementFromState(state, refinement) {\n  state = state.resetPage();\n  switch (refinement.type) {\n    case 'facet':\n      return state.removeFacetRefinement(refinement.attribute, String(refinement.value));\n    case 'disjunctive':\n      return state.removeDisjunctiveFacetRefinement(refinement.attribute, String(refinement.value));\n    case 'hierarchical':\n      return state.removeHierarchicalFacetRefinement(refinement.attribute);\n    case 'exclude':\n      return state.removeExcludeRefinement(refinement.attribute, String(refinement.value));\n    case 'numeric':\n      return state.removeNumericRefinement(refinement.attribute, refinement.operator, String(refinement.value));\n    case 'tag':\n      return state.removeTagRefinement(String(refinement.value));\n    case 'query':\n      return state.setQueryParameter('query', '');\n    default:\n      process.env.NODE_ENV === 'development' ? warning(false, \"The refinement type \\\"\".concat(refinement.type, \"\\\" does not exist and cannot be cleared from the current refinements.\")) : void 0;\n      return state;\n  }\n}\nfunction clearRefinement(helper, refinement) {\n  helper.setState(clearRefinementFromState(helper.state, refinement)).search();\n}\nfunction getOperatorSymbol(operator) {\n  switch (operator) {\n    case '>=':\n      return '\u2265';\n    case '<=':\n      return '\u2264';\n    default:\n      return operator;\n  }\n}\nfunction normalizeRefinement(refinement) {\n  var value = getValue(refinement);\n  var label = refinement.operator ? \"\".concat(getOperatorSymbol(refinement.operator), \" \").concat(refinement.name) : refinement.name;\n  var normalizedRefinement = {\n    attribute: refinement.attribute,\n    type: refinement.type,\n    value: value,\n    label: label\n  };\n  if (refinement.operator !== undefined) {\n    normalizedRefinement.operator = refinement.operator;\n  }\n  if (refinement.count !== undefined) {\n    normalizedRefinement.count = refinement.count;\n  }\n  if (refinement.exhaustive !== undefined) {\n    normalizedRefinement.exhaustive = refinement.exhaustive;\n  }\n  return normalizedRefinement;\n}\nfunction getValue(refinement) {\n  if (refinement.type === 'numeric') {\n    return Number(refinement.name);\n  }\n  if ('escapedValue' in refinement) {\n    return refinement.escapedValue;\n  }\n  return refinement.name;\n}\nexport default connectCurrentRefinements;", "import connectCurrentRefinements from \"instantsearch.js/es/connectors/current-refinements/connectCurrentRefinements.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useCurrentRefinements(props, additionalWidgetProperties) {\n  return useConnector(connectCurrentRefinements, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport { checkRendering, warning, createDocumentationMessageGenerator, createSendEventForFacet, isEqual, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hierarchical-menu',\n  connector: true\n});\nvar DEFAULT_SORT = ['name:asc'];\n/**\n * **HierarchicalMenu** connector provides the logic to build a custom widget\n * that will give the user the ability to explore facets in a tree-like structure.\n *\n * This is commonly used for multi-level categorization of products on e-commerce\n * websites. From a UX point of view, we suggest not displaying more than two\n * levels deep.\n *\n * @type {Connector}\n * @param {function(HierarchicalMenuRenderingOptions, boolean)} renderFn Rendering function for the custom **HierarchicalMenu** widget.\n * @param {function} unmountFn Unmount function called when the widget is disposed.\n * @return {function(CustomHierarchicalMenuWidgetParams)} Re-usable widget factory for a custom **HierarchicalMenu** widget.\n */\nvar connectHierarchicalMenu = function connectHierarchicalMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      attributes = _ref.attributes,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? ' > ' : _ref$separator,\n      _ref$rootPath = _ref.rootPath,\n      rootPath = _ref$rootPath === void 0 ? null : _ref$rootPath,\n      _ref$showParentLevel = _ref.showParentLevel,\n      showParentLevel = _ref$showParentLevel === void 0 ? true : _ref$showParentLevel,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 10 : _ref$limit,\n      _ref$showMore = _ref.showMore,\n      showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n      _ref$showMoreLimit = _ref.showMoreLimit,\n      showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n      _ref$sortBy = _ref.sortBy,\n      sortBy = _ref$sortBy === void 0 ? DEFAULT_SORT : _ref$sortBy,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (!attributes || !Array.isArray(attributes) || attributes.length === 0) {\n      throw new Error(withUsage('The `attributes` option expects an array of strings.'));\n    }\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('The `showMoreLimit` option must be greater than `limit`.'));\n    }\n    // we need to provide a hierarchicalFacet name for the search state\n    // so that we can always map $hierarchicalFacetName => real attributes\n    // we use the first attribute name\n    var _attributes = _slicedToArray(attributes, 1),\n      hierarchicalFacetName = _attributes[0];\n    var sendEvent;\n\n    // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n    var toggleShowMore = function toggleShowMore() {};\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n    var _refine;\n    var isShowingMore = false;\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n    function _prepareFacetValues(facetValues) {\n      return facetValues.slice(0, getLimit()).map(function (_ref2) {\n        var label = _ref2.name,\n          value = _ref2.escapedValue,\n          data = _ref2.data,\n          path = _ref2.path,\n          subValue = _objectWithoutProperties(_ref2, [\"name\", \"escapedValue\", \"data\", \"path\"]);\n        var item = _objectSpread(_objectSpread({}, subValue), {}, {\n          value: value,\n          label: label,\n          data: null\n        });\n        if (Array.isArray(data)) {\n          item.data = _prepareFacetValues(data);\n        }\n        return item;\n      });\n    }\n    return {\n      $$type: 'ais.hierarchicalMenu',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        toggleShowMore = createToggleShowMore(renderOptions, this);\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.removeHierarchicalFacet(hierarchicalFacetName).setQueryParameter('maxValuesPerFacet', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hierarchicalMenu: _objectSpread(_objectSpread({}, renderState.hierarchicalMenu), {}, _defineProperty({}, hierarchicalFacetName, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref4) {\n        var results = _ref4.results,\n          state = _ref4.state,\n          createURL = _ref4.createURL,\n          instantSearchInstance = _ref4.instantSearchInstance,\n          helper = _ref4.helper;\n        var items = [];\n        var canToggleShowMore = false;\n\n        // Bind createURL to this specific attribute\n        function _createURL(facetValue) {\n          return createURL(state.resetPage().toggleFacetRefinement(hierarchicalFacetName, facetValue));\n        }\n        if (!sendEvent) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: function attribute(facetValue) {\n              var index = facetValue.split(separator).length - 1;\n              return attributes[index];\n            },\n            widgetType: this.$$type\n          });\n        }\n        if (!_refine) {\n          _refine = function _refine(facetValue) {\n            sendEvent('click', facetValue);\n            helper.toggleFacetRefinement(hierarchicalFacetName, facetValue).search();\n          };\n        }\n        if (results) {\n          var facetValues = results.getFacetValues(hierarchicalFacetName, {\n            sortBy: sortBy,\n            facetOrdering: sortBy === DEFAULT_SORT\n          });\n          var facetItems = facetValues && !Array.isArray(facetValues) && facetValues.data ? facetValues.data : [];\n\n          // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n          var hasExhaustiveItems = (state.maxValuesPerFacet || 0) > getLimit() ? facetItems.length <= getLimit() : facetItems.length < getLimit();\n          canToggleShowMore = showMore && (isShowingMore || !hasExhaustiveItems);\n          items = transformItems(_prepareFacetValues(facetItems), {\n            results: results\n          });\n        }\n        return {\n          items: items,\n          refine: _refine,\n          canRefine: items.length > 0,\n          createURL: _createURL,\n          sendEvent: sendEvent,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          toggleShowMore: cachedToggleShowMore,\n          canToggleShowMore: canToggleShowMore\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var path = searchParameters.getHierarchicalFacetBreadcrumb(hierarchicalFacetName);\n        if (!path.length) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          hierarchicalMenu: _objectSpread(_objectSpread({}, uiState.hierarchicalMenu), {}, _defineProperty({}, hierarchicalFacetName, path))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var values = uiState.hierarchicalMenu && uiState.hierarchicalMenu[hierarchicalFacetName];\n        if (searchParameters.isHierarchicalFacet(hierarchicalFacetName)) {\n          var facet = searchParameters.getHierarchicalFacetByName(hierarchicalFacetName);\n          process.env.NODE_ENV === 'development' ? warning(isEqual(facet.attributes, attributes) && facet.separator === separator && facet.rootPath === rootPath, 'Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.') : void 0;\n        }\n        var withFacetConfiguration = searchParameters.removeHierarchicalFacet(hierarchicalFacetName).addHierarchicalFacet({\n          name: hierarchicalFacetName,\n          attributes: attributes,\n          separator: separator,\n          rootPath: rootPath,\n          showParentLevel: showParentLevel\n        });\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n        if (!values) {\n          return withMaxValuesPerFacet.setQueryParameters({\n            hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, withMaxValuesPerFacet.hierarchicalFacetsRefinements), {}, _defineProperty({}, hierarchicalFacetName, []))\n          });\n        }\n        return withMaxValuesPerFacet.addHierarchicalFacetRefinement(hierarchicalFacetName, values.join(separator));\n      }\n    };\n  };\n};\nexport default connectHierarchicalMenu;", "import connectHierarchicalMenu from \"instantsearch.js/es/connectors/hierarchical-menu/connectHierarchicalMenu.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useHierarchicalMenu(props, additionalWidgetProperties) {\n  return useConnector(connectHierarchicalMenu, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, addAbsolutePosition, addQueryID, createSendEventForHits, createBindEventForHits, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits',\n  connector: true\n});\nvar connectHits = function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$escapeHTML = _ref.escapeHTML,\n      escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n        renderState.sendEvent('view', renderState.hits);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var results = _ref2.results,\n          helper = _ref2.helper,\n          instantSearchInstance = _ref2.instantSearchInstance;\n        if (!sendEvent) {\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n        if (!bindEvent) {\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n        }\n        if (!results) {\n          return {\n            hits: [],\n            results: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = escapeHits(results.hits);\n        }\n        var hitsWithAbsolutePosition = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n        var hitsWithAbsolutePositionAndQueryID = addQueryID(hitsWithAbsolutePosition, results.queryID);\n        var transformedHits = transformItems(hitsWithAbsolutePositionAndQueryID, {\n          results: results\n        });\n        return {\n          hits: transformedHits,\n          results: results,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        if (!escapeHTML) {\n          return state;\n        }\n        return state.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state) {\n        if (!escapeHTML) {\n          return state;\n        }\n        return state.setQueryParameters(TAG_PLACEHOLDER);\n      }\n    };\n  };\n};\nexport default connectHits;", "import connectHits from \"instantsearch.js/es/connectors/hits/connectHits.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useHits(props, additionalWidgetProperties) {\n  return useConnector(connectHits, props, additionalWidgetProperties);\n}", "function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, warning, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'hits-per-page',\n  connector: true\n});\nvar connectHitsPerPage = function connectHitsPerPage(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      userItems = _ref.items,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (!Array.isArray(userItems)) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n    var items = userItems;\n    var defaultItems = items.filter(function (item) {\n      return item.default === true;\n    });\n    if (defaultItems.length === 0) {\n      throw new Error(withUsage(\"A default value must be specified in `items`.\"));\n    }\n    if (defaultItems.length > 1) {\n      throw new Error(withUsage('More than one default value is specified in `items`.'));\n    }\n    var defaultItem = defaultItems[0];\n    var normalizeItems = function normalizeItems(_ref2) {\n      var hitsPerPage = _ref2.hitsPerPage;\n      return items.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          isRefined: Number(item.value) === Number(hitsPerPage)\n        });\n      });\n    };\n    var connectorState = {\n      getRefine: function getRefine(helper) {\n        return function (value) {\n          return !value && value !== 0 ? helper.setQueryParameter('hitsPerPage', undefined).search() : helper.setQueryParameter('hitsPerPage', value).search();\n        };\n      },\n      createURLFactory: function createURLFactory(_ref3) {\n        var state = _ref3.state,\n          createURL = _ref3.createURL;\n        return function (value) {\n          return createURL(state.resetPage().setQueryParameter('hitsPerPage', !value && value !== 0 ? undefined : value));\n        };\n      }\n    };\n    return {\n      $$type: 'ais.hitsPerPage',\n      init: function init(initOptions) {\n        var state = initOptions.state,\n          instantSearchInstance = initOptions.instantSearchInstance;\n        var isCurrentInOptions = items.some(function (item) {\n          return Number(state.hitsPerPage) === Number(item.value);\n        });\n        if (!isCurrentInOptions) {\n          process.env.NODE_ENV === 'development' ? warning(state.hitsPerPage !== undefined, \"\\n`hitsPerPage` is not defined.\\nThe option `hitsPerPage` needs to be set using the `configure` widget.\\n\\nLearn more: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/\\n            \") : void 0;\n          process.env.NODE_ENV === 'development' ? warning(false, \"\\nThe `items` option of `hitsPerPage` does not contain the \\\"hits per page\\\" value coming from the state: \".concat(state.hitsPerPage, \".\\n\\nYou may want to add another entry to the `items` option with this value.\")) : void 0;\n          items = [\n          // The helper will convert the empty string to `undefined`.\n          {\n            value: '',\n            label: ''\n          }].concat(_toConsumableArray(items));\n        }\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.setQueryParameter('hitsPerPage', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hitsPerPage: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var state = _ref5.state,\n          results = _ref5.results,\n          createURL = _ref5.createURL,\n          helper = _ref5.helper;\n        var canRefine = results ? results.nbHits > 0 : false;\n        return {\n          items: transformItems(normalizeItems(state), {\n            results: results\n          }),\n          refine: connectorState.getRefine(helper),\n          createURL: connectorState.createURLFactory({\n            state: state,\n            createURL: createURL\n          }),\n          hasNoResults: !canRefine,\n          canRefine: canRefine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref6) {\n        var searchParameters = _ref6.searchParameters;\n        var hitsPerPage = searchParameters.hitsPerPage;\n        if (hitsPerPage === undefined || hitsPerPage === defaultItem.value) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          hitsPerPage: hitsPerPage\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref7) {\n        var uiState = _ref7.uiState;\n        return searchParameters.setQueryParameters({\n          hitsPerPage: uiState.hitsPerPage || defaultItem.value\n        });\n      }\n    };\n  };\n};\nexport default connectHitsPerPage;", "import connectHitsPerPage from \"instantsearch.js/es/connectors/hits-per-page/connectHitsPerPage.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useHitsPerPage(props, additionalWidgetProperties) {\n  return useConnector(connectHitsPerPage, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { escapeHits, TAG_PLACEHOLDER, checkRendering, createDocumentationMessageGenerator, isEqual, addAbsolutePosition, addQueryID, noop, createSendEventForHits, createBindEventForHits } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'infinite-hits',\n  connector: true\n});\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n    page = _ref.page,\n    rest = _objectWithoutProperties(_ref, [\"page\"]);\n  return rest;\n}\nfunction getInMemoryCache() {\n  var cachedHits = null;\n  var cachedState = null;\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n      return isEqual(cachedState, getStateWithoutPage(state)) ? cachedHits : null;\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n        hits = _ref3.hits;\n      cachedState = getStateWithoutPage(state);\n      cachedHits = hits;\n    }\n  };\n}\nfunction extractHitsFromCachedHits(cachedHits) {\n  return Object.keys(cachedHits).map(Number).sort(function (a, b) {\n    return a - b;\n  }).reduce(function (acc, page) {\n    return acc.concat(cachedHits[page]);\n  }, []);\n}\nvar connectInfiniteHits = function connectInfiniteHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n\n  // @TODO: this should be a generic, but a Connector can not yet be generic itself\n\n  return function (widgetParams) {\n    var _ref4 = widgetParams || {},\n      _ref4$escapeHTML = _ref4.escapeHTML,\n      escapeHTML = _ref4$escapeHTML === void 0 ? true : _ref4$escapeHTML,\n      _ref4$transformItems = _ref4.transformItems,\n      transformItems = _ref4$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref4$transformItems,\n      _ref4$cache = _ref4.cache,\n      cache = _ref4$cache === void 0 ? getInMemoryCache() : _ref4$cache;\n    var showPrevious;\n    var showMore;\n    var sendEvent;\n    var bindEvent;\n    var getFirstReceivedPage = function getFirstReceivedPage(state, cachedHits) {\n      var _state$page = state.page,\n        page = _state$page === void 0 ? 0 : _state$page;\n      var pages = Object.keys(cachedHits).map(Number);\n      if (pages.length === 0) {\n        return page;\n      } else {\n        return Math.min.apply(Math, [page].concat(_toConsumableArray(pages)));\n      }\n    };\n    var getLastReceivedPage = function getLastReceivedPage(state, cachedHits) {\n      var _state$page2 = state.page,\n        page = _state$page2 === void 0 ? 0 : _state$page2;\n      var pages = Object.keys(cachedHits).map(Number);\n      if (pages.length === 0) {\n        return page;\n      } else {\n        return Math.max.apply(Math, [page].concat(_toConsumableArray(pages)));\n      }\n    };\n    var getShowPrevious = function getShowPrevious(helper) {\n      return function () {\n        // Using the helper's `overrideStateWithoutTriggeringChangeEvent` method\n        // avoid updating the browser URL when the user displays the previous page.\n        helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), {}, {\n          page: getFirstReceivedPage(helper.state, cache.read({\n            state: helper.state\n          }) || {}) - 1\n        })).searchWithoutTriggeringOnStateChange();\n      };\n    };\n    var getShowMore = function getShowMore(helper) {\n      return function () {\n        helper.setPage(getLastReceivedPage(helper.state, cache.read({\n          state: helper.state\n        }) || {}) + 1).search();\n      };\n    };\n    return {\n      $$type: 'ais.infiniteHits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        renderFn(_objectSpread(_objectSpread({}, widgetRenderState), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n        sendEvent('view', widgetRenderState.currentPageHits);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          infiniteHits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref5) {\n        var results = _ref5.results,\n          helper = _ref5.helper,\n          state = _ref5.state,\n          instantSearchInstance = _ref5.instantSearchInstance;\n        var isFirstPage;\n        var currentPageHits = [];\n        var cachedHits = cache.read({\n          state: state\n        }) || {};\n        if (!results) {\n          showPrevious = getShowPrevious(helper);\n          showMore = getShowMore(helper);\n          sendEvent = createSendEventForHits({\n            instantSearchInstance: instantSearchInstance,\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n          bindEvent = createBindEventForHits({\n            index: helper.getIndex(),\n            widgetType: this.$$type\n          });\n          isFirstPage = state.page === undefined || getFirstReceivedPage(state, cachedHits) === 0;\n        } else {\n          var _state$page3 = state.page,\n            _page = _state$page3 === void 0 ? 0 : _state$page3;\n          if (escapeHTML && results.hits.length > 0) {\n            results.hits = escapeHits(results.hits);\n          }\n          var hitsWithAbsolutePosition = addAbsolutePosition(results.hits, results.page, results.hitsPerPage);\n          var hitsWithAbsolutePositionAndQueryID = addQueryID(hitsWithAbsolutePosition, results.queryID);\n          var transformedHits = transformItems(hitsWithAbsolutePositionAndQueryID, {\n            results: results\n          });\n          if (cachedHits[_page] === undefined && !results.__isArtificial) {\n            cachedHits[_page] = transformedHits;\n            cache.write({\n              state: state,\n              hits: cachedHits\n            });\n          }\n          currentPageHits = transformedHits;\n          isFirstPage = getFirstReceivedPage(state, cachedHits) === 0;\n        }\n        var hits = extractHitsFromCachedHits(cachedHits);\n        var isLastPage = results ? results.nbPages <= getLastReceivedPage(state, cachedHits) + 1 : true;\n        return {\n          hits: hits,\n          currentPageHits: currentPageHits,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          results: results,\n          showPrevious: showPrevious,\n          showMore: showMore,\n          isFirstPage: isFirstPage,\n          isLastPage: isLastPage,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref6) {\n        var state = _ref6.state;\n        unmountFn();\n        var stateWithoutPage = state.setQueryParameter('page', undefined);\n        if (!escapeHTML) {\n          return stateWithoutPage;\n        }\n        return stateWithoutPage.setQueryParameters(Object.keys(TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref7) {\n        var searchParameters = _ref7.searchParameters;\n        var page = searchParameters.page || 0;\n        if (!page) {\n          // return without adding `page` to uiState\n          // because we don't want `page=1` in the URL\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          // The page in the UI state is incremented by one\n          // to expose the user value (not `0`).\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref8) {\n        var uiState = _ref8.uiState;\n        var widgetSearchParameters = searchParameters;\n        if (escapeHTML) {\n          widgetSearchParameters = searchParameters.setQueryParameters(TAG_PLACEHOLDER);\n        }\n\n        // The page in the search parameters is decremented by one\n        // to get to the actual parameter value from the UI state.\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return widgetSearchParameters.setQueryParameter('page', page);\n      }\n    };\n  };\n};\nexport default connectInfiniteHits;", "import connectInfiniteHits from \"instantsearch.js/es/connectors/infinite-hits/connectInfiniteHits.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useInfiniteHits(props, additionalWidgetProperties) {\n  return useConnector(connectInfiniteHits, props, additionalWidgetProperties);\n}", "function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, createDocumentationMessageGenerator, createSendEventForFacet, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'menu',\n  connector: true\n});\nvar DEFAULT_SORT = ['isRefined', 'name:asc'];\n/**\n * **Menu** connector provides the logic to build a widget that will give the user the ability to choose a single value for a specific facet. The typical usage of menu is for navigation in categories.\n *\n * This connector provides a `toggleShowMore()` function to display more or less items and a `refine()`\n * function to select an item. While selecting a new element, the `refine` will also unselect the\n * one that is currently selected.\n *\n * **Requirement:** the attribute passed as `attribute` must be present in \"attributes for faceting\" on the Algolia dashboard or configured as attributesForFaceting via a set settings call to the Algolia API.\n */\nvar connectMenu = function connectMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      attribute = _ref.attribute,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 10 : _ref$limit,\n      _ref$showMore = _ref.showMore,\n      showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n      _ref$showMoreLimit = _ref.showMoreLimit,\n      showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n      _ref$sortBy = _ref.sortBy,\n      sortBy = _ref$sortBy === void 0 ? DEFAULT_SORT : _ref$sortBy,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('The `showMoreLimit` option must be greater than `limit`.'));\n    }\n    var sendEvent;\n    var _createURL;\n    var _refine;\n\n    // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n    var isShowingMore = false;\n    var toggleShowMore = function toggleShowMore() {};\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n    return {\n      $$type: 'ais.menu',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.removeHierarchicalFacet(attribute).setQueryParameter('maxValuesPerFacet', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          menu: _objectSpread(_objectSpread({}, renderState.menu), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var results = renderOptions.results,\n          createURL = renderOptions.createURL,\n          instantSearchInstance = renderOptions.instantSearchInstance,\n          helper = renderOptions.helper;\n        var items = [];\n        var canToggleShowMore = false;\n        if (!sendEvent) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n        }\n        if (!_createURL) {\n          _createURL = function _createURL(facetValue) {\n            return createURL(helper.state.resetPage().toggleFacetRefinement(attribute, facetValue));\n          };\n        }\n        if (!_refine) {\n          _refine = function _refine(facetValue) {\n            var _helper$getHierarchic = helper.getHierarchicalFacetBreadcrumb(attribute),\n              _helper$getHierarchic2 = _slicedToArray(_helper$getHierarchic, 1),\n              refinedItem = _helper$getHierarchic2[0];\n            sendEvent('click', facetValue ? facetValue : refinedItem);\n            helper.toggleFacetRefinement(attribute, facetValue ? facetValue : refinedItem).search();\n          };\n        }\n        if (renderOptions.results) {\n          toggleShowMore = createToggleShowMore(renderOptions, this);\n        }\n        if (results) {\n          var facetValues = results.getFacetValues(attribute, {\n            sortBy: sortBy,\n            facetOrdering: sortBy === DEFAULT_SORT\n          });\n          var facetItems = facetValues && !Array.isArray(facetValues) && facetValues.data ? facetValues.data : [];\n          canToggleShowMore = showMore && (isShowingMore || facetItems.length > getLimit());\n          items = transformItems(facetItems.slice(0, getLimit()).map(function (_ref3) {\n            var label = _ref3.name,\n              value = _ref3.escapedValue,\n              path = _ref3.path,\n              item = _objectWithoutProperties(_ref3, [\"name\", \"escapedValue\", \"path\"]);\n            return _objectSpread(_objectSpread({}, item), {}, {\n              label: label,\n              value: value\n            });\n          }), {\n            results: results\n          });\n        }\n        return {\n          items: items,\n          createURL: _createURL,\n          refine: _refine,\n          sendEvent: sendEvent,\n          canRefine: items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          toggleShowMore: cachedToggleShowMore,\n          canToggleShowMore: canToggleShowMore\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var _searchParameters$get = searchParameters.getHierarchicalFacetBreadcrumb(attribute),\n          _searchParameters$get2 = _slicedToArray(_searchParameters$get, 1),\n          value = _searchParameters$get2[0];\n        if (!value) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          menu: _objectSpread(_objectSpread({}, uiState.menu), {}, _defineProperty({}, attribute, value))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var value = uiState.menu && uiState.menu[attribute];\n        var withFacetConfiguration = searchParameters.removeHierarchicalFacet(attribute).addHierarchicalFacet({\n          name: attribute,\n          attributes: [attribute]\n        });\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n        if (!value) {\n          return withMaxValuesPerFacet.setQueryParameters({\n            hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, withMaxValuesPerFacet.hierarchicalFacetsRefinements), {}, _defineProperty({}, attribute, []))\n          });\n        }\n        return withMaxValuesPerFacet.addHierarchicalFacetRefinement(attribute, value);\n      }\n    };\n  };\n};\nexport default connectMenu;", "import connectMenu from \"instantsearch.js/es/connectors/menu/connectMenu.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useMenu(props, additionalWidgetProperties) {\n  return useConnector(connectMenu, props, additionalWidgetProperties);\n}", "function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, createDocumentationMessageGenerator, isFiniteNumber, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'numeric-menu',\n  connector: true\n});\nvar $$type = 'ais.numericMenu';\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance;\n  return function () {\n    if (arguments.length === 1) {\n      instantSearchInstance.sendEventToInsights(arguments.length <= 0 ? undefined : arguments[0]);\n      return;\n    }\n  };\n};\nvar connectNumericMenu = function connectNumericMenu(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n      _ref2$attribute = _ref2.attribute,\n      attribute = _ref2$attribute === void 0 ? '' : _ref2$attribute,\n      _ref2$items = _ref2.items,\n      items = _ref2$items === void 0 ? [] : _ref2$items,\n      _ref2$transformItems = _ref2.transformItems,\n      transformItems = _ref2$transformItems === void 0 ? function (item) {\n        return item;\n      } : _ref2$transformItems;\n    if (attribute === '') {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n    if (!items || items.length === 0) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n    var prepareItems = function prepareItems(state) {\n      return items.map(function (_ref3) {\n        var start = _ref3.start,\n          end = _ref3.end,\n          label = _ref3.label;\n        return {\n          label: label,\n          value: encodeURI(JSON.stringify({\n            start: start,\n            end: end\n          })),\n          isRefined: isRefined(state, attribute, {\n            start: start,\n            end: end,\n            label: label\n          })\n        };\n      });\n    };\n    var connectorState = {};\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        return state.clearRefinements(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = searchParameters.getNumericRefinements(attribute);\n        var equal = values['='] && values['='][0];\n        if (equal || equal === 0) {\n          return _objectSpread(_objectSpread({}, uiState), {}, {\n            numericMenu: _objectSpread(_objectSpread({}, uiState.numericMenu), {}, _defineProperty({}, attribute, \"\".concat(values['='])))\n          });\n        }\n        var min = values['>='] && values['>='][0] || '';\n        var max = values['<='] && values['<='][0] || '';\n        if (min === '' && max === '') {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          numericMenu: _objectSpread(_objectSpread({}, uiState.numericMenu), {}, _defineProperty({}, attribute, \"\".concat(min, \":\").concat(max)))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var value = uiState.numericMenu && uiState.numericMenu[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n        if (!value) {\n          return withoutRefinements.setQueryParameters({\n            numericRefinements: _objectSpread(_objectSpread({}, withoutRefinements.numericRefinements), {}, _defineProperty({}, attribute, {}))\n          });\n        }\n        var isExact = value.indexOf(':') === -1;\n        if (isExact) {\n          return withoutRefinements.addNumericRefinement(attribute, '=', Number(value));\n        }\n        var _value$split$map = value.split(':').map(parseFloat),\n          _value$split$map2 = _slicedToArray(_value$split$map, 2),\n          min = _value$split$map2[0],\n          max = _value$split$map2[1];\n        var withMinRefinement = isFiniteNumber(min) ? withoutRefinements.addNumericRefinement(attribute, '>=', min) : withoutRefinements;\n        var withMaxRefinement = isFiniteNumber(max) ? withMinRefinement.addNumericRefinement(attribute, '<=', max) : withMinRefinement;\n        return withMaxRefinement;\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          numericMenu: _objectSpread(_objectSpread({}, renderState.numericMenu), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref7) {\n        var results = _ref7.results,\n          state = _ref7.state,\n          instantSearchInstance = _ref7.instantSearchInstance,\n          helper = _ref7.helper,\n          createURL = _ref7.createURL;\n        if (!connectorState.refine) {\n          connectorState.refine = function (facetValue) {\n            var refinedState = getRefinedState(helper.state, attribute, facetValue);\n            connectorState.sendEvent('click', facetValue);\n            helper.setState(refinedState).search();\n          };\n        }\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (newState) {\n            return function (facetValue) {\n              return createURL(getRefinedState(newState, attribute, facetValue));\n            };\n          };\n        }\n        if (!connectorState.sendEvent) {\n          connectorState.sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance\n          });\n        }\n        var hasNoResults = results ? results.nbHits === 0 : true;\n        var preparedItems = prepareItems(state);\n        var allIsSelected = true;\n        var _iterator = _createForOfIteratorHelper(preparedItems),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            if (item.isRefined && decodeURI(item.value) !== '{}') {\n              allIsSelected = false;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        return {\n          createURL: connectorState.createURL(state),\n          items: transformItems(preparedItems, {\n            results: results\n          }),\n          hasNoResults: hasNoResults,\n          canRefine: !(hasNoResults && allIsSelected),\n          refine: connectorState.refine,\n          sendEvent: connectorState.sendEvent,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\nfunction isRefined(state, attribute, option) {\n  // @TODO: same as another spot, why is this mixing arrays & elements?\n  var currentRefinements = state.getNumericRefinements(attribute);\n  if (option.start !== undefined && option.end !== undefined) {\n    if (option.start === option.end) {\n      return hasNumericRefinement(currentRefinements, '=', option.start);\n    } else {\n      return hasNumericRefinement(currentRefinements, '>=', option.start) && hasNumericRefinement(currentRefinements, '<=', option.end);\n    }\n  }\n  if (option.start !== undefined) {\n    return hasNumericRefinement(currentRefinements, '>=', option.start);\n  }\n  if (option.end !== undefined) {\n    return hasNumericRefinement(currentRefinements, '<=', option.end);\n  }\n  if (option.start === undefined && option.end === undefined) {\n    return Object.keys(currentRefinements).every(function (operator) {\n      return (currentRefinements[operator] || []).length === 0;\n    });\n  }\n  return false;\n}\nfunction getRefinedState(state, attribute, facetValue) {\n  var resolvedState = state;\n  var refinedOption = JSON.parse(decodeURI(facetValue));\n\n  // @TODO: why is array / element mixed here & hasRefinements; seems wrong?\n  var currentRefinements = resolvedState.getNumericRefinements(attribute);\n  if (refinedOption.start === undefined && refinedOption.end === undefined) {\n    return resolvedState.removeNumericRefinement(attribute);\n  }\n  if (!isRefined(resolvedState, attribute, refinedOption)) {\n    resolvedState = resolvedState.removeNumericRefinement(attribute);\n  }\n  if (refinedOption.start !== undefined && refinedOption.end !== undefined) {\n    if (refinedOption.start > refinedOption.end) {\n      throw new Error('option.start should be > to option.end');\n    }\n    if (refinedOption.start === refinedOption.end) {\n      if (hasNumericRefinement(currentRefinements, '=', refinedOption.start)) {\n        resolvedState = resolvedState.removeNumericRefinement(attribute, '=', refinedOption.start);\n      } else {\n        resolvedState = resolvedState.addNumericRefinement(attribute, '=', refinedOption.start);\n      }\n      return resolvedState;\n    }\n  }\n  if (refinedOption.start !== undefined) {\n    if (hasNumericRefinement(currentRefinements, '>=', refinedOption.start)) {\n      resolvedState = resolvedState.removeNumericRefinement(attribute, '>=', refinedOption.start);\n    }\n    resolvedState = resolvedState.addNumericRefinement(attribute, '>=', refinedOption.start);\n  }\n  if (refinedOption.end !== undefined) {\n    if (hasNumericRefinement(currentRefinements, '<=', refinedOption.end)) {\n      resolvedState = resolvedState.removeNumericRefinement(attribute, '<=', refinedOption.end);\n    }\n    resolvedState = resolvedState.addNumericRefinement(attribute, '<=', refinedOption.end);\n  }\n  if (typeof resolvedState.page === 'number') {\n    resolvedState.page = 0;\n  }\n  return resolvedState;\n}\nfunction hasNumericRefinement(currentRefinements, operator, value) {\n  return currentRefinements[operator] !== undefined && currentRefinements[operator].includes(value);\n}\nexport default connectNumericMenu;", "import connectNumericMenu from \"instantsearch.js/es/connectors/numeric-menu/connectNumericMenu.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useNumericMenu(props, additionalWidgetProperties) {\n  return useConnector(connectNumericMenu, props, additionalWidgetProperties);\n}", "function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { range } from \"../../lib/utils/index.js\";\nvar Paginator = /*#__PURE__*/function () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n    _defineProperty(this, \"currentPage\", void 0);\n    _defineProperty(this, \"total\", void 0);\n    _defineProperty(this, \"padding\", void 0);\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n        currentPage = this.currentPage,\n        padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n      if (totalDisplayedPages === total) {\n        return range({\n          end: total\n        });\n      }\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return range({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage === this.total - 1 || this.total === 0;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage === 0;\n    }\n  }]);\n  return Paginator;\n}();\nexport default Paginator;", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nimport Paginator from \"./Paginator.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'pagination',\n  connector: true\n});\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      totalPages = _ref.totalPages,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 3 : _ref$padding;\n    var pager = new Paginator({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n        if (!page) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n          helper = _ref6.helper,\n          state = _ref6.state,\n          createURL = _ref6.createURL;\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (helperState) {\n            return function (page) {\n              return createURL(helperState.setPage(page));\n            };\n          };\n        }\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL(state),\n          refine: connectorState.refine,\n          canRefine: nbPages > 1,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\nexport default connectPagination;", "import connectPagination from \"instantsearch.js/es/connectors/pagination/connectPagination.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function usePagination(props, additionalWidgetProperties) {\n  return useConnector(connectPagination, props, additionalWidgetProperties);\n}", "import { safelyRunOnBrowser } from \"instantsearch.js/es/lib/utils/index.js\";\nexport function usePoweredBy() {\n  var hostname = safelyRunOnBrowser(function (_ref) {\n    var _window$location;\n\n    var window = _ref.window;\n    return ((_window$location = window.location) === null || _window$location === void 0 ? void 0 : _window$location.hostname) || '';\n  }, {\n    fallback: function fallback() {\n      return '';\n    }\n  });\n  return {\n    url: \"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content=\".concat(hostname, \"&utm_campaign=poweredby\")\n  };\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport { checkRendering, createDocumentationMessageGenerator, warning, getRefinements, isEqual, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'query-rules',\n  connector: true\n});\nfunction hasStateRefinements(state) {\n  return [state.disjunctiveFacetsRefinements, state.facetsRefinements, state.hierarchicalFacetsRefinements, state.numericRefinements].some(function (refinement) {\n    return Boolean(refinement && Object.keys(refinement).length > 0);\n  });\n}\n\n// A context rule must consist only of alphanumeric characters, hyphens, and underscores.\n// See https://www.algolia.com/doc/guides/managing-results/refine-results/merchandising-and-promoting/in-depth/implementing-query-rules/#context\nfunction escapeRuleContext(ruleName) {\n  return ruleName.replace(/[^a-z0-9-_]+/gi, '_');\n}\nfunction getRuleContextsFromTrackedFilters(_ref) {\n  var helper = _ref.helper,\n    sharedHelperState = _ref.sharedHelperState,\n    trackedFilters = _ref.trackedFilters;\n  var ruleContexts = Object.keys(trackedFilters).reduce(function (facets, facetName) {\n    var facetRefinements = getRefinements(helper.lastResults || {}, sharedHelperState, true).filter(function (refinement) {\n      return refinement.attribute === facetName;\n    }).map(function (refinement) {\n      return refinement.numericValue || refinement.name;\n    });\n    var getTrackedFacetValues = trackedFilters[facetName];\n    var trackedFacetValues = getTrackedFacetValues(facetRefinements);\n    return [].concat(_toConsumableArray(facets), _toConsumableArray(facetRefinements.filter(function (facetRefinement) {\n      return trackedFacetValues.includes(facetRefinement);\n    }).map(function (facetValue) {\n      return escapeRuleContext(\"ais-\".concat(facetName, \"-\").concat(facetValue));\n    })));\n  }, []);\n  return ruleContexts;\n}\nfunction applyRuleContexts(event) {\n  var helper = this.helper,\n    initialRuleContexts = this.initialRuleContexts,\n    trackedFilters = this.trackedFilters,\n    transformRuleContexts = this.transformRuleContexts;\n  var sharedHelperState = event.state;\n  var previousRuleContexts = sharedHelperState.ruleContexts || [];\n  var newRuleContexts = getRuleContextsFromTrackedFilters({\n    helper: helper,\n    sharedHelperState: sharedHelperState,\n    trackedFilters: trackedFilters\n  });\n  var nextRuleContexts = [].concat(_toConsumableArray(initialRuleContexts), _toConsumableArray(newRuleContexts));\n  process.env.NODE_ENV === 'development' ? warning(nextRuleContexts.length <= 10, \"\\nThe maximum number of `ruleContexts` is 10. They have been sliced to that limit.\\nConsider using `transformRuleContexts` to minimize the number of rules sent to Algolia.\\n\") : void 0;\n  var ruleContexts = transformRuleContexts(nextRuleContexts).slice(0, 10);\n  if (!isEqual(previousRuleContexts, ruleContexts)) {\n    helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, sharedHelperState), {}, {\n      ruleContexts: ruleContexts\n    }));\n  }\n}\nvar connectQueryRules = function connectQueryRules(_render) {\n  var unmount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(_render, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n      _ref2$trackedFilters = _ref2.trackedFilters,\n      trackedFilters = _ref2$trackedFilters === void 0 ? {} : _ref2$trackedFilters,\n      _ref2$transformRuleCo = _ref2.transformRuleContexts,\n      transformRuleContexts = _ref2$transformRuleCo === void 0 ? function (rules) {\n        return rules;\n      } : _ref2$transformRuleCo,\n      _ref2$transformItems = _ref2.transformItems,\n      transformItems = _ref2$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref2$transformItems;\n    Object.keys(trackedFilters).forEach(function (facetName) {\n      if (typeof trackedFilters[facetName] !== 'function') {\n        throw new Error(withUsage(\"'The \\\"\".concat(facetName, \"\\\" filter value in the `trackedFilters` option expects a function.\")));\n      }\n    });\n    var hasTrackedFilters = Object.keys(trackedFilters).length > 0;\n\n    // We store the initial rule contexts applied before creating the widget\n    // so that we do not override them with the rules created from `trackedFilters`.\n    var initialRuleContexts = [];\n    var onHelperChange;\n    return {\n      $$type: 'ais.queryRules',\n      init: function init(initOptions) {\n        var helper = initOptions.helper,\n          state = initOptions.state,\n          instantSearchInstance = initOptions.instantSearchInstance;\n        initialRuleContexts = state.ruleContexts || [];\n        onHelperChange = applyRuleContexts.bind({\n          helper: helper,\n          initialRuleContexts: initialRuleContexts,\n          trackedFilters: trackedFilters,\n          transformRuleContexts: transformRuleContexts\n        });\n        if (hasTrackedFilters) {\n          // We need to apply the `ruleContexts` based on the `trackedFilters`\n          // before the helper changes state in some cases:\n          //   - Some filters are applied on the first load (e.g. using `configure`)\n          //   - The `transformRuleContexts` option sets initial `ruleContexts`.\n          if (hasStateRefinements(state) || Boolean(widgetParams.transformRuleContexts)) {\n            onHelperChange({\n              state: state\n            });\n          }\n\n          // We track every change in the helper to override its state and add\n          // any `ruleContexts` needed based on the `trackedFilters`.\n          helper.on('change', onHelperChange);\n        }\n        _render(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        _render(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var results = _ref3.results;\n        var _ref4 = results || {},\n          _ref4$userData = _ref4.userData,\n          userData = _ref4$userData === void 0 ? [] : _ref4$userData;\n        var items = transformItems(userData, {\n          results: results\n        });\n        return {\n          items: items,\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          queryRules: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      dispose: function dispose(_ref5) {\n        var helper = _ref5.helper,\n          state = _ref5.state;\n        unmount();\n        if (hasTrackedFilters) {\n          helper.removeListener('change', onHelperChange);\n          return state.setQueryParameter('ruleContexts', initialRuleContexts);\n        }\n        return state;\n      }\n    };\n  };\n};\nexport default connectQueryRules;", "import connectQueryRules from \"instantsearch.js/es/connectors/query-rules/connectQueryRules.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useQueryRules(props, additionalWidgetProperties) {\n  return useConnector(connectQueryRules, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nimport { checkRendering, createDocumentationMessageGenerator, isFiniteNumber, find, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'range-input',\n  connector: true\n}, {\n  name: 'range-slider',\n  connector: true\n});\nvar $$type = 'ais.range';\nfunction toPrecision(_ref) {\n  var min = _ref.min,\n    max = _ref.max,\n    precision = _ref.precision;\n  var pow = Math.pow(10, precision);\n  return {\n    min: min ? Math.floor(min * pow) / pow : min,\n    max: max ? Math.ceil(max * pow) / pow : max\n  };\n}\n\n/**\n * **Range** connector provides the logic to create custom widget that will let\n * the user refine results using a numeric range.\n *\n * This connectors provides a `refine()` function that accepts bounds. It will also provide\n * information about the min and max bounds for the current result set.\n */\nvar connectRange = function connectRange(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n      _ref2$attribute = _ref2.attribute,\n      attribute = _ref2$attribute === void 0 ? '' : _ref2$attribute,\n      minBound = _ref2.min,\n      maxBound = _ref2.max,\n      _ref2$precision = _ref2.precision,\n      precision = _ref2$precision === void 0 ? 0 : _ref2$precision;\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n    if (isFiniteNumber(minBound) && isFiniteNumber(maxBound) && minBound > maxBound) {\n      throw new Error(withUsage(\"The `max` option can't be lower than `min`.\"));\n    }\n    var formatToNumber = function formatToNumber(v) {\n      return Number(Number(v).toFixed(precision));\n    };\n    var rangeFormatter = {\n      from: function from(v) {\n        return v.toLocaleString();\n      },\n      to: function to(v) {\n        return formatToNumber(v).toLocaleString();\n      }\n    };\n\n    // eslint-disable-next-line complexity\n    var getRefinedState = function getRefinedState(helper, currentRange, nextMin, nextMax) {\n      var resolvedState = helper.state;\n      var currentRangeMin = currentRange.min,\n        currentRangeMax = currentRange.max;\n      var _ref3 = resolvedState.getNumericRefinement(attribute, '>=') || [],\n        _ref4 = _slicedToArray(_ref3, 1),\n        min = _ref4[0];\n      var _ref5 = resolvedState.getNumericRefinement(attribute, '<=') || [],\n        _ref6 = _slicedToArray(_ref5, 1),\n        max = _ref6[0];\n      var isResetMin = nextMin === undefined || nextMin === '';\n      var isResetMax = nextMax === undefined || nextMax === '';\n      var _toPrecision = toPrecision({\n          min: !isResetMin ? parseFloat(nextMin) : undefined,\n          max: !isResetMax ? parseFloat(nextMax) : undefined,\n          precision: precision\n        }),\n        nextMinAsNumber = _toPrecision.min,\n        nextMaxAsNumber = _toPrecision.max;\n      var newNextMin;\n      if (!isFiniteNumber(minBound) && currentRangeMin === nextMinAsNumber) {\n        newNextMin = undefined;\n      } else if (isFiniteNumber(minBound) && isResetMin) {\n        newNextMin = minBound;\n      } else {\n        newNextMin = nextMinAsNumber;\n      }\n      var newNextMax;\n      if (!isFiniteNumber(maxBound) && currentRangeMax === nextMaxAsNumber) {\n        newNextMax = undefined;\n      } else if (isFiniteNumber(maxBound) && isResetMax) {\n        newNextMax = maxBound;\n      } else {\n        newNextMax = nextMaxAsNumber;\n      }\n      var isResetNewNextMin = newNextMin === undefined;\n      var isGreaterThanCurrentRange = isFiniteNumber(currentRangeMin) && currentRangeMin <= newNextMin;\n      var isMinValid = isResetNewNextMin || isFiniteNumber(newNextMin) && (!isFiniteNumber(currentRangeMin) || isGreaterThanCurrentRange);\n      var isResetNewNextMax = newNextMax === undefined;\n      var isLowerThanRange = isFiniteNumber(newNextMax) && currentRangeMax >= newNextMax;\n      var isMaxValid = isResetNewNextMax || isFiniteNumber(newNextMax) && (!isFiniteNumber(currentRangeMax) || isLowerThanRange);\n      var hasMinChange = min !== newNextMin;\n      var hasMaxChange = max !== newNextMax;\n      if ((hasMinChange || hasMaxChange) && isMinValid && isMaxValid) {\n        resolvedState = resolvedState.removeNumericRefinement(attribute);\n        if (isFiniteNumber(newNextMin)) {\n          resolvedState = resolvedState.addNumericRefinement(attribute, '>=', newNextMin);\n        }\n        if (isFiniteNumber(newNextMax)) {\n          resolvedState = resolvedState.addNumericRefinement(attribute, '<=', newNextMax);\n        }\n        return resolvedState.resetPage();\n      }\n      return null;\n    };\n    var createSendEvent = function createSendEvent(instantSearchInstance) {\n      return function () {\n        if (arguments.length === 1) {\n          instantSearchInstance.sendEventToInsights(arguments.length <= 0 ? undefined : arguments[0]);\n          return;\n        }\n      };\n    };\n    function _getCurrentRange(stats) {\n      var min;\n      if (isFiniteNumber(minBound)) {\n        min = minBound;\n      } else if (isFiniteNumber(stats.min)) {\n        min = stats.min;\n      } else {\n        min = 0;\n      }\n      var max;\n      if (isFiniteNumber(maxBound)) {\n        max = maxBound;\n      } else if (isFiniteNumber(stats.max)) {\n        max = stats.max;\n      } else {\n        max = 0;\n      }\n      return toPrecision({\n        min: min,\n        max: max,\n        precision: precision\n      });\n    }\n    function _getCurrentRefinement(helper) {\n      var _ref7 = helper.getNumericRefinement(attribute, '>=') || [],\n        _ref8 = _slicedToArray(_ref7, 1),\n        minValue = _ref8[0];\n      var _ref9 = helper.getNumericRefinement(attribute, '<=') || [],\n        _ref10 = _slicedToArray(_ref9, 1),\n        maxValue = _ref10[0];\n      var min = isFiniteNumber(minValue) ? minValue : -Infinity;\n      var max = isFiniteNumber(maxValue) ? maxValue : Infinity;\n      return [min, max];\n    }\n    function _refine(helper, currentRange) {\n      return function () {\n        var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [undefined, undefined],\n          _ref12 = _slicedToArray(_ref11, 2),\n          nextMin = _ref12[0],\n          nextMax = _ref12[1];\n        var refinedState = getRefinedState(helper, currentRange, nextMin, nextMax);\n        if (refinedState) {\n          helper.setState(refinedState).search();\n        }\n      };\n    }\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          range: _objectSpread(_objectSpread({}, renderState.range), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref13) {\n        var results = _ref13.results,\n          helper = _ref13.helper,\n          instantSearchInstance = _ref13.instantSearchInstance;\n        var facetsFromResults = results && results.disjunctiveFacets || [];\n        var facet = find(facetsFromResults, function (facetResult) {\n          return facetResult.name === attribute;\n        });\n        var stats = facet && facet.stats || {\n          min: undefined,\n          max: undefined\n        };\n        var currentRange = _getCurrentRange(stats);\n        var start = _getCurrentRefinement(helper);\n        var refine;\n        if (!results) {\n          // On first render pass an empty range\n          // to be able to bypass the validation\n          // related to it\n          refine = _refine(helper, {\n            min: undefined,\n            max: undefined\n          });\n        } else {\n          refine = _refine(helper, currentRange);\n        }\n        return {\n          refine: refine,\n          canRefine: currentRange.min !== currentRange.max,\n          format: rangeFormatter,\n          range: currentRange,\n          sendEvent: createSendEvent(instantSearchInstance),\n          widgetParams: _objectSpread(_objectSpread({}, widgetParams), {}, {\n            precision: precision\n          }),\n          start: start\n        };\n      },\n      dispose: function dispose(_ref14) {\n        var state = _ref14.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute).removeNumericRefinement(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref15) {\n        var searchParameters = _ref15.searchParameters;\n        var _searchParameters$get = searchParameters.getNumericRefinements(attribute),\n          _searchParameters$get2 = _searchParameters$get['>='],\n          min = _searchParameters$get2 === void 0 ? [] : _searchParameters$get2,\n          _searchParameters$get3 = _searchParameters$get['<='],\n          max = _searchParameters$get3 === void 0 ? [] : _searchParameters$get3;\n        if (min.length === 0 && max.length === 0) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          range: _objectSpread(_objectSpread({}, uiState.range), {}, _defineProperty({}, attribute, \"\".concat(min, \":\").concat(max)))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref16) {\n        var uiState = _ref16.uiState;\n        var widgetSearchParameters = searchParameters.addDisjunctiveFacet(attribute).setQueryParameters({\n          numericRefinements: _objectSpread(_objectSpread({}, searchParameters.numericRefinements), {}, _defineProperty({}, attribute, {}))\n        });\n        if (isFiniteNumber(minBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '>=', minBound);\n        }\n        if (isFiniteNumber(maxBound)) {\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '<=', maxBound);\n        }\n        var value = uiState.range && uiState.range[attribute];\n        if (!value || value.indexOf(':') === -1) {\n          return widgetSearchParameters;\n        }\n        var _value$split$map = value.split(':').map(parseFloat),\n          _value$split$map2 = _slicedToArray(_value$split$map, 2),\n          lowerBound = _value$split$map2[0],\n          upperBound = _value$split$map2[1];\n        if (isFiniteNumber(lowerBound) && (!isFiniteNumber(minBound) || minBound < lowerBound)) {\n          widgetSearchParameters = widgetSearchParameters.removeNumericRefinement(attribute, '>=');\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '>=', lowerBound);\n        }\n        if (isFiniteNumber(upperBound) && (!isFiniteNumber(maxBound) || upperBound < maxBound)) {\n          widgetSearchParameters = widgetSearchParameters.removeNumericRefinement(attribute, '<=');\n          widgetSearchParameters = widgetSearchParameters.addNumericRefinement(attribute, '<=', upperBound);\n        }\n        return widgetSearchParameters;\n      }\n    };\n  };\n};\nexport default connectRange;", "import connectRange from \"instantsearch.js/es/connectors/range/connectRange.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useRange(props, additionalWidgetProperties) {\n  return useConnector(connectRange, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { escapeFacets, TAG_PLACEHOLDER, TAG_REPLACEMENT, checkRendering, createDocumentationMessageGenerator, createSendEventForFacet, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'refinement-list',\n  connector: true\n});\nvar DEFAULT_SORT = ['isRefined', 'count:desc', 'name:asc'];\n/**\n * **RefinementList** connector provides the logic to build a custom widget that\n * will let the user filter the results based on the values of a specific facet.\n *\n * **Requirement:** the attribute passed as `attribute` must be present in\n * attributesForFaceting of the searched index.\n *\n * This connector provides:\n * - a `refine()` function to select an item.\n * - a `toggleShowMore()` function to display more or less items\n * - a `searchForItems()` function to search within the items.\n */\nvar connectRefinementList = function connectRefinementList(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      attribute = _ref.attribute,\n      _ref$operator = _ref.operator,\n      operator = _ref$operator === void 0 ? 'or' : _ref$operator,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 10 : _ref$limit,\n      _ref$showMore = _ref.showMore,\n      showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n      _ref$showMoreLimit = _ref.showMoreLimit,\n      showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n      _ref$sortBy = _ref.sortBy,\n      sortBy = _ref$sortBy === void 0 ? DEFAULT_SORT : _ref$sortBy,\n      _ref$escapeFacetValue = _ref.escapeFacetValues,\n      escapeFacetValues = _ref$escapeFacetValue === void 0 ? true : _ref$escapeFacetValue,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n    if (!/^(and|or)$/.test(operator)) {\n      throw new Error(withUsage(\"The `operator` must one of: `\\\"and\\\"`, `\\\"or\\\"` (got \\\"\".concat(operator, \"\\\").\")));\n    }\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('`showMoreLimit` should be greater than `limit`.'));\n    }\n    var formatItems = function formatItems(_ref2) {\n      var label = _ref2.name,\n        value = _ref2.escapedValue,\n        item = _objectWithoutProperties(_ref2, [\"name\", \"escapedValue\"]);\n      return _objectSpread(_objectSpread({}, item), {}, {\n        value: value,\n        label: label,\n        highlighted: label\n      });\n    };\n    var lastResultsFromMainSearch;\n    var lastItemsFromMainSearch = [];\n    var hasExhaustiveItems = true;\n    var triggerRefine;\n    var sendEvent;\n    var isShowingMore = false;\n    // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n    var toggleShowMore = function toggleShowMore() {};\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n    var searchForFacetValues = function searchForFacetValues() {\n      return function () {};\n    };\n    var createSearchForFacetValues = function createSearchForFacetValues(helper, widget) {\n      return function (renderOptions) {\n        return function (query) {\n          var instantSearchInstance = renderOptions.instantSearchInstance,\n            searchResults = renderOptions.results;\n          if (query === '' && lastItemsFromMainSearch) {\n            // render with previous data from the helper.\n            renderFn(_objectSpread(_objectSpread({}, widget.getWidgetRenderState(_objectSpread(_objectSpread({}, renderOptions), {}, {\n              results: lastResultsFromMainSearch\n            }))), {}, {\n              instantSearchInstance: instantSearchInstance\n            }), false);\n          } else {\n            var tags = {\n              highlightPreTag: escapeFacetValues ? TAG_PLACEHOLDER.highlightPreTag : TAG_REPLACEMENT.highlightPreTag,\n              highlightPostTag: escapeFacetValues ? TAG_PLACEHOLDER.highlightPostTag : TAG_REPLACEMENT.highlightPostTag\n            };\n            helper.searchForFacetValues(attribute, query,\n            // We cap the `maxFacetHits` value to 100 because the Algolia API\n            // doesn't support a greater number.\n            // See https://www.algolia.com/doc/api-reference/api-parameters/maxFacetHits/\n            Math.min(getLimit(), 100), tags).then(function (results) {\n              var facetValues = escapeFacetValues ? escapeFacets(results.facetHits) : results.facetHits;\n              var normalizedFacetValues = transformItems(facetValues.map(function (_ref3) {\n                var escapedValue = _ref3.escapedValue,\n                  value = _ref3.value,\n                  item = _objectWithoutProperties(_ref3, [\"escapedValue\", \"value\"]);\n                return _objectSpread(_objectSpread({}, item), {}, {\n                  value: escapedValue,\n                  label: value\n                });\n              }), {\n                results: searchResults\n              });\n              renderFn(_objectSpread(_objectSpread({}, widget.getWidgetRenderState(_objectSpread(_objectSpread({}, renderOptions), {}, {\n                results: lastResultsFromMainSearch\n              }))), {}, {\n                items: normalizedFacetValues,\n                canToggleShowMore: false,\n                canRefine: true,\n                isFromSearch: true,\n                instantSearchInstance: instantSearchInstance\n              }), false);\n            });\n          }\n        };\n      };\n    };\n    return {\n      $$type: 'ais.refinementList',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          refinementList: _objectSpread(_objectSpread({}, renderState.refinementList), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var results = renderOptions.results,\n          state = renderOptions.state,\n          _createURL = renderOptions.createURL,\n          instantSearchInstance = renderOptions.instantSearchInstance,\n          helper = renderOptions.helper;\n        var items = [];\n        var facetValues = [];\n        if (!sendEvent || !triggerRefine || !searchForFacetValues) {\n          sendEvent = createSendEventForFacet({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n          triggerRefine = function triggerRefine(facetValue) {\n            sendEvent('click', facetValue);\n            helper.toggleFacetRefinement(attribute, facetValue).search();\n          };\n          searchForFacetValues = createSearchForFacetValues(helper, this);\n        }\n        if (results) {\n          var values = results.getFacetValues(attribute, {\n            sortBy: sortBy,\n            facetOrdering: sortBy === DEFAULT_SORT\n          });\n          facetValues = values && Array.isArray(values) ? values : [];\n          items = transformItems(facetValues.slice(0, getLimit()).map(formatItems), {\n            results: results\n          });\n          var maxValuesPerFacetConfig = state.maxValuesPerFacet;\n          var currentLimit = getLimit();\n          // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n          hasExhaustiveItems = maxValuesPerFacetConfig > currentLimit ? facetValues.length <= currentLimit : facetValues.length < currentLimit;\n          lastResultsFromMainSearch = results;\n          lastItemsFromMainSearch = items;\n          if (renderOptions.results) {\n            toggleShowMore = createToggleShowMore(renderOptions, this);\n          }\n        }\n\n        // Do not mistake searchForFacetValues and searchFacetValues which is the actual search\n        // function\n        var searchFacetValues = searchForFacetValues && searchForFacetValues(renderOptions);\n        var canShowLess = isShowingMore && lastItemsFromMainSearch.length > limit;\n        var canShowMore = showMore && !hasExhaustiveItems;\n        var canToggleShowMore = canShowLess || canShowMore;\n        return {\n          createURL: function createURL(facetValue) {\n            return _createURL(state.resetPage().toggleFacetRefinement(attribute, facetValue));\n          },\n          items: items,\n          refine: triggerRefine,\n          searchForItems: searchFacetValues,\n          isFromSearch: false,\n          canRefine: items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          canToggleShowMore: canToggleShowMore,\n          toggleShowMore: cachedToggleShowMore,\n          sendEvent: sendEvent,\n          hasExhaustiveItems: hasExhaustiveItems\n        };\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        var withoutMaxValuesPerFacet = state.setQueryParameter('maxValuesPerFacet', undefined);\n        if (operator === 'and') {\n          return withoutMaxValuesPerFacet.removeFacet(attribute);\n        }\n        return withoutMaxValuesPerFacet.removeDisjunctiveFacet(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = operator === 'or' ? searchParameters.getDisjunctiveRefinements(attribute) : searchParameters.getConjunctiveRefinements(attribute);\n        if (!values.length) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          refinementList: _objectSpread(_objectSpread({}, uiState.refinementList), {}, _defineProperty({}, attribute, values))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var isDisjunctive = operator === 'or';\n        var values = uiState.refinementList && uiState.refinementList[attribute];\n        var withoutRefinements = searchParameters.clearRefinements(attribute);\n        var withFacetConfiguration = isDisjunctive ? withoutRefinements.addDisjunctiveFacet(attribute) : withoutRefinements.addFacet(attribute);\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n        if (!values) {\n          var key = isDisjunctive ? 'disjunctiveFacetsRefinements' : 'facetsRefinements';\n          return withMaxValuesPerFacet.setQueryParameters(_defineProperty({}, key, _objectSpread(_objectSpread({}, withMaxValuesPerFacet[key]), {}, _defineProperty({}, attribute, []))));\n        }\n        return values.reduce(function (parameters, value) {\n          return isDisjunctive ? parameters.addDisjunctiveFacetRefinement(attribute, value) : parameters.addFacetRefinement(attribute, value);\n        }, withMaxValuesPerFacet);\n      }\n    };\n  };\n};\nexport default connectRefinementList;", "import connectRefinementList from \"instantsearch.js/es/connectors/refinement-list/connectRefinementList.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useRefinementList(props, additionalWidgetProperties) {\n  return useConnector(connectRefinementList, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'search-box',\n  connector: true\n});\nvar defaultQueryHook = function defaultQueryHook(query, hook) {\n  return hook(query);\n};\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n */\nvar connectSearchBox = function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$queryHook = _ref.queryHook,\n      queryHook = _ref$queryHook === void 0 ? defaultQueryHook : _ref$queryHook;\n    var _refine;\n    var _clear;\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n          searchMetadata = _ref3.searchMetadata,\n          state = _ref3.state;\n        if (!_refine) {\n          _refine = function _refine(query) {\n            queryHook(query, function (q) {\n              return helper.setQuery(q).search();\n            });\n          };\n          _clear = function _clear() {\n            helper.setQuery('').search();\n          };\n        }\n        return {\n          query: state.query || '',\n          refine: _refine,\n          clear: _clear,\n          widgetParams: widgetParams,\n          isSearchStalled: searchMetadata.isSearchStalled\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var query = searchParameters.query || '';\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\nexport default connectSearchBox;", "import connectSearchBox from \"instantsearch.js/es/connectors/search-box/connectSearchBox.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useSearchBox(props, additionalWidgetProperties) {\n  return useConnector(connectSearchBox, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, createDocumentationMessageGenerator, find, warning, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'sort-by',\n  connector: true\n});\n\n/**\n * The **SortBy** connector provides the logic to build a custom widget that will display a\n * list of indices. With Algolia, this is most commonly used for changing ranking strategy. This allows\n * a user to change how the hits are being sorted.\n */\n\nvar connectSortBy = function connectSortBy(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  var connectorState = {};\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      items = _ref.items,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (x) {\n        return x;\n      } : _ref$transformItems;\n    if (!Array.isArray(items)) {\n      throw new Error(withUsage('The `items` option expects an array of objects.'));\n    }\n    return {\n      $$type: 'ais.sortBy',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        var widgetRenderState = this.getWidgetRenderState(initOptions);\n        var currentIndex = widgetRenderState.currentRefinement;\n        var isCurrentIndexInItems = find(items, function (item) {\n          return item.value === currentIndex;\n        });\n        process.env.NODE_ENV === 'development' ? warning(isCurrentIndexInItems !== undefined, \"The index named \\\"\".concat(currentIndex, \"\\\" is not listed in the `items` of `sortBy`.\")) : void 0;\n        renderFn(_objectSpread(_objectSpread({}, widgetRenderState), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return connectorState.initialIndex ? state.setIndex(connectorState.initialIndex) : state;\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          sortBy: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var results = _ref3.results,\n          helper = _ref3.helper,\n          state = _ref3.state,\n          parent = _ref3.parent;\n        if (!connectorState.initialIndex && parent) {\n          connectorState.initialIndex = parent.getIndexName();\n        }\n        if (!connectorState.setIndex) {\n          connectorState.setIndex = function (indexName) {\n            helper.setIndex(indexName).search();\n          };\n        }\n        var hasNoResults = results ? results.nbHits === 0 : true;\n        return {\n          currentRefinement: state.index,\n          options: transformItems(items, {\n            results: results\n          }),\n          refine: connectorState.setIndex,\n          hasNoResults: hasNoResults,\n          canRefine: !hasNoResults && items.length > 0,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var currentIndex = searchParameters.index;\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          sortBy: currentIndex !== connectorState.initialIndex ? currentIndex : undefined\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('index', uiState.sortBy || connectorState.initialIndex || searchParameters.index);\n      }\n    };\n  };\n};\nexport default connectSortBy;", "import connectSortBy from \"instantsearch.js/es/connectors/sort-by/connectSortBy.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useSortBy(props, additionalWidgetProperties) {\n  return useConnector(connectSortBy, props, additionalWidgetProperties);\n}", "function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nimport { checkRendering, escapeFacetValue, createDocumentationMessageGenerator, find, noop, toArray } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'toggle-refinement',\n  connector: true\n});\nvar $$type = 'ais.toggleRefinement';\nvar createSendEvent = function createSendEvent(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n    helper = _ref.helper,\n    attribute = _ref.attribute,\n    on = _ref.on;\n  var sendEventForToggle = function sendEventForToggle() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 1) {\n      instantSearchInstance.sendEventToInsights(args[0]);\n      return;\n    }\n    var eventType = args[0],\n      isRefined = args[1],\n      _args$ = args[2],\n      eventName = _args$ === void 0 ? 'Filter Applied' : _args$;\n    if (eventType !== 'click' || on === undefined) {\n      return;\n    }\n\n    // only send an event when the refinement gets applied,\n    // not when it gets removed\n    if (!isRefined) {\n      instantSearchInstance.sendEventToInsights({\n        insightsMethod: 'clickedFilters',\n        widgetType: $$type,\n        eventType: eventType,\n        payload: {\n          eventName: eventName,\n          index: helper.getIndex(),\n          filters: on.map(function (value) {\n            return \"\".concat(attribute, \":\").concat(value);\n          })\n        },\n        attribute: attribute\n      });\n    }\n  };\n  return sendEventForToggle;\n};\n/**\n * **Toggle** connector provides the logic to build a custom widget that will provide\n * an on/off filtering feature based on an attribute value or values.\n *\n * Two modes are implemented in the custom widget:\n *  - with or without the value filtered\n *  - switch between two values.\n */\nvar connectToggleRefinement = function connectToggleRefinement(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref2 = widgetParams || {},\n      attribute = _ref2.attribute,\n      _ref2$on = _ref2.on,\n      userOn = _ref2$on === void 0 ? true : _ref2$on,\n      userOff = _ref2.off;\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n    var hasAnOffValue = userOff !== undefined;\n    // even though facet values can be numbers and boolean,\n    // the helper methods only accept string in the type\n    var on = toArray(userOn).map(escapeFacetValue);\n    var off = hasAnOffValue ? toArray(userOff).map(escapeFacetValue) : undefined;\n    var sendEvent;\n    var toggleRefinementFactory = function toggleRefinementFactory(helper) {\n      return function () {\n        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n            isRefined: false\n          },\n          isRefined = _ref3.isRefined;\n        if (!isRefined) {\n          sendEvent('click', isRefined);\n          if (hasAnOffValue) {\n            off.forEach(function (v) {\n              return helper.removeDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n          on.forEach(function (v) {\n            return helper.addDisjunctiveFacetRefinement(attribute, v);\n          });\n        } else {\n          on.forEach(function (v) {\n            return helper.removeDisjunctiveFacetRefinement(attribute, v);\n          });\n          if (hasAnOffValue) {\n            off.forEach(function (v) {\n              return helper.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n        }\n        helper.search();\n      };\n    };\n    var connectorState = {\n      createURLFactory: function createURLFactory(isRefined, _ref4) {\n        var state = _ref4.state,\n          createURL = _ref4.createURL;\n        return function () {\n          state = state.resetPage();\n          var valuesToRemove = isRefined ? on : off;\n          if (valuesToRemove) {\n            valuesToRemove.forEach(function (v) {\n              state = state.removeDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n          var valuesToAdd = isRefined ? off : on;\n          if (valuesToAdd) {\n            valuesToAdd.forEach(function (v) {\n              state = state.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n          return createURL(state);\n        };\n      }\n    };\n    return {\n      $$type: $$type,\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref5) {\n        var state = _ref5.state;\n        unmountFn();\n        return state.removeDisjunctiveFacet(attribute);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          toggleRefinement: _objectSpread(_objectSpread({}, renderState.toggleRefinement), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var state = _ref6.state,\n          helper = _ref6.helper,\n          results = _ref6.results,\n          createURL = _ref6.createURL,\n          instantSearchInstance = _ref6.instantSearchInstance;\n        var isRefined = results ? on.every(function (v) {\n          return state.isDisjunctiveFacetRefined(attribute, v);\n        }) : on.every(function (v) {\n          return state.isDisjunctiveFacetRefined(attribute, v);\n        });\n        var onFacetValue = {\n          isRefined: isRefined,\n          count: 0\n        };\n        var offFacetValue = {\n          isRefined: hasAnOffValue && !isRefined,\n          count: 0\n        };\n        if (results) {\n          var offValue = toArray(off || false);\n          var allFacetValues = results.getFacetValues(attribute, {}) || [];\n          var onData = on.map(function (v) {\n            return find(allFacetValues, function (_ref7) {\n              var escapedValue = _ref7.escapedValue;\n              return escapedValue === escapeFacetValue(String(v));\n            });\n          }).filter(function (v) {\n            return v !== undefined;\n          });\n          var offData = hasAnOffValue ? offValue.map(function (v) {\n            return find(allFacetValues, function (_ref8) {\n              var escapedValue = _ref8.escapedValue;\n              return escapedValue === escapeFacetValue(String(v));\n            });\n          }).filter(function (v) {\n            return v !== undefined;\n          }) : [];\n          onFacetValue = {\n            isRefined: onData.length ? onData.every(function (v) {\n              return v.isRefined;\n            }) : false,\n            count: onData.reduce(function (acc, v) {\n              return acc + v.count;\n            }, 0) || null\n          };\n          offFacetValue = {\n            isRefined: offData.length ? offData.every(function (v) {\n              return v.isRefined;\n            }) : false,\n            count: offData.reduce(function (acc, v) {\n              return acc + v.count;\n            }, 0) || allFacetValues.reduce(function (total, _ref9) {\n              var count = _ref9.count;\n              return total + count;\n            }, 0)\n          };\n        }\n        if (!sendEvent) {\n          sendEvent = createSendEvent({\n            instantSearchInstance: instantSearchInstance,\n            attribute: attribute,\n            on: on,\n            helper: helper\n          });\n        }\n        var nextRefinement = isRefined ? offFacetValue : onFacetValue;\n        return {\n          value: {\n            name: attribute,\n            isRefined: isRefined,\n            count: results ? nextRefinement.count : null,\n            onFacetValue: onFacetValue,\n            offFacetValue: offFacetValue\n          },\n          createURL: connectorState.createURLFactory(isRefined, {\n            state: state,\n            createURL: createURL\n          }),\n          sendEvent: sendEvent,\n          canRefine: Boolean(results ? nextRefinement.count : null),\n          refine: toggleRefinementFactory(helper),\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref10) {\n        var searchParameters = _ref10.searchParameters;\n        var isRefined = on && on.every(function (v) {\n          return searchParameters.isDisjunctiveFacetRefined(attribute, v);\n        });\n        if (!isRefined) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          toggle: _objectSpread(_objectSpread({}, uiState.toggle), {}, _defineProperty({}, attribute, isRefined))\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref11) {\n        var uiState = _ref11.uiState;\n        var withFacetConfiguration = searchParameters.clearRefinements(attribute).addDisjunctiveFacet(attribute);\n        var isRefined = Boolean(uiState.toggle && uiState.toggle[attribute]);\n        if (isRefined) {\n          if (on) {\n            on.forEach(function (v) {\n              withFacetConfiguration = withFacetConfiguration.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n          return withFacetConfiguration;\n        }\n\n        // It's not refined with an `off` value\n        if (hasAnOffValue) {\n          if (off) {\n            off.forEach(function (v) {\n              withFacetConfiguration = withFacetConfiguration.addDisjunctiveFacetRefinement(attribute, v);\n            });\n          }\n          return withFacetConfiguration;\n        }\n\n        // It's not refined without an `off` value\n        return withFacetConfiguration.setQueryParameters({\n          disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, searchParameters.disjunctiveFacetsRefinements), {}, _defineProperty({}, attribute, []))\n        });\n      }\n    };\n  };\n};\nexport default connectToggleRefinement;", "import connectToggleRefinement from \"instantsearch.js/es/connectors/toggle-refinement/connectToggleRefinement.js\";\nimport { useConnector } from \"../hooks/useConnector.js\";\nexport function useToggleRefinement(props, additionalWidgetProperties) {\n  return useConnector(connectToggleRefinement, props, additionalWidgetProperties);\n}", "import { useCallback } from 'react';\nimport { useInstantSearchContext } from \"../lib/useInstantSearchContext.js\";\nimport { useIsomorphicLayoutEffect } from \"../lib/useIsomorphicLayoutEffect.js\";\nimport { useSearchResults } from \"../lib/useSearchResults.js\";\nimport { useSearchState } from \"../lib/useSearchState.js\";\nexport function useInstantSearch() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      catchError = _ref.catchError;\n\n  var search = useInstantSearchContext();\n\n  var _useSearchState = useSearchState(),\n      uiState = _useSearchState.uiState,\n      setUiState = _useSearchState.setUiState,\n      indexUiState = _useSearchState.indexUiState,\n      setIndexUiState = _useSearchState.setIndexUiState;\n\n  var _useSearchResults = useSearchResults(),\n      results = _useSearchResults.results,\n      scopedResults = _useSearchResults.scopedResults;\n\n  var use = useCallback(function () {\n    for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n      middlewares[_key] = arguments[_key];\n    }\n\n    search.use.apply(search, middlewares);\n    return function () {\n      search.unuse.apply(search, middlewares);\n    };\n  }, [search]);\n  var refresh = useCallback(function () {\n    search.refresh();\n  }, [search]);\n  useIsomorphicLayoutEffect(function () {\n    if (catchError) {\n      var onError = function onError() {};\n\n      search.addListener('error', onError);\n      return function () {\n        return search.removeListener('error', onError);\n      };\n    }\n\n    return function () {};\n  }, [search, catchError]);\n  return {\n    results: results,\n    scopedResults: scopedResults,\n    uiState: uiState,\n    setUiState: setUiState,\n    indexUiState: indexUiState,\n    setIndexUiState: setIndexUiState,\n    use: use,\n    refresh: refresh,\n    status: search.status,\n    error: search.error\n  };\n}", "import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from 'react';\nimport { getIndexSearchResults } from \"./getIndexSearchResults.js\";\nimport { useIndexContext } from \"./useIndexContext.js\";\nimport { useInstantSearchContext } from \"./useInstantSearchContext.js\";\nexport function useSearchResults() {\n  var search = useInstantSearchContext();\n  var searchIndex = useIndexContext();\n\n  var _useState = useState(function () {\n    return getIndexSearchResults(searchIndex);\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchResults = _useState2[0],\n      setSearchResults = _useState2[1];\n\n  useEffect(function () {\n    function handleRender() {\n      var results = searchIndex.getResults(); // Results can be `null` when the first search is stalled.\n      // In this case, we skip the update.\n      // See: https://github.com/algolia/instantsearch.js/blob/20996c7a159988c58e00ff24d2d2dc98af8b980f/src/widgets/index/index.ts#L652-L657\n\n      if (results !== null) {\n        setSearchResults({\n          results: results,\n          scopedResults: searchIndex.getScopedResults()\n        });\n      }\n    }\n\n    search.addListener('render', handleRender);\n    return function () {\n      search.removeListener('render', handleRender);\n    };\n  }, [search, searchIndex]);\n  return searchResults;\n}", "import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { useIndexContext } from \"./useIndexContext.js\";\nimport { useInstantSearchContext } from \"./useInstantSearchContext.js\";\nexport function useSearchState() {\n  var search = useInstantSearchContext();\n  var searchIndex = useIndexContext();\n  var indexId = searchIndex.getIndexId();\n\n  var _useState = useState(function () {\n    return search.getUiState();\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      uiState = _useState2[0],\n      setLocalUiState = _useState2[1];\n\n  var indexUiState = uiState[indexId];\n  var setUiState = useCallback(function (nextUiState) {\n    search.setUiState(nextUiState);\n  }, [search]);\n  var setIndexUiState = useCallback(function (nextUiState) {\n    setUiState(function (prevUiState) {\n      return _objectSpread(_objectSpread({}, prevUiState), {}, _defineProperty({}, indexId, typeof nextUiState === 'function' ? nextUiState(prevUiState[indexId]) : nextUiState));\n    });\n  }, [setUiState, indexId]);\n  useEffect(function () {\n    function handleRender() {\n      setLocalUiState(search.getUiState());\n    }\n\n    search.addListener('render', handleRender);\n    return function () {\n      search.removeListener('render', handleRender);\n    };\n  }, [search, indexId]);\n  return {\n    uiState: uiState,\n    setUiState: setUiState,\n    indexUiState: indexUiState,\n    setIndexUiState: setIndexUiState\n  };\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"attributes\", \"rootPath\", \"separator\", \"transformItems\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { useBreadcrumb } from 'react-instantsearch-hooks';\nimport { Breadcrumb as BreadcrumbUiComponent } from \"../ui/Breadcrumb.js\";\nexport function Breadcrumb(_ref) {\n  var attributes = _ref.attributes,\n      rootPath = _ref.rootPath,\n      separator = _ref.separator,\n      transformItems = _ref.transformItems,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useBreadcrumb = useBreadcrumb({\n    attributes: attributes,\n    rootPath: rootPath,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.breadcrumb'\n  }),\n      canRefine = _useBreadcrumb.canRefine,\n      createURL = _useBreadcrumb.createURL,\n      items = _useBreadcrumb.items,\n      refine = _useBreadcrumb.refine;\n\n  var uiProps = {\n    items: items,\n    hasItems: canRefine,\n    createURL: createURL,\n    onNavigate: refine,\n    translations: _objectSpread({\n      rootElementText: 'Home'\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(BreadcrumbUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\", \"items\", \"hasItems\", \"createURL\", \"onNavigate\", \"separator\", \"translations\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nimport { isModifierClick } from \"./lib/isModifierClick.js\";\nexport function Breadcrumb(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      hasItems = _ref.hasItems,\n      createURL = _ref.createURL,\n      onNavigate = _ref.onNavigate,\n      _ref$separator = _ref.separator,\n      separator = _ref$separator === void 0 ? '>' : _ref$separator,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var handleClick = function handleClick(value) {\n    return function (event) {\n      if (!isModifierClick(event)) {\n        event.preventDefault();\n        onNavigate(value);\n      }\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-Breadcrumb', classNames.root, !hasItems && cx('ais-Breadcrumb--noRefinement', classNames.noRefinementRoot), props.className)\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: cx('ais-Breadcrumb-list', classNames.list)\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: cx('ais-Breadcrumb-item', classNames.item, !hasItems && cx('ais-Breadcrumb-item--selected', classNames.selectedItem))\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: createURL(null),\n    onClick: handleClick(null),\n    className: cx('ais-Breadcrumb-link', classNames.link)\n  }, translations.rootElementText)), items.map(function (item, index) {\n    var isLast = index === items.length - 1;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      className: cx('ais-Breadcrumb-item', classNames.item, isLast && cx('ais-Breadcrumb-item--selected', classNames.selectedItem))\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      className: cx('ais-Breadcrumb-separator', classNames.separator)\n    }, separator), isLast ? item.label : /*#__PURE__*/React.createElement(\"a\", {\n      className: cx('ais-Breadcrumb-link', classNames.link),\n      href: createURL(item.value),\n      onClick: handleClick(item.value)\n    }, item.label));\n  })));\n}", "export function cx() {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(' ');\n}", "export function isModifierClick(event) {\n  var isMiddleClick = event.button === 1;\n  return Boolean(isMiddleClick || event.altKey || event.ctrlKey || event.metaKey || event.shiftKey);\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"includedAttributes\", \"excludedAttributes\", \"transformItems\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { useClearRefinements } from 'react-instantsearch-hooks';\nimport { ClearRefinements as ClearRefinementsUiComponent } from \"../ui/ClearRefinements.js\";\nexport function ClearRefinements(_ref) {\n  var includedAttributes = _ref.includedAttributes,\n      excludedAttributes = _ref.excludedAttributes,\n      transformItems = _ref.transformItems,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useClearRefinements = useClearRefinements({\n    includedAttributes: includedAttributes,\n    excludedAttributes: excludedAttributes,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.clearRefinements'\n  }),\n      canRefine = _useClearRefinements.canRefine,\n      refine = _useClearRefinements.refine;\n\n  var uiProps = {\n    onClick: refine,\n    disabled: !canRefine,\n    translations: _objectSpread({\n      resetButtonText: 'Clear refinements'\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(ClearRefinementsUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\", \"disabled\", \"onClick\", \"translations\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nexport function ClearRefinements(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === void 0 ? function () {} : _ref$onClick,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-ClearRefinements', classNames.root, props.className)\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: disabled,\n    onClick: onClick,\n    className: cx('ais-ClearRefinements-button', classNames.button, disabled && cx('ais-ClearRefinements-button--disabled', classNames.disabledButton))\n  }, translations.resetButtonText));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"includedAttributes\", \"excludedAttributes\", \"transformItems\"];\nimport React from 'react';\nimport { useCurrentRefinements } from 'react-instantsearch-hooks';\nimport { CurrentRefinements as CurrentRefinementsUiComponent } from \"../ui/CurrentRefinements.js\";\nexport function CurrentRefinements(_ref) {\n  var includedAttributes = _ref.includedAttributes,\n      excludedAttributes = _ref.excludedAttributes,\n      transformItems = _ref.transformItems,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useCurrentRefinement = useCurrentRefinements({\n    includedAttributes: includedAttributes,\n    excludedAttributes: excludedAttributes,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.currentRefinements'\n  }),\n      items = _useCurrentRefinement.items,\n      refine = _useCurrentRefinement.refine,\n      canRefine = _useCurrentRefinement.canRefine;\n\n  var uiProps = {\n    items: items,\n    onRemove: refine,\n    hasRefinements: canRefine\n  };\n  return /*#__PURE__*/React.createElement(CurrentRefinementsUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\", \"items\", \"onRemove\", \"hasRefinements\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nimport { isModifierClick } from \"./lib/isModifierClick.js\";\nexport function CurrentRefinements(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      _ref$onRemove = _ref.onRemove,\n      onRemove = _ref$onRemove === void 0 ? function () {} : _ref$onRemove,\n      _ref$hasRefinements = _ref.hasRefinements,\n      hasRefinements = _ref$hasRefinements === void 0 ? false : _ref$hasRefinements,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-CurrentRefinements', classNames.root, !hasRefinements && cx('ais-CurrentRefinements--noRefinement', classNames.noRefinementRoot), props.className)\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: cx('ais-CurrentRefinements-list', classNames.list, !hasRefinements && cx('ais-CurrentRefinements-list--noRefinement', classNames.noRefinementList))\n  }, items.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: [item.indexName, item.label].join('/'),\n      className: cx('ais-CurrentRefinements-item', classNames.item)\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-CurrentRefinements-label', classNames.label)\n    }, item.label, \":\"), item.refinements.map(function (refinement) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: refinement.label,\n        className: cx('ais-CurrentRefinements-category', classNames.category)\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: cx('ais-CurrentRefinements-categoryLabel', classNames.categoryLabel)\n      }, refinement.label), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick(event) {\n          if (isModifierClick(event)) {\n            return;\n          }\n\n          onRemove(refinement);\n        },\n        className: cx('ais-CurrentRefinements-delete', classNames.delete)\n      }, \"\\u2715\"));\n    }));\n  })));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"attributes\", \"limit\", \"rootPath\", \"separator\", \"showMore\", \"showMoreLimit\", \"showParentLevel\", \"sortBy\", \"transformItems\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { useHierarchicalMenu } from 'react-instantsearch-hooks';\nimport { HierarchicalMenu as HierarchicalMenuUiComponent } from \"../ui/HierarchicalMenu.js\";\nexport function HierarchicalMenu(_ref) {\n  var attributes = _ref.attributes,\n      limit = _ref.limit,\n      rootPath = _ref.rootPath,\n      separator = _ref.separator,\n      showMore = _ref.showMore,\n      showMoreLimit = _ref.showMoreLimit,\n      showParentLevel = _ref.showParentLevel,\n      sortBy = _ref.sortBy,\n      transformItems = _ref.transformItems,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useHierarchicalMenu = useHierarchicalMenu({\n    attributes: attributes,\n    limit: limit,\n    rootPath: rootPath,\n    separator: separator,\n    showMore: showMore,\n    showMoreLimit: showMoreLimit,\n    showParentLevel: showParentLevel,\n    sortBy: sortBy,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.hierarchicalMenu'\n  }),\n      items = _useHierarchicalMenu.items,\n      canRefine = _useHierarchicalMenu.canRefine,\n      canToggleShowMore = _useHierarchicalMenu.canToggleShowMore,\n      createURL = _useHierarchicalMenu.createURL,\n      isShowingMore = _useHierarchicalMenu.isShowingMore,\n      refine = _useHierarchicalMenu.refine,\n      toggleShowMore = _useHierarchicalMenu.toggleShowMore;\n\n  var uiProps = {\n    items: items,\n    hasItems: canRefine,\n    createURL: createURL,\n    onNavigate: refine,\n    canToggleShowMore: canToggleShowMore,\n    onToggleShowMore: toggleShowMore,\n    isShowingMore: isShowingMore,\n    translations: _objectSpread({\n      showMoreButtonText: function showMoreButtonText(options) {\n        return options.isShowingMore ? 'Show less' : 'Show more';\n      }\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(HierarchicalMenuUiComponent, _extends({}, props, uiProps, {\n    showMore: showMore\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\", \"items\", \"hasItems\", \"onNavigate\", \"createURL\", \"showMore\", \"canToggleShowMore\", \"onToggleShowMore\", \"isShowingMore\", \"translations\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nimport { isModifierClick } from \"./lib/isModifierClick.js\";\nimport { ShowMoreButton } from \"./ShowMoreButton.js\";\n\nfunction HierarchicalList(_ref) {\n  var className = _ref.className,\n      _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      items = _ref.items,\n      createURL = _ref.createURL,\n      onNavigate = _ref.onNavigate;\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: cx('ais-HierarchicalMenu-list', classNames.list, className)\n  }, items.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: item.value,\n      className: cx('ais-HierarchicalMenu-item', classNames.item, item.data && cx('ais-HierarchicalMenu-item--parent', classNames.parentItem), item.isRefined && cx('ais-HierarchicalMenu-item--selected', classNames.selectedItem))\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: cx('ais-HierarchicalMenu-link', classNames.link, item.isRefined && cx('ais-HierarchicalMenu-link--selected', classNames.selectedItemLink)),\n      href: createURL(item.value),\n      onClick: function onClick(event) {\n        if (isModifierClick(event)) {\n          return;\n        }\n\n        event.preventDefault();\n        onNavigate(item.value);\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-HierarchicalMenu-label', classNames.label)\n    }, item.label), /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-HierarchicalMenu-count', classNames.count)\n    }, item.count)), item.data && /*#__PURE__*/React.createElement(HierarchicalList, {\n      className: cx('ais-HierarchicalMenu-list--child', classNames.childList),\n      classNames: classNames,\n      items: item.data,\n      onNavigate: onNavigate,\n      createURL: createURL\n    }));\n  }));\n}\n\nexport function HierarchicalMenu(_ref2) {\n  var _ref2$classNames = _ref2.classNames,\n      classNames = _ref2$classNames === void 0 ? {} : _ref2$classNames,\n      items = _ref2.items,\n      hasItems = _ref2.hasItems,\n      onNavigate = _ref2.onNavigate,\n      createURL = _ref2.createURL,\n      showMore = _ref2.showMore,\n      canToggleShowMore = _ref2.canToggleShowMore,\n      onToggleShowMore = _ref2.onToggleShowMore,\n      isShowingMore = _ref2.isShowingMore,\n      translations = _ref2.translations,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-HierarchicalMenu', classNames.root, !hasItems && cx('ais-HierarchicalMenu--noRefinement', classNames.noRefinementRoot), props.className)\n  }), /*#__PURE__*/React.createElement(HierarchicalList, {\n    classNames: classNames,\n    items: items,\n    onNavigate: onNavigate,\n    createURL: createURL\n  }), showMore && /*#__PURE__*/React.createElement(ShowMoreButton, {\n    className: cx('ais-HierarchicalMenu-showMore', classNames.showMore, !canToggleShowMore && cx('ais-HierarchicalMenu-showMore--disabled', classNames.disabledShowMore)),\n    disabled: !canToggleShowMore,\n    onClick: onToggleShowMore,\n    isShowingMore: isShowingMore,\n    translations: translations\n  }));\n}", "import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"isShowingMore\", \"translations\"];\nimport React from 'react';\nexport function ShowMoreButton(_ref) {\n  var isShowingMore = _ref.isShowingMore,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"button\", props, translations.showMoreButtonText({\n    isShowingMore: isShowingMore\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"hit\", \"attribute\", \"highlightedTagName\", \"nonHighlightedTagName\", \"separator\"];\nimport { getHighlightedParts, getPropertyByPath, unescape } from \"instantsearch.js/es/lib/utils/index.js\";\nimport React from 'react';\nimport { Highlight as HighlightUiComponent } from \"../ui/Highlight.js\";\nexport function Highlight(_ref) {\n  var hit = _ref.hit,\n      attribute = _ref.attribute,\n      highlightedTagName = _ref.highlightedTagName,\n      nonHighlightedTagName = _ref.nonHighlightedTagName,\n      separator = _ref.separator,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var property = getPropertyByPath(hit._highlightResult, attribute) || [];\n  var properties = Array.isArray(property) ? property : [property];\n  var parts = properties.map(function (singleValue) {\n    return getHighlightedParts(unescape(singleValue.value || ''));\n  });\n  return /*#__PURE__*/React.createElement(HighlightUiComponent, _extends({}, props, {\n    parts: parts,\n    highlightedTagName: highlightedTagName,\n    nonHighlightedTagName: nonHighlightedTagName,\n    separator: separator\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\"];\nimport React from 'react';\nimport { InternalHighlight } from \"./InternalHighlight.js\";\nimport { cx } from \"./lib/cx.js\";\nexport function Highlight(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(InternalHighlight, _extends({\n    classNames: {\n      root: cx('ais-Highlight', classNames.root),\n      highlighted: cx('ais-Highlight-highlighted', classNames.highlighted),\n      nonHighlighted: cx('ais-Highlight-nonHighlighted', classNames.nonHighlighted),\n      separator: cx('ais-Highlight-separator', classNames.separator)\n    }\n  }, props));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"parts\", \"highlightedTagName\", \"nonHighlightedTagName\", \"separator\", \"className\", \"classNames\"];\nimport React, { Fragment } from 'react';\nimport { cx } from \"./lib/cx.js\";\n\nfunction HighlightPart(_ref) {\n  var classNames = _ref.classNames,\n      children = _ref.children,\n      highlightedTagName = _ref.highlightedTagName,\n      isHighlighted = _ref.isHighlighted,\n      nonHighlightedTagName = _ref.nonHighlightedTagName;\n  var TagName = isHighlighted ? highlightedTagName : nonHighlightedTagName;\n  return /*#__PURE__*/React.createElement(TagName, {\n    className: isHighlighted ? classNames.highlighted : classNames.nonHighlighted\n  }, children);\n}\n\nexport function InternalHighlight(_ref2) {\n  var parts = _ref2.parts,\n      _ref2$highlightedTagN = _ref2.highlightedTagName,\n      highlightedTagName = _ref2$highlightedTagN === void 0 ? 'mark' : _ref2$highlightedTagN,\n      _ref2$nonHighlightedT = _ref2.nonHighlightedTagName,\n      nonHighlightedTagName = _ref2$nonHighlightedT === void 0 ? 'span' : _ref2$nonHighlightedT,\n      _ref2$separator = _ref2.separator,\n      separator = _ref2$separator === void 0 ? ', ' : _ref2$separator,\n      className = _ref2.className,\n      classNames = _ref2.classNames,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, {\n    className: cx(classNames.root, className)\n  }), parts.map(function (part, partIndex) {\n    var isLastPart = partIndex === parts.length - 1;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: partIndex\n    }, part.map(function (subPart, subPartIndex) {\n      return /*#__PURE__*/React.createElement(HighlightPart, {\n        key: subPartIndex,\n        classNames: classNames,\n        highlightedTagName: highlightedTagName,\n        nonHighlightedTagName: nonHighlightedTagName,\n        isHighlighted: subPart.isHighlighted\n      }, subPart.value);\n    }), !isLastPart && /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames.separator\n    }, separator));\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"escapeHTML\", \"transformItems\"];\nimport React from 'react';\nimport { useHits } from 'react-instantsearch-hooks';\nimport { Hits as HitsUiComponent } from \"../ui/Hits.js\";\nexport function Hits(_ref) {\n  var escapeHTML = _ref.escapeHTML,\n      transformItems = _ref.transformItems,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useHits = useHits({\n    escapeHTML: escapeHTML,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.hits'\n  }),\n      hits = _useHits.hits,\n      sendEvent = _useHits.sendEvent;\n\n  var uiProps = {\n    hits: hits,\n    sendEvent: sendEvent\n  };\n  return /*#__PURE__*/React.createElement(HitsUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"hits\", \"sendEvent\", \"hitComponent\", \"classNames\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\n\nfunction DefaultHitComponent(_ref) {\n  var hit = _ref.hit;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      wordBreak: 'break-all'\n    }\n  }, JSON.stringify(hit).slice(0, 100), \"\\u2026\");\n}\n\nexport function Hits(_ref2) {\n  var hits = _ref2.hits,\n      sendEvent = _ref2.sendEvent,\n      _ref2$hitComponent = _ref2.hitComponent,\n      HitComponent = _ref2$hitComponent === void 0 ? DefaultHitComponent : _ref2$hitComponent,\n      _ref2$classNames = _ref2.classNames,\n      classNames = _ref2$classNames === void 0 ? {} : _ref2$classNames,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-Hits', classNames.root, hits.length === 0 && cx('ais-Hits--empty', classNames.emptyRoot), props.className)\n  }), /*#__PURE__*/React.createElement(\"ol\", {\n    className: cx('ais-Hits-list', classNames.list)\n  }, hits.map(function (hit) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: hit.objectID,\n      className: cx('ais-Hits-item', classNames.item)\n    }, /*#__PURE__*/React.createElement(HitComponent, {\n      hit: hit,\n      sendEvent: sendEvent\n    }));\n  })));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"items\", \"transformItems\"];\nimport React from 'react';\nimport { useHitsPerPage } from 'react-instantsearch-hooks';\nimport { HitsPerPage as HitsPerPageUiComponent } from \"../ui/HitsPerPage.js\";\nexport function HitsPerPage(_ref) {\n  var userItems = _ref.items,\n      transformItems = _ref.transformItems,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useHitsPerPage = useHitsPerPage({\n    items: userItems,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.hitsPerPage'\n  }),\n      items = _useHitsPerPage.items,\n      refine = _useHitsPerPage.refine;\n\n  var _ref2 = items.find(function (_ref3) {\n    var isRefined = _ref3.isRefined;\n    return isRefined;\n  }) || {},\n      currentValue = _ref2.value;\n\n  var uiProps = {\n    items: items,\n    currentValue: currentValue,\n    onChange: function onChange(value) {\n      return refine(value);\n    }\n  };\n  return /*#__PURE__*/React.createElement(HitsPerPageUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"items\", \"onChange\", \"currentValue\", \"classNames\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nexport function HitsPerPage(_ref) {\n  var items = _ref.items,\n      _onChange = _ref.onChange,\n      currentValue = _ref.currentValue,\n      _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-HitsPerPage', classNames.root, props.className)\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: cx('ais-HitsPerPage-select', classNames.select),\n    onChange: function onChange(event) {\n      _onChange(Number(event.target.value));\n    },\n    value: String(currentValue)\n  }, items.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: item.value,\n      className: cx('ais-HitsPerPage-option', classNames.option),\n      value: item.value\n    }, item.label);\n  })));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"showPrevious\", \"cache\", \"escapeHTML\", \"showPrevious\", \"transformItems\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { useInfiniteHits } from 'react-instantsearch-hooks';\nimport { InfiniteHits as InfiniteHitsUiComponent } from \"../ui/InfiniteHits.js\";\nexport function InfiniteHits(_ref) {\n  var _ref$showPrevious = _ref.showPrevious,\n      shouldShowPrevious = _ref$showPrevious === void 0 ? true : _ref$showPrevious,\n      cache = _ref.cache,\n      escapeHTML = _ref.escapeHTML,\n      userShowPrevious = _ref.showPrevious,\n      transformItems = _ref.transformItems,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useInfiniteHits = useInfiniteHits({\n    cache: cache,\n    escapeHTML: escapeHTML,\n    showPrevious: userShowPrevious,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.infiniteHits'\n  }),\n      hits = _useInfiniteHits.hits,\n      sendEvent = _useInfiniteHits.sendEvent,\n      showPrevious = _useInfiniteHits.showPrevious,\n      showMore = _useInfiniteHits.showMore,\n      isFirstPage = _useInfiniteHits.isFirstPage,\n      isLastPage = _useInfiniteHits.isLastPage;\n\n  var uiProps = {\n    hits: hits,\n    sendEvent: sendEvent,\n    onShowPrevious: shouldShowPrevious ? showPrevious : undefined,\n    onShowMore: showMore,\n    isFirstPage: isFirstPage,\n    isLastPage: isLastPage,\n    translations: _objectSpread({\n      showPreviousButtonText: 'Show previous results',\n      showMoreButtonText: 'Show more results'\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(InfiniteHitsUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"hitComponent\", \"hits\", \"sendEvent\", \"isFirstPage\", \"isLastPage\", \"onShowPrevious\", \"onShowMore\", \"classNames\", \"translations\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\n\nfunction DefaultHitComponent(_ref) {\n  var hit = _ref.hit;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      wordBreak: 'break-all'\n    }\n  }, JSON.stringify(hit).slice(0, 100), \"\\u2026\");\n}\n\nexport function InfiniteHits(_ref2) {\n  var _ref2$hitComponent = _ref2.hitComponent,\n      HitComponent = _ref2$hitComponent === void 0 ? DefaultHitComponent : _ref2$hitComponent,\n      hits = _ref2.hits,\n      sendEvent = _ref2.sendEvent,\n      isFirstPage = _ref2.isFirstPage,\n      isLastPage = _ref2.isLastPage,\n      onShowPrevious = _ref2.onShowPrevious,\n      onShowMore = _ref2.onShowMore,\n      _ref2$classNames = _ref2.classNames,\n      classNames = _ref2$classNames === void 0 ? {} : _ref2$classNames,\n      translations = _ref2.translations,\n      props = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-InfiniteHits', classNames.root, hits.length === 0 && cx('ais-InfiniteHits--empty', classNames.emptyRoot), props.className)\n  }), onShowPrevious && /*#__PURE__*/React.createElement(\"button\", {\n    className: cx('ais-InfiniteHits-loadPrevious', classNames.loadPrevious, isFirstPage && cx('ais-InfiniteHits-loadPrevious--disabled', classNames.disabledLoadPrevious)),\n    onClick: onShowPrevious,\n    disabled: isFirstPage\n  }, translations.showPreviousButtonText), /*#__PURE__*/React.createElement(\"ol\", {\n    className: cx('ais-InfiniteHits-list', classNames.list)\n  }, hits.map(function (hit) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: hit.objectID,\n      className: cx('ais-InfiniteHits-item', classNames.item)\n    }, /*#__PURE__*/React.createElement(HitComponent, {\n      hit: hit,\n      sendEvent: sendEvent\n    }));\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: cx('ais-InfiniteHits-loadMore', classNames.loadMore, isLastPage && cx('ais-InfiniteHits-loadMore--disabled', classNames.disabledLoadMore)),\n    onClick: onShowMore,\n    disabled: isLastPage\n  }, translations.showMoreButtonText));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"attribute\", \"limit\", \"showMore\", \"showMoreLimit\", \"sortBy\", \"transformItems\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { useMenu } from 'react-instantsearch-hooks';\nimport { Menu as MenuUiComponent } from \"../ui/Menu.js\";\nexport function Menu(_ref) {\n  var attribute = _ref.attribute,\n      limit = _ref.limit,\n      showMore = _ref.showMore,\n      showMoreLimit = _ref.showMoreLimit,\n      sortBy = _ref.sortBy,\n      transformItems = _ref.transformItems,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useMenu = useMenu({\n    attribute: attribute,\n    limit: limit,\n    showMore: showMore,\n    showMoreLimit: showMoreLimit,\n    sortBy: sortBy,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.menu'\n  }),\n      canToggleShowMore = _useMenu.canToggleShowMore,\n      isShowingMore = _useMenu.isShowingMore,\n      items = _useMenu.items,\n      refine = _useMenu.refine,\n      createURL = _useMenu.createURL,\n      toggleShowMore = _useMenu.toggleShowMore;\n\n  var uiProps = {\n    items: items,\n    createURL: createURL,\n    onRefine: function onRefine(item) {\n      return refine(item.value);\n    },\n    canToggleShowMore: canToggleShowMore,\n    onToggleShowMore: toggleShowMore,\n    isShowingMore: isShowingMore,\n    translations: _objectSpread({\n      showMoreButtonText: function showMoreButtonText(options) {\n        return options.isShowingMore ? 'Show less' : 'Show more';\n      }\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(MenuUiComponent, _extends({}, props, uiProps, {\n    showMore: showMore\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"items\", \"classNames\", \"showMore\", \"canToggleShowMore\", \"onToggleShowMore\", \"isShowingMore\", \"createURL\", \"onRefine\", \"translations\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nimport { ShowMoreButton } from \"./ShowMoreButton.js\";\nexport function Menu(_ref) {\n  var items = _ref.items,\n      _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      showMore = _ref.showMore,\n      canToggleShowMore = _ref.canToggleShowMore,\n      onToggleShowMore = _ref.onToggleShowMore,\n      isShowingMore = _ref.isShowingMore,\n      createURL = _ref.createURL,\n      onRefine = _ref.onRefine,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-Menu', classNames.root, items.length === 0 && cx('ais-Menu--noRefinement', classNames.noRefinementRoot), props.className)\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: cx('ais-Menu-list', classNames.list)\n  }, items.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: item.label,\n      className: cx('ais-Menu-item', classNames.item, item.isRefined && cx('ais-Menu-item--selected', classNames.selectedItem))\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: cx('ais-Menu-link', classNames.link),\n      href: createURL(item.value),\n      onClick: function onClick(event) {\n        event.preventDefault();\n        onRefine(item);\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-Menu-label', classNames.label)\n    }, item.label), /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-Menu-count', classNames.count)\n    }, item.count)));\n  })), showMore && /*#__PURE__*/React.createElement(ShowMoreButton, {\n    className: cx('ais-Menu-showMore', classNames.showMore, !canToggleShowMore && cx('ais-Menu-showMore--disabled', classNames.disabledShowMore)),\n    disabled: !canToggleShowMore,\n    onClick: onToggleShowMore,\n    isShowingMore: isShowingMore,\n    translations: translations\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"showFirst\", \"showPrevious\", \"showNext\", \"showLast\", \"padding\", \"totalPages\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { usePagination } from 'react-instantsearch-hooks';\nimport { Pagination as PaginationUiComponent } from \"../ui/Pagination.js\";\nexport function Pagination(_ref) {\n  var showFirst = _ref.showFirst,\n      showPrevious = _ref.showPrevious,\n      showNext = _ref.showNext,\n      showLast = _ref.showLast,\n      padding = _ref.padding,\n      totalPages = _ref.totalPages,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _usePagination = usePagination({\n    padding: padding,\n    totalPages: totalPages\n  }, {\n    $$widgetType: 'ais.pagination'\n  }),\n      pages = _usePagination.pages,\n      currentRefinement = _usePagination.currentRefinement,\n      isFirstPage = _usePagination.isFirstPage,\n      isLastPage = _usePagination.isLastPage,\n      nbPages = _usePagination.nbPages,\n      createURL = _usePagination.createURL,\n      refine = _usePagination.refine;\n\n  var uiProps = {\n    pages: pages,\n    currentPage: currentRefinement,\n    isFirstPage: isFirstPage,\n    isLastPage: isLastPage,\n    nbPages: nbPages,\n    createURL: createURL,\n    onNavigate: refine,\n    translations: _objectSpread({\n      firstPageItemText: '\u2039\u2039',\n      previousPageItemText: '\u2039',\n      nextPageItemText: '\u203A',\n      lastPageItemText: '\u203A\u203A',\n      pageItemText: function pageItemText(_ref2) {\n        var currentPage = _ref2.currentPage;\n        return String(currentPage);\n      },\n      firstPageItemAriaLabel: 'First',\n      previousPageItemAriaLabel: 'Previous',\n      nextPageItemAriaLabel: 'Next',\n      lastPageItemAriaLabel: 'Last',\n      pageItemAriaLabel: function pageItemAriaLabel(_ref3) {\n        var currentPage = _ref3.currentPage;\n        return \"Page \".concat(currentPage);\n      }\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(PaginationUiComponent, _extends({}, props, uiProps, {\n    showFirst: showFirst,\n    showPrevious: showPrevious,\n    showNext: showNext,\n    showLast: showLast\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"pages\", \"currentPage\", \"nbPages\", \"isFirstPage\", \"isLastPage\", \"showFirst\", \"showPrevious\", \"showNext\", \"showLast\", \"createURL\", \"onNavigate\", \"translations\", \"classNames\"],\n    _excluded2 = [\"isDisabled\", \"className\", \"classNames\", \"href\", \"onClick\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nimport { isModifierClick } from \"./lib/isModifierClick.js\";\nexport function Pagination(_ref) {\n  var pages = _ref.pages,\n      currentPage = _ref.currentPage,\n      nbPages = _ref.nbPages,\n      isFirstPage = _ref.isFirstPage,\n      isLastPage = _ref.isLastPage,\n      _ref$showFirst = _ref.showFirst,\n      showFirst = _ref$showFirst === void 0 ? true : _ref$showFirst,\n      _ref$showPrevious = _ref.showPrevious,\n      showPrevious = _ref$showPrevious === void 0 ? true : _ref$showPrevious,\n      _ref$showNext = _ref.showNext,\n      showNext = _ref$showNext === void 0 ? true : _ref$showNext,\n      _ref$showLast = _ref.showLast,\n      showLast = _ref$showLast === void 0 ? true : _ref$showLast,\n      createURL = _ref.createURL,\n      onNavigate = _ref.onNavigate,\n      translations = _ref.translations,\n      _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var firstPageIndex = 0;\n  var previousPageIndex = currentPage - 1;\n  var nextPageIndex = currentPage + 1;\n  var lastPageIndex = nbPages - 1;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-Pagination', classNames.root, nbPages <= 1 && cx('ais-Pagination--noRefinement', classNames.noRefinementRoot), props.className)\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    className: cx('ais-Pagination-list', classNames.list)\n  }, showFirst && /*#__PURE__*/React.createElement(PaginationItem, {\n    isDisabled: isFirstPage,\n    className: cx('ais-Pagination-item--firstPage', classNames.firstPageItem),\n    classNames: classNames,\n    \"aria-label\": translations.firstPageItemAriaLabel,\n    href: createURL(firstPageIndex),\n    onClick: function onClick() {\n      return onNavigate(firstPageIndex);\n    }\n  }, translations.firstPageItemText), showPrevious && /*#__PURE__*/React.createElement(PaginationItem, {\n    isDisabled: isFirstPage,\n    className: cx('ais-Pagination-item--previousPage', classNames.previousPageItem),\n    classNames: classNames,\n    \"aria-label\": translations.previousPageItemAriaLabel,\n    href: createURL(previousPageIndex),\n    onClick: function onClick() {\n      return onNavigate(previousPageIndex);\n    }\n  }, translations.previousPageItemText), pages.map(function (page) {\n    return /*#__PURE__*/React.createElement(PaginationItem, {\n      key: page,\n      isDisabled: false,\n      className: cx('ais-Pagination-item--page', classNames.pageItem, page === currentPage && cx('ais-Pagination-item--selected', classNames.selectedItem)),\n      classNames: classNames,\n      \"aria-label\": translations.pageItemAriaLabel({\n        currentPage: page + 1,\n        nbPages: nbPages\n      }),\n      href: createURL(page),\n      onClick: function onClick() {\n        return onNavigate(page);\n      }\n    }, translations.pageItemText({\n      currentPage: page + 1,\n      nbPages: nbPages\n    }));\n  }), showNext && /*#__PURE__*/React.createElement(PaginationItem, {\n    isDisabled: isLastPage,\n    className: cx('ais-Pagination-item--nextPage', classNames.nextPageItem),\n    classNames: classNames,\n    \"aria-label\": translations.nextPageItemAriaLabel,\n    href: createURL(nextPageIndex),\n    onClick: function onClick() {\n      return onNavigate(nextPageIndex);\n    }\n  }, translations.nextPageItemText), showLast && /*#__PURE__*/React.createElement(PaginationItem, {\n    isDisabled: isLastPage,\n    className: cx('ais-Pagination-item--lastPage', classNames.lastPageItem),\n    classNames: classNames,\n    \"aria-label\": translations.lastPageItemAriaLabel,\n    href: createURL(lastPageIndex),\n    onClick: function onClick() {\n      return onNavigate(lastPageIndex);\n    }\n  }, translations.lastPageItemText)));\n}\n\nfunction PaginationItem(_ref2) {\n  var isDisabled = _ref2.isDisabled,\n      className = _ref2.className,\n      classNames = _ref2.classNames,\n      href = _ref2.href,\n      _onClick = _ref2.onClick,\n      props = _objectWithoutProperties(_ref2, _excluded2);\n\n  if (isDisabled) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: cx('ais-Pagination-item', classNames.item, 'ais-Pagination-item--disabled', classNames.disabledItem, className)\n    }, /*#__PURE__*/React.createElement(\"span\", _extends({\n      className: cx('ais-Pagination-link', classNames.link)\n    }, props)));\n  }\n\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: cx('ais-Pagination-item', classNames.item, className)\n  }, /*#__PURE__*/React.createElement(\"a\", _extends({\n    className: cx('ais-Pagination-link', classNames.link),\n    href: href,\n    onClick: function onClick(event) {\n      if (isModifierClick(event)) {\n        return;\n      }\n\n      event.preventDefault();\n\n      _onClick(event);\n    }\n  }, props)));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { usePoweredBy } from 'react-instantsearch-hooks';\nimport { PoweredBy as PoweredByUiComponent } from \"../ui/PoweredBy.js\";\nexport function PoweredBy(props) {\n  var _usePoweredBy = usePoweredBy(),\n      url = _usePoweredBy.url;\n\n  var uiProps = {\n    url: url\n  };\n  return /*#__PURE__*/React.createElement(PoweredByUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\", \"url\", \"theme\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nexport function PoweredBy(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      url = _ref.url,\n      _ref$theme = _ref.theme,\n      theme = _ref$theme === void 0 ? 'light' : _ref$theme,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-PoweredBy', theme === 'dark' ? cx('ais-PoweredBy--dark', classNames.dark) : cx('ais-PoweredBy--light', classNames.light), classNames.root, props.className)\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: url,\n    target: \"_blank\",\n    className: cx('ais-PoweredBy-link', classNames.link),\n    \"aria-label\": \"Search by Algolia\",\n    rel: \"noopener noreferrer\"\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 572 64\",\n    className: cx('ais-PoweredBy-logo', classNames.logo)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: theme === 'dark' ? '#FFF' : '#36395A',\n    d: \"M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fill: theme === 'dark' ? '#FFF' : '#003DFF',\n    d: \"M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z\"\n  }))));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"attribute\", \"min\", \"max\", \"precision\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from 'react';\nimport { useRange } from 'react-instantsearch-hooks';\nimport { RangeInput as RangeInputUiComponent } from \"../ui/RangeInput.js\";\nexport function RangeInput(_ref) {\n  var attribute = _ref.attribute,\n      min = _ref.min,\n      max = _ref.max,\n      precision = _ref.precision,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useRange = useRange({\n    attribute: attribute,\n    min: min,\n    max: max,\n    precision: precision\n  }, {\n    $$widgetType: 'ais.rangeInput'\n  }),\n      range = _useRange.range,\n      start = _useRange.start,\n      canRefine = _useRange.canRefine,\n      refine = _useRange.refine;\n\n  var step = 1 / Math.pow(10, precision || 0);\n  var uiProps = {\n    range: range,\n    start: start,\n    step: step,\n    disabled: !canRefine,\n    onSubmit: refine,\n    translations: _objectSpread({\n      separatorElementText: 'to',\n      submitButtonText: 'Go'\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(RangeInputUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"classNames\", \"range\", \"start\", \"step\", \"disabled\", \"onSubmit\", \"translations\"];\nimport React, { useState } from 'react';\nimport { cx } from \"./lib/cx.js\";\n// if the default value is undefined, React considers the component uncontrolled initially, which we don't want 0 or NaN as the default value\nvar unsetNumberInputValue = '';\nexport function RangeInput(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      _ref$range = _ref.range,\n      min = _ref$range.min,\n      max = _ref$range.max,\n      _ref$start = _slicedToArray(_ref.start, 2),\n      minValue = _ref$start[0],\n      maxValue = _ref$start[1],\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 1 : _ref$step,\n      disabled = _ref.disabled,\n      _onSubmit = _ref.onSubmit,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var values = {\n    min: minValue !== -Infinity && minValue !== min ? minValue : unsetNumberInputValue,\n    max: maxValue !== Infinity && maxValue !== max ? maxValue : unsetNumberInputValue\n  };\n\n  var _useState = useState(values),\n      _useState2 = _slicedToArray(_useState, 2),\n      prevValues = _useState2[0],\n      setPrevValues = _useState2[1];\n\n  var _useState3 = useState({\n    from: values.min,\n    to: values.max\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      _useState4$ = _useState4[0],\n      from = _useState4$.from,\n      to = _useState4$.to,\n      setRange = _useState4[1];\n\n  if (values.min !== prevValues.min || values.max !== prevValues.max) {\n    setRange({\n      from: values.min,\n      to: values.max\n    });\n    setPrevValues(values);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx(cx('ais-RangeInput', classNames.root), disabled && cx('ais-RangeInput--noRefinement', classNames.noRefinementRoot), props.className)\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: cx('ais-RangeInput-form', classNames.form),\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n\n      _onSubmit([from, to]);\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: cx('ais-RangeInput-label', classNames.label)\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: cx('ais-RangeInput-input', classNames.input, 'ais-RangeInput-input--min', classNames.inputMin),\n    type: \"number\",\n    min: min,\n    max: max,\n    value: from === null || from === void 0 ? void 0 : from.toString() // Strips leading `0` from a positive number value\n    ,\n    step: step,\n    placeholder: min === null || min === void 0 ? void 0 : min.toString(),\n    disabled: disabled,\n    onInput: function onInput(_ref2) {\n      var currentTarget = _ref2.currentTarget;\n      return setRange({\n        from: Number(currentTarget.value),\n        to: to\n      });\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: cx('ais-RangeInput-separator', classNames.separator)\n  }, translations.separatorElementText), /*#__PURE__*/React.createElement(\"label\", {\n    className: cx('ais-RangeInput-label', classNames.label)\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: cx('ais-RangeInput-input', classNames.input, 'ais-RangeInput-input--max', classNames.inputMax),\n    type: \"number\",\n    min: min,\n    max: max,\n    value: to === null || to === void 0 ? void 0 : to.toString() // Strips leading `0` from a positive number value\n    ,\n    step: step,\n    placeholder: max === null || max === void 0 ? void 0 : max.toString(),\n    disabled: disabled,\n    onInput: function onInput(_ref3) {\n      var currentTarget = _ref3.currentTarget;\n      return setRange({\n        from: from,\n        to: Number(currentTarget.value)\n      });\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: cx('ais-RangeInput-submit', classNames.submit),\n    type: \"submit\"\n  }, translations.submitButtonText)));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"searchable\", \"searchablePlaceholder\", \"attribute\", \"operator\", \"limit\", \"showMore\", \"showMoreLimit\", \"sortBy\", \"escapeFacetValues\", \"transformItems\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useRef, useState } from 'react';\nimport { useRefinementList } from 'react-instantsearch-hooks';\nimport { RefinementList as RefinementListUiComponent } from \"../ui/RefinementList.js\";\nimport { SearchBox as SearchBoxUiComponent } from \"../ui/SearchBox.js\";\nexport function RefinementList(_ref) {\n  var searchable = _ref.searchable,\n      searchablePlaceholder = _ref.searchablePlaceholder,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      limit = _ref.limit,\n      showMore = _ref.showMore,\n      showMoreLimit = _ref.showMoreLimit,\n      sortBy = _ref.sortBy,\n      escapeFacetValues = _ref.escapeFacetValues,\n      transformItems = _ref.transformItems,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useRefinementList = useRefinementList({\n    attribute: attribute,\n    operator: operator,\n    limit: limit,\n    showMore: showMore,\n    showMoreLimit: showMoreLimit,\n    sortBy: sortBy,\n    escapeFacetValues: escapeFacetValues,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.refinementList'\n  }),\n      canRefine = _useRefinementList.canRefine,\n      canToggleShowMore = _useRefinementList.canToggleShowMore,\n      isFromSearch = _useRefinementList.isFromSearch,\n      isShowingMore = _useRefinementList.isShowingMore,\n      items = _useRefinementList.items,\n      refine = _useRefinementList.refine,\n      searchForItems = _useRefinementList.searchForItems,\n      toggleShowMore = _useRefinementList.toggleShowMore;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var inputRef = useRef(null);\n\n  function setQuery(newQuery) {\n    setInputValue(newQuery);\n    searchForItems(newQuery);\n  }\n\n  function onRefine(item) {\n    refine(item.value);\n    setQuery('');\n  }\n\n  function onChange(event) {\n    setQuery(event.currentTarget.value);\n  }\n\n  function onReset() {\n    setQuery('');\n  }\n\n  function onSubmit() {\n    if (items.length > 0) {\n      refine(items[0].value);\n      setQuery('');\n    }\n  }\n\n  var mergedTranslations = _objectSpread({\n    resetButtonTitle: 'Clear the search query',\n    submitButtonTitle: 'Submit the search query',\n    noResultsText: 'No results.',\n    showMoreButtonText: function showMoreButtonText(options) {\n      return options.isShowingMore ? 'Show less' : 'Show more';\n    }\n  }, translations);\n\n  var uiProps = {\n    items: items,\n    canRefine: canRefine,\n    onRefine: onRefine,\n    query: inputValue,\n    searchBox: searchable && /*#__PURE__*/React.createElement(SearchBoxUiComponent, {\n      inputRef: inputRef,\n      placeholder: searchablePlaceholder,\n      isSearchStalled: false,\n      value: inputValue,\n      onChange: onChange,\n      onReset: onReset,\n      onSubmit: onSubmit,\n      translations: {\n        submitButtonTitle: mergedTranslations.submitButtonTitle,\n        resetButtonTitle: mergedTranslations.resetButtonTitle\n      }\n    }),\n    noResults: searchable && isFromSearch && items.length === 0 && mergedTranslations.noResultsText,\n    canToggleShowMore: canToggleShowMore,\n    onToggleShowMore: toggleShowMore,\n    isShowingMore: isShowingMore,\n    translations: {\n      showMoreButtonText: mergedTranslations.showMoreButtonText\n    }\n  };\n  return /*#__PURE__*/React.createElement(RefinementListUiComponent, _extends({}, props, uiProps, {\n    showMore: showMore\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"canRefine\", \"items\", \"onRefine\", \"query\", \"searchBox\", \"noResults\", \"showMore\", \"canToggleShowMore\", \"onToggleShowMore\", \"isShowingMore\", \"className\", \"classNames\", \"translations\"];\nimport { getHighlightedParts, unescape } from \"instantsearch.js/es/lib/utils/index.js\";\nimport React from 'react';\nimport { Highlight } from \"./Highlight.js\";\nimport { cx } from \"./lib/cx.js\";\nimport { ShowMoreButton } from \"./ShowMoreButton.js\";\nexport function RefinementList(_ref) {\n  var canRefine = _ref.canRefine,\n      items = _ref.items,\n      onRefine = _ref.onRefine,\n      query = _ref.query,\n      searchBox = _ref.searchBox,\n      noResults = _ref.noResults,\n      showMore = _ref.showMore,\n      canToggleShowMore = _ref.canToggleShowMore,\n      onToggleShowMore = _ref.onToggleShowMore,\n      isShowingMore = _ref.isShowingMore,\n      className = _ref.className,\n      _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-RefinementList', classNames.root, !canRefine && cx('ais-RefinementList--noRefinement', classNames.noRefinementRoot), className)\n  }), searchBox && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('ais-RefinementList-searchBox', classNames.searchBox)\n  }, searchBox), noResults ? /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('ais-RefinementList-noResults', classNames.noResults)\n  }, noResults) : /*#__PURE__*/React.createElement(\"ul\", {\n    className: cx('ais-RefinementList-list', classNames.list)\n  }, items.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: item.value,\n      className: cx('ais-RefinementList-item', classNames.item, item.isRefined && cx('ais-RefinementList-item--selected', classNames.selectedItem))\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: cx('ais-RefinementList-label', classNames.label)\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      checked: item.isRefined,\n      className: cx('ais-RefinementList-checkbox', classNames.checkbox),\n      type: \"checkbox\",\n      value: item.value,\n      onChange: function onChange() {\n        onRefine(item);\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-RefinementList-labelText', classNames.labelText)\n    }, query.length > 0 ? /*#__PURE__*/React.createElement(Highlight, {\n      parts: [getHighlightedParts(unescape(item.highlighted || ''))]\n    }) : item.label), /*#__PURE__*/React.createElement(\"span\", {\n      className: cx('ais-RefinementList-count', classNames.count)\n    }, item.count)));\n  })), showMore && /*#__PURE__*/React.createElement(ShowMoreButton, {\n    className: cx('ais-RefinementList-showMore', classNames.showMore, !canToggleShowMore && cx('ais-RefinementList-showMore--disabled', classNames.disabledShowMore)),\n    disabled: !canToggleShowMore,\n    onClick: onToggleShowMore,\n    isShowingMore: isShowingMore,\n    translations: translations\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"formRef\", \"inputRef\", \"isSearchStalled\", \"onChange\", \"onReset\", \"onSubmit\", \"placeholder\", \"value\", \"autoFocus\", \"resetIconComponent\", \"submitIconComponent\", \"loadingIconComponent\", \"classNames\", \"translations\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\n\nfunction DefaultSubmitIcon(_ref) {\n  var classNames = _ref.classNames;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: cx('ais-SearchBox-submitIcon', classNames.submitIcon),\n    width: \"10\",\n    height: \"10\",\n    viewBox: \"0 0 40 40\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z\"\n  }));\n}\n\nfunction DefaultResetIcon(_ref2) {\n  var classNames = _ref2.classNames;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    className: cx('ais-SearchBox-resetIcon', classNames.resetIcon),\n    viewBox: \"0 0 20 20\",\n    width: \"10\",\n    height: \"10\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z\"\n  }));\n}\n\nfunction DefaultLoadingIcon(_ref3) {\n  var classNames = _ref3.classNames;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 38 38\",\n    stroke: \"#444\",\n    className: cx('ais-SearchBox-loadingIcon', classNames.loadingIcon)\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(1 1)\",\n    strokeWidth: \"2\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    strokeOpacity: \".5\",\n    cx: \"18\",\n    cy: \"18\",\n    r: \"18\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36 18c0-9.94-8.06-18-18-18\"\n  }, /*#__PURE__*/React.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    from: \"0 18 18\",\n    to: \"360 18 18\",\n    dur: \"1s\",\n    repeatCount: \"indefinite\"\n  })))));\n}\n\nexport function SearchBox(_ref4) {\n  var formRef = _ref4.formRef,\n      inputRef = _ref4.inputRef,\n      isSearchStalled = _ref4.isSearchStalled,\n      onChange = _ref4.onChange,\n      onReset = _ref4.onReset,\n      onSubmit = _ref4.onSubmit,\n      placeholder = _ref4.placeholder,\n      value = _ref4.value,\n      autoFocus = _ref4.autoFocus,\n      _ref4$resetIconCompon = _ref4.resetIconComponent,\n      ResetIcon = _ref4$resetIconCompon === void 0 ? DefaultResetIcon : _ref4$resetIconCompon,\n      _ref4$submitIconCompo = _ref4.submitIconComponent,\n      SubmitIcon = _ref4$submitIconCompo === void 0 ? DefaultSubmitIcon : _ref4$submitIconCompo,\n      _ref4$loadingIconComp = _ref4.loadingIconComponent,\n      LoadingIcon = _ref4$loadingIconComp === void 0 ? DefaultLoadingIcon : _ref4$loadingIconComp,\n      _ref4$classNames = _ref4.classNames,\n      classNames = _ref4$classNames === void 0 ? {} : _ref4$classNames,\n      translations = _ref4.translations,\n      props = _objectWithoutProperties(_ref4, _excluded);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (onSubmit) {\n      onSubmit(event);\n    }\n\n    if (inputRef.current) {\n      inputRef.current.blur();\n    }\n  }\n\n  function handleReset(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    onReset(event);\n\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-SearchBox', classNames.root, props.className)\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    ref: formRef,\n    action: \"\",\n    className: cx('ais-SearchBox-form', classNames.form),\n    noValidate: true,\n    onSubmit: handleSubmit,\n    onReset: handleReset\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: inputRef,\n    className: cx('ais-SearchBox-input', classNames.input),\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    autoCapitalize: \"off\",\n    placeholder: placeholder,\n    spellCheck: false,\n    maxLength: 512,\n    type: \"search\",\n    value: value,\n    onChange: onChange,\n    autoFocus: autoFocus\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: cx('ais-SearchBox-submit', classNames.submit),\n    type: \"submit\",\n    title: translations.submitButtonTitle\n  }, /*#__PURE__*/React.createElement(SubmitIcon, {\n    classNames: classNames\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: cx('ais-SearchBox-reset', classNames.reset),\n    type: \"reset\",\n    title: translations.resetButtonTitle,\n    hidden: value.length === 0 || isSearchStalled\n  }, /*#__PURE__*/React.createElement(ResetIcon, {\n    classNames: classNames\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: cx('ais-SearchBox-loadingIndicator', classNames.loadingIndicator),\n    hidden: !isSearchStalled\n  }, /*#__PURE__*/React.createElement(LoadingIcon, {\n    classNames: classNames\n  }))));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"queryHook\", \"searchAsYouType\", \"translations\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useRef, useState } from 'react';\nimport { useSearchBox } from 'react-instantsearch-hooks';\nimport { SearchBox as SearchBoxUiComponent } from \"../ui/SearchBox.js\";\nexport function SearchBox(_ref) {\n  var queryHook = _ref.queryHook,\n      _ref$searchAsYouType = _ref.searchAsYouType,\n      searchAsYouType = _ref$searchAsYouType === void 0 ? true : _ref$searchAsYouType,\n      translations = _ref.translations,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useSearchBox = useSearchBox({\n    queryHook: queryHook\n  }, {\n    $$widgetType: 'ais.searchBox'\n  }),\n      query = _useSearchBox.query,\n      refine = _useSearchBox.refine,\n      isSearchStalled = _useSearchBox.isSearchStalled;\n\n  var _useState = useState(query),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var inputRef = useRef(null);\n\n  function setQuery(newQuery) {\n    setInputValue(newQuery);\n\n    if (searchAsYouType) {\n      refine(newQuery);\n    }\n  }\n\n  function onReset() {\n    setQuery('');\n\n    if (!searchAsYouType) {\n      refine('');\n    }\n  }\n\n  function onChange(event) {\n    setQuery(event.currentTarget.value);\n  }\n\n  function onSubmit(event) {\n    if (!searchAsYouType) {\n      refine(inputValue);\n    }\n\n    if (props.onSubmit) {\n      props.onSubmit(event);\n    }\n  } // Track when the InstantSearch query changes to synchronize it with\n  // the React state.\n  // We bypass the state update if the input is focused to avoid concurrent\n  // updates when typing.\n\n\n  if (query !== inputValue && document.activeElement !== inputRef.current) {\n    setInputValue(query);\n  }\n\n  var uiProps = {\n    inputRef: inputRef,\n    isSearchStalled: isSearchStalled,\n    onChange: onChange,\n    onReset: onReset,\n    onSubmit: onSubmit,\n    value: inputValue,\n    translations: _objectSpread({\n      submitButtonTitle: 'Submit the search query',\n      resetButtonTitle: 'Clear the search query'\n    }, translations)\n  };\n  return /*#__PURE__*/React.createElement(SearchBoxUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"hit\", \"attribute\", \"highlightedTagName\", \"nonHighlightedTagName\", \"separator\"];\nimport { getHighlightedParts, getPropertyByPath, unescape } from \"instantsearch.js/es/lib/utils/index.js\";\nimport React from 'react';\nimport { Snippet as SnippetUiComponent } from \"../ui/Snippet.js\";\nexport function Snippet(_ref) {\n  var hit = _ref.hit,\n      attribute = _ref.attribute,\n      highlightedTagName = _ref.highlightedTagName,\n      nonHighlightedTagName = _ref.nonHighlightedTagName,\n      separator = _ref.separator,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var property = getPropertyByPath(hit._snippetResult, attribute) || [];\n  var properties = Array.isArray(property) ? property : [property];\n  var parts = properties.map(function (singleValue) {\n    return getHighlightedParts(unescape(singleValue.value || ''));\n  });\n  return /*#__PURE__*/React.createElement(SnippetUiComponent, _extends({}, props, {\n    parts: parts,\n    highlightedTagName: highlightedTagName,\n    nonHighlightedTagName: nonHighlightedTagName,\n    separator: separator\n  }));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\"];\nimport React from 'react';\nimport { InternalHighlight } from \"./InternalHighlight.js\";\nimport { cx } from \"./lib/cx.js\";\nexport function Snippet(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(InternalHighlight, _extends({\n    classNames: {\n      root: cx('ais-Snippet', classNames.root),\n      highlighted: cx('ais-Snippet-highlighted', classNames.highlighted),\n      nonHighlighted: cx('ais-Snippet-nonHighlighted', classNames.nonHighlighted),\n      separator: cx('ais-Snippet-separator', classNames.separator)\n    }\n  }, props));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"items\", \"transformItems\"];\nimport React from 'react';\nimport { useSortBy } from 'react-instantsearch-hooks';\nimport { SortBy as SortByUiComponent } from \"../ui/SortBy.js\";\nexport function SortBy(_ref) {\n  var items = _ref.items,\n      transformItems = _ref.transformItems,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useSortBy = useSortBy({\n    items: items,\n    transformItems: transformItems\n  }, {\n    $$widgetType: 'ais.sortBy'\n  }),\n      currentRefinement = _useSortBy.currentRefinement,\n      options = _useSortBy.options,\n      refine = _useSortBy.refine;\n\n  var uiProps = {\n    items: options,\n    value: currentRefinement,\n    onChange: refine\n  };\n  return /*#__PURE__*/React.createElement(SortByUiComponent, _extends({}, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"items\", \"value\", \"onChange\", \"classNames\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nexport function SortBy(_ref) {\n  var items = _ref.items,\n      value = _ref.value,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? function () {} : _ref$onChange,\n      _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-SortBy', classNames.root, props.className)\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: cx('ais-SortBy-select', classNames.select),\n    onChange: function (_onChange) {\n      function onChange(_x) {\n        return _onChange.apply(this, arguments);\n      }\n\n      onChange.toString = function () {\n        return _onChange.toString();\n      };\n\n      return onChange;\n    }(function (event) {\n      return onChange(event.target.value);\n    }),\n    value: value\n  }, items.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      className: cx('ais-SortBy-option', classNames.option),\n      key: item.value,\n      value: item.value\n    }, item.label);\n  })));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"attribute\", \"on\", \"off\"];\nimport React from 'react';\nimport { useToggleRefinement } from 'react-instantsearch-hooks';\nimport { ToggleRefinement as ToggleRefinementUiComponent } from \"../ui/ToggleRefinement.js\";\nexport function ToggleRefinement(_ref) {\n  var attribute = _ref.attribute,\n      on = _ref.on,\n      off = _ref.off,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useToggleRefinement = useToggleRefinement({\n    attribute: attribute,\n    on: on,\n    off: off\n  }, {\n    $$widgetType: 'ais.toggleRefinement'\n  }),\n      refine = _useToggleRefinement.refine,\n      value = _useToggleRefinement.value;\n\n  var uiProps = {\n    checked: value.isRefined,\n    onChange: function onChange(isChecked) {\n      return refine({\n        isRefined: !isChecked\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(ToggleRefinementUiComponent, _extends({\n    label: value.name\n  }, props, uiProps));\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"classNames\", \"checked\", \"onChange\", \"label\"];\nimport React from 'react';\nimport { cx } from \"./lib/cx.js\";\nexport function ToggleRefinement(_ref) {\n  var _ref$classNames = _ref.classNames,\n      classNames = _ref$classNames === void 0 ? {} : _ref$classNames,\n      checked = _ref.checked,\n      onChange = _ref.onChange,\n      label = _ref.label,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('ais-ToggleRefinement', classNames.root, props.className)\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: cx('ais-ToggleRefinement-label', classNames.label)\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: cx('ais-ToggleRefinement-checkbox', classNames.checkbox),\n    type: \"checkbox\",\n    checked: checked,\n    onChange: function (_onChange) {\n      function onChange(_x) {\n        return _onChange.apply(this, arguments);\n      }\n\n      onChange.toString = function () {\n        return _onChange.toString();\n      };\n\n      return onChange;\n    }(function (event) {\n      onChange(event.target.checked);\n    })\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: cx('ais-ToggleRefinement-labelText', classNames.labelText)\n  }, label)));\n}"],
  "mappings": "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",
  "names": ["index", "find", "_objectWithoutPropertiesLoose", "clearRefinement", "isRefined", "find", "RefinementList", "clearRefinements", "index", "index", "find", "find", "escapeFacetValue", "find", "escapeFacetValue", "find", "escapeFacetValue", "facet", "EventEmitter", "EventEmitter", "index", "EventEmitter", "escapeFacetValue", "index", "require_algoliasearch_helper", "algoliasearchHelper", "index", "_defineProperty", "connectConfigure", "algoliasearchHelper", "import_react", "import_algoliasearch_helper", "algoliasearchHelper", "ownKeys", "_objectSpread", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "import_react", "ownKeys", "_objectSpread", "import_react", "ownKeys", "_objectSpread", "_defineProperty", "_typeof", "obj", "withUsage", "connectDynamicWidgets", "ownKeys", "_objectSpread", "_excluded", "React", "getWidgetAttribute", "import_react", "import_algoliasearch_helper", "ownKeys", "_objectSpread", "_defineProperty", "_objectWithoutProperties", "withUsage", "index", "algoliasearchHelper", "results", "import_react", "import_react", "import_react", "import_react", "_excluded", "index", "React", "import_react", "import_algoliasearch_helper", "version_default", "ownKeys", "_objectSpread", "_defineProperty", "formatNumber", "highlight", "reverseHighlight", "snippet", "reverseSnippet", "insights", "_typeof", "obj", "ownKeys", "_objectSpread", "_defineProperty", "_setPrototypeOf", "o", "p", "_getPrototypeOf", "withUsage", "InstantSearch", "version_default", "algoliasearchHelper", "setUiState", "EventEmitter", "import_react", "ReactVersion", "search", "_excluded", "InstantSearch", "React", "import_react", "_excluded", "React", "ownKeys", "_objectSpread", "_defineProperty", "_slicedToArray", "_unsupportedIterableToArray", "_arrayLikeToArray", "withUsage", "connectBreadcrumb", "getRefinedState", "items", "_toConsumableArray", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "connectClearRefinements", "cachedRefine", "cachedCreateURL", "_toConsumableArray", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "connectCurrentRefinements", "ownKeys", "_objectSpread", "_defineProperty", "_objectWithoutProperties", "_objectWithoutPropertiesLoose", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "withUsage", "connectHierarchicalMenu", "toggleShowMore", "index", "_refine", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "connectHits", "_toConsumableArray", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "connectHitsPerPage", "items", "normalizeItems", "ownKeys", "_objectSpread", "_defineProperty", "_toConsumableArray", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "_objectWithoutProperties", "_objectWithoutPropertiesLoose", "withUsage", "connectInfiniteHits", "getFirstReceivedPage", "getLastReceivedPage", "getShowPrevious", "getShowMore", "_objectWithoutProperties", "_objectWithoutPropertiesLoose", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "DEFAULT_SORT", "connectMenu", "toggleShowMore", "_createURL", "_refine", "_unsupportedIterableToArray", "F", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_nonIterableRest", "_arrayLikeToArray", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "createSendEvent", "connectNumericMenu", "prepareItems", "_classCallCheck", "_defineProperties", "_createClass", "_defineProperty", "Paginator", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "connectPagination", "page", "window", "ownKeys", "_objectSpread", "_defineProperty", "_toConsumableArray", "_arrayWithoutHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableSpread", "_arrayLikeToArray", "withUsage", "connectQueryRules", "ownKeys", "_objectSpread", "_defineProperty", "_slicedToArray", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_arrayLikeToArray", "withUsage", "$$type", "connectRange", "formatToNumber", "getRefinedState", "createSendEvent", "ownKeys", "_objectSpread", "_defineProperty", "_objectWithoutProperties", "_objectWithoutPropertiesLoose", "withUsage", "DEFAULT_SORT", "connectRefinementList", "formatItems", "toggleShowMore", "searchForFacetValues", "createSearchForFacetValues", "triggerRefine", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "defaultQueryHook", "connectSearchBox", "_refine", "_clear", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "connectSortBy", "ownKeys", "_objectSpread", "_defineProperty", "withUsage", "$$type", "createSendEvent", "sendEventForToggle", "isRefined", "connectToggleRefinement", "toggleRefinementFactory", "import_react", "import_react", "import_react", "ownKeys", "_objectSpread", "onError", "import_react", "import_react", "_excluded", "handleClick", "React", "index", "_excluded", "ownKeys", "_objectSpread", "Breadcrumb", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "ownKeys", "_objectSpread", "ClearRefinements", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "CurrentRefinements", "React", "import_react", "import_react", "import_react", "_excluded", "React", "_excluded", "React", "_excluded", "ownKeys", "_objectSpread", "HierarchicalMenu", "React", "import_react", "import_react", "import_react", "_excluded", "React", "_excluded", "React", "_excluded", "Highlight", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "Hits", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "HitsPerPage", "isRefined", "React", "import_react", "import_react", "_excluded", "DefaultHitComponent", "React", "_excluded", "ownKeys", "_objectSpread", "InfiniteHits", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "ownKeys", "_objectSpread", "Menu", "React", "import_react", "import_react", "_excluded", "_excluded2", "React", "_excluded", "ownKeys", "_objectSpread", "Pagination", "React", "import_react", "import_react", "_excluded", "React", "PoweredBy", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "ownKeys", "_objectSpread", "RangeInput", "range", "React", "import_react", "import_react", "_excluded", "React", "import_react", "_excluded", "React", "_excluded", "ownKeys", "_objectSpread", "RefinementList", "React", "import_react", "_excluded", "ownKeys", "_objectSpread", "SearchBox", "React", "import_react", "import_react", "_excluded", "React", "_excluded", "Snippet", "React", "import_react", "import_react", "_excluded", "React", "onChange", "_excluded", "SortBy", "React", "import_react", "import_react", "_excluded", "React", "onChange", "_excluded", "ToggleRefinement", "React"]
}
