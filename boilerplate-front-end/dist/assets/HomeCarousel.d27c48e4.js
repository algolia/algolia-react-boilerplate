import{r,x,y as S,I as k,J as H,R as u,K as I,a as o,j as e,G as f,Q as E,E as P,H as W,U as N,aI as b,aJ as j,i as A,aP as R,aQ as T,aS as y,ab as F,F as w,aT as B,a1 as g,aU as J,aV as M}from"./index.84b31f96.js";const O=({hit:s,sendEvent:a})=>{const{objectID:n,image:l,productName:i,brand:d}=W,[m,h]=r.exports.useState(!1),[p,c]=r.exports.useState(!1),t=x(S),C=k(),v=x(H),_=u(I);return o("div",{className:"item",onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},children:[e("div",{className:`${m?"carousel__imageWrapper hovered":"carousel__imageWrapper"}`,children:e("img",{src:f(s,l),alt:f(s,i),onError:L=>L.currentTarget.src=placeHolderError})}),o("div",{className:"item__infos",children:[o("div",{className:"item__infos-up",onClick:()=>{v(s),C(`/search/product/${s[n]}`),a("click",s,"Homepage: Product clicked")},children:[e("p",{className:"brand",children:f(s,d)}),e("p",{className:"name",children:f(s,i)})]}),o("div",{className:"item__infos-down",children:[e("p",{className:"price",children:e(E,{hit:s})}),_&&e("div",{className:p?"cart cart-active":"cart",onClick:()=>{c(!0),setTimeout(()=>c(!1),300),t(s),a("conversion",s,"Homepage: Add to cart")},children:e(P,{})})]})]})]})},$=({context:s,title:a})=>{const n=u(N),l=u(b),i=u(j),d=x(A);return r.exports.useEffect(()=>d(!0),[]),e("div",{className:"home-carousel",children:o(R,{indexId:a,indexName:n,children:[e(T,{hitsPerPage:y,ruleContexts:s,optionalFilters:i.value,userToken:l.value,query:""}),e(Q,{title:a})]})})};function Q(s){const{hits:a,sendEvent:n}=F(s),{title:l}=s,[i,d]=r.exports.useState(0),[m,h]=r.exports.useState(!0),p=u(N),c=r.exports.useRef(),t=r.exports.useRef();return r.exports.useEffect(()=>{m||d(c.current.scrollWidth-c.current.offsetWidth)},[t]),r.exports.useEffect(()=>{a.length>0&&h(!1)},[a]),o(w,{children:[e("h3",{className:"title",children:l}),m?e(B,{type:"carousel"}):o(g.div,{ref:c,className:"carousel",children:[e("div",{className:"prevBtn",onClick:()=>{t.current.scrollLeft=0},children:e(J,{})}),e(g.div,{className:"inner-carousel",ref:t,children:a.map((C,v)=>e(O,{hit:C,index:p,sendEvent:n},v))}),e("div",{className:"nextBtn",onClick:()=>{t.current.scrollLeft=t.current.scrollWidth},children:e(M,{})})]})]})}export{$ as default};
