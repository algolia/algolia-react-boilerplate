import{ah as U,ai as H,al as T,ak as W,an as $,R as q,z as E,j as a,r as A,F as v,H as L}from"./index.84b31f96.js";function N(e){return G(e)||V(e)||z(e)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e,t){if(!!e){if(typeof e=="string")return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}}function V(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G(e){if(Array.isArray(e))return R(e)}function R(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(n){M(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=U({name:"current-refinements",connector:!0}),Q=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T;return H(t,O()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(O("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var c=n||{},u=c.includedAttributes,f=c.excludedAttributes,h=f===void 0?["query"]:f,l=c.transformItems,d=l===void 0?function(o){return o}:l;return{$$type:"ais.currentRefinements",init:function(i){var s=i.instantSearchInstance;t(p(p({},this.getWidgetRenderState(i)),{},{instantSearchInstance:s}),!0)},render:function(i){var s=i.instantSearchInstance;t(p(p({},this.getWidgetRenderState(i)),{},{instantSearchInstance:s}),!1)},dispose:function(){r()},getRenderState:function(i,s){return p(p({},i),{},{currentRefinements:this.getWidgetRenderState(s)})},getWidgetRenderState:function(i){var s=i.results,P=i.scopedResults,D=i.createURL,g=i.helper;function F(){return s?P.reduce(function(y,b){return y.concat(d(w({results:b.results,helper:b.helper,includedAttributes:u,excludedAttributes:h}),{results:s}))},[]):d(w({results:{},helper:g,includedAttributes:u,excludedAttributes:h}),{results:s})}var S=F();return{items:S,canRefine:S.length>0,refine:function(b){return C(g,b)},createURL:function(b){return D(j(g.state,b))},widgetParams:n}}}}};function w(e){var t=e.results,r=e.helper,n=e.includedAttributes,c=e.excludedAttributes,u=(n||[]).indexOf("query")!==-1||(c||[]).indexOf("query")===-1,f=n?function(l){return n.indexOf(l.attribute)!==-1}:function(l){return c.indexOf(l.attribute)===-1},h=W(t,r.state,u).map(B).filter(f);return h.reduce(function(l,d){return[].concat(N(l.filter(function(o){return o.attribute!==d.attribute})),[{indexName:r.state.index,attribute:d.attribute,label:d.attribute,refinements:h.filter(function(o){return o.attribute===d.attribute}).sort(function(o,i){return o.type==="numeric"?o.value-i.value:0}),refine:function(i){return C(r,i)}}])},[])}function j(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function C(e,t){e.setState(j(e.state,t)).search()}function K(e){switch(e){case">=":return"\u2265";case"<=":return"\u2264";default:return e}}function B(e){var t=J(e),r=e.operator?"".concat(K(e.operator)," ").concat(e.name):e.name,n={attribute:e.attribute,type:e.type,value:t,label:r};return e.operator!==void 0&&(n.operator=e.operator),e.count!==void 0&&(n.count=e.count),e.exhaustive!==void 0&&(n.exhaustive=e.exhaustive),n}function J(e){return e.type==="numeric"?Number(e.name):"escapedValue"in e?e.escapedValue:e.name}const X=Q;function I(e,t){return $(X,e,t)}const _=e=>e.split(";")[0];function Z(e){const{items:t,refine:r,createURL:n}=I(e),{colourHexa:c}=L;return q(E),a("div",{className:"refinement-container__refinements",children:t.map(u=>u.attribute.includes("price")?a(A.exports.Fragment,{children:u.items?a(v,{children:a(m,{item:u})}):a(v,{children:a(m,{item:u})})},u):u.attribute.includes(c)?a("li",{children:u.refinements?a(v,{children:a(m,{item:u,colourHexa:!0})}):a("a",{href:n(u.value),onClick:f=>{f.preventDefault(),r(u.value)},children:a("p",{children:_(u)})})},u.label):a(A.exports.Fragment,{children:u.items?a(v,{children:a(m,{item:u})}):a(m,{item:u})},u))})}function m(e){const{refine:t}=I(e),{item:r,colourHexa:n}=e;return a("ul",{className:"refinement-container__refinementsInner",children:r.refinements.map(c=>a("li",{children:a("a",{onClick:u=>{u.preventDefault(),t(c)},children:a("p",{children:n?_(c.label):c.label})})},c.label))})}export{Z as default};
