{
  "version": 3,
  "sources": ["../../instantsearch.js/es/connectors/stats/connectStats.js"],
  "sourcesContent": ["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { checkRendering, createDocumentationMessageGenerator, noop } from \"../../lib/utils/index.js\";\nvar withUsage = createDocumentationMessageGenerator({\n  name: 'stats',\n  connector: true\n});\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n */\n\nvar connectStats = function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  checkRendering(renderFn, withUsage());\n  return function (widgetParams) {\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n            state = _ref.state;\n\n        if (!results) {\n          return {\n            hitsPerPage: state.hitsPerPage,\n            nbHits: 0,\n            nbSortedHits: undefined,\n            areHitsSorted: false,\n            nbPages: 0,\n            page: state.page || 0,\n            processingTimeMS: -1,\n            query: state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbSortedHits: results.nbSortedHits,\n          areHitsSorted: typeof results.appliedRelevancyStrictness !== 'undefined' && results.appliedRelevancyStrictness > 0 && results.nbSortedHits !== results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n\nexport default connectStats;"],
  "mappings": "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",
  "names": ["connectStats"]
}
